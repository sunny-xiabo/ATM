2025-08-28 16:34:08 - root - INFO - Logging configured with level: INFO, file: logs/ai_test.log
2025-08-28 16:34:08 - src.utils.agent_io - INFO - 已加载test_designer的执行结果
2025-08-28 16:34:08 - src.agents.test_designer - INFO - 成功加载之前的测试设计结果
2025-08-28 16:34:08 - src.agents.test_case_writer - INFO - 测试用例编写代理初始化，设置并发工作线程数为: 1
2025-08-28 16:34:08 - src.utils.agent_io - WARNING - 找不到test_case_writer的结果文件: agent_results/test_case_writer_result.json
2025-08-28 16:34:08 - src.agents.quality_assurance - INFO - 质量保证代理初始化，并发工作线程数: 1
2025-08-28 16:34:35 - root - INFO - Logging configured with level: INFO, file: logs/ai_test.log
2025-08-28 16:34:35 - src.utils.agent_io - INFO - 已加载test_designer的执行结果
2025-08-28 16:34:35 - src.agents.test_designer - INFO - 成功加载之前的测试设计结果
2025-08-28 16:34:35 - src.agents.test_case_writer - INFO - 测试用例编写代理初始化，设置并发工作线程数为: 1
2025-08-28 16:34:35 - src.utils.agent_io - WARNING - 找不到test_case_writer的结果文件: agent_results/test_case_writer_result.json
2025-08-28 16:34:35 - src.agents.quality_assurance - INFO - 质量保证代理初始化，并发工作线程数: 1
2025-08-28 16:34:35 - src.utils.agent_io - WARNING - 找不到quality_assurance的结果文件: agent_results/quality_assurance_result.json
2025-08-28 16:34:56 - root - INFO - Logging configured with level: INFO, file: logs/ai_test.log
2025-08-28 16:34:56 - src.utils.agent_io - INFO - 已加载test_designer的执行结果
2025-08-28 16:34:56 - src.agents.test_designer - INFO - 成功加载之前的测试设计结果
2025-08-28 16:34:56 - src.agents.test_case_writer - INFO - 测试用例编写代理初始化，设置并发工作线程数为: 1
2025-08-28 16:34:56 - src.utils.agent_io - WARNING - 找不到test_case_writer的结果文件: agent_results/test_case_writer_result.json
2025-08-28 16:34:56 - src.agents.quality_assurance - INFO - 质量保证代理初始化，并发工作线程数: 1
2025-08-28 16:34:56 - src.utils.agent_io - WARNING - 找不到quality_assurance的结果文件: agent_results/quality_assurance_result.json
2025-08-28 16:34:56 - src.services.document_prcessor - ERROR - 处理docs/荣耀0827退回重填方案.pdf文档时出错: 不支持的文件格式: .pdf
2025-08-28 16:34:56 - __main__ - ERROR - 处理需求时出错：不支持的文件格式: .pdf
2025-08-28 16:36:07 - root - INFO - Logging configured with level: INFO, file: logs/ai_test.log
2025-08-28 16:36:07 - src.utils.agent_io - INFO - 已加载test_designer的执行结果
2025-08-28 16:36:07 - src.agents.test_designer - INFO - 成功加载之前的测试设计结果
2025-08-28 16:36:07 - src.agents.test_case_writer - INFO - 测试用例编写代理初始化，设置并发工作线程数为: 1
2025-08-28 16:36:07 - src.utils.agent_io - WARNING - 找不到test_case_writer的结果文件: agent_results/test_case_writer_result.json
2025-08-28 16:36:07 - src.agents.quality_assurance - INFO - 质量保证代理初始化，并发工作线程数: 1
2025-08-28 16:36:07 - src.utils.agent_io - WARNING - 找不到quality_assurance的结果文件: agent_results/quality_assurance_result.json
2025-08-28 16:36:07 - __main__ - INFO - 已处理需求文档：docs/荣耀0827退回重填方案.pdf
2025-08-28 16:36:07 - __main__ - INFO - 开始协调测试用例生成工作流程
2025-08-28 16:36:07 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:36:43 - src.agents.assistant - INFO - 开始协调测试任务流程
2025-08-28 16:36:43 - src.agents.assistant - ERROR - 工作流程协调错误: name 'RequirementAnalystAgent' is not defined
2025-08-28 16:36:43 - __main__ - ERROR - 工作流程协调时出错：name 'RequirementAnalystAgent' is not defined
2025-08-28 16:38:30 - root - INFO - Logging configured with level: INFO, file: logs/ai_test.log
2025-08-28 16:38:30 - src.utils.agent_io - INFO - 已加载test_designer的执行结果
2025-08-28 16:38:30 - src.agents.test_designer - INFO - 成功加载之前的测试设计结果
2025-08-28 16:38:30 - src.agents.test_case_writer - INFO - 测试用例编写代理初始化，设置并发工作线程数为: 1
2025-08-28 16:38:30 - src.utils.agent_io - WARNING - 找不到test_case_writer的结果文件: agent_results/test_case_writer_result.json
2025-08-28 16:38:30 - src.agents.quality_assurance - INFO - 质量保证代理初始化，并发工作线程数: 1
2025-08-28 16:38:30 - src.utils.agent_io - WARNING - 找不到quality_assurance的结果文件: agent_results/quality_assurance_result.json
2025-08-28 16:38:31 - __main__ - INFO - 已处理需求文档：docs/荣耀0827退回重填方案.pdf
2025-08-28 16:38:31 - __main__ - INFO - 开始协调测试用例生成工作流程
2025-08-28 16:38:31 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:39:15 - src.agents.assistant - INFO - 开始协调测试任务流程
2025-08-28 16:39:15 - src.agents.assistant - ERROR - 工作流程协调错误: No module named 'schemas'
2025-08-28 16:39:15 - __main__ - ERROR - 工作流程协调时出错：No module named 'schemas'
2025-08-28 16:41:02 - root - INFO - Logging configured with level: INFO, file: logs/ai_test.log
2025-08-28 16:41:02 - src.utils.agent_io - INFO - 已加载test_designer的执行结果
2025-08-28 16:41:02 - src.agents.test_designer - INFO - 成功加载之前的测试设计结果
2025-08-28 16:41:02 - src.agents.test_case_writer - INFO - 测试用例编写代理初始化，设置并发工作线程数为: 1
2025-08-28 16:41:02 - src.utils.agent_io - WARNING - 找不到test_case_writer的结果文件: agent_results/test_case_writer_result.json
2025-08-28 16:41:02 - src.agents.quality_assurance - INFO - 质量保证代理初始化，并发工作线程数: 1
2025-08-28 16:41:02 - src.utils.agent_io - WARNING - 找不到quality_assurance的结果文件: agent_results/quality_assurance_result.json
2025-08-28 16:41:03 - __main__ - INFO - 已处理需求文档：docs/荣耀0827退回重填方案.pdf
2025-08-28 16:41:03 - __main__ - INFO - 开始协调测试用例生成工作流程
2025-08-28 16:41:03 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:41:39 - src.agents.assistant - INFO - 开始协调测试任务流程
2025-08-28 16:41:39 - src.agents.assistant - INFO - 开始需求分析
2025-08-28 16:41:39 - src.agents.requirement_analyst - ERROR - 需求分析错误: name 'time' is not defined
2025-08-28 16:41:39 - src.agents.assistant - ERROR - 代理通信错误: name 'time' is not defined
2025-08-28 16:41:39 - src.agents.assistant - ERROR - 工作流程协调错误: {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'error_code': 'COMMUNICATION_ERROR', 'error_message': "name 'time' is not defined", 'details': None}
2025-08-28 16:41:39 - __main__ - ERROR - 工作流程协调时出错：{'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'error_code': 'COMMUNICATION_ERROR', 'error_message': "name 'time' is not defined", 'details': None}
2025-08-28 16:43:17 - root - INFO - Logging configured with level: INFO, file: logs/ai_test.log
2025-08-28 16:43:17 - src.utils.agent_io - INFO - 已加载test_designer的执行结果
2025-08-28 16:43:17 - src.agents.test_designer - INFO - 成功加载之前的测试设计结果
2025-08-28 16:43:17 - src.agents.test_case_writer - INFO - 测试用例编写代理初始化，设置并发工作线程数为: 1
2025-08-28 16:43:17 - src.utils.agent_io - WARNING - 找不到test_case_writer的结果文件: agent_results/test_case_writer_result.json
2025-08-28 16:43:17 - src.agents.quality_assurance - INFO - 质量保证代理初始化，并发工作线程数: 1
2025-08-28 16:43:17 - src.utils.agent_io - WARNING - 找不到quality_assurance的结果文件: agent_results/quality_assurance_result.json
2025-08-28 16:43:17 - __main__ - INFO - 已处理需求文档：docs/荣耀0827退回重填方案.pdf
2025-08-28 16:43:17 - __main__ - INFO - 开始协调测试用例生成工作流程
2025-08-28 16:43:18 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:43:51 - src.agents.assistant - INFO - 开始协调测试任务流程
2025-08-28 16:43:51 - src.agents.assistant - INFO - 开始需求分析
2025-08-28 16:43:51 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:44:21 - src.agents.requirement_analyst - INFO - AI响应内容: ```json
{
    "functional_requirements": [
        "集团用户可对审批通过的填报进行一键退回操作",
        "一键退回按钮仅在状态为审批通过且当前用户为超管时显示",
        "退回操作需要填写退回原因并清空历史审批意见",
        "退回后状态变为上级驳回，填报人需修改后重新提交",
        "流程从退回状态重新...
2025-08-28 16:44:21 - src.agents.requirement_analyst - INFO - 成功从JSON响应中提取分析结果
2025-08-28 16:44:21 - src.utils.agent_io - INFO - 已保存requirement_analyst的执行结果到agent_results/requirement_analyst_result.json
2025-08-28 16:44:21 - src.agents.assistant - INFO - 需求分析完成，结果: {'msg_type': 'requirement_analysis_response', 'version': '1.0', 'timestamp': None, 'functional_requirements': ['集团用户可对审批通过的填报进行一键退回操作', '一键退回按钮仅在状态为审批通过且当前用户为超管时显示', '退回操作需要填写退回原因并清空历史审批意见', '退回后状态变为上级驳回，填报人需修改后重新提交', '流程从退回状态重新开始新一轮审批流程', '组织边界进度管理和负责人设置功能', '搜索和筛选组织边界功能'], 'non_functional_requirements': ['系统响应时间应满足用户操作需求', '数据一致性保证退回操作前后的数据完整性', '权限控制确保只有超管可执行退回操作', '界面友好性要求操作流程清晰易懂'], 'test_scenarios': [{'id': 'TS001', 'description': '需要提供具体的测试场景', 'test_steps': []}], 'risk_areas': ['权限控制风险：超管权限验证不严格可能导致非授权操作', '数据一致性风险：退回操作可能导致数据状态不一致', '流程完整性风险：审批流程中断或状态转换错误', '用户体验风险：操作流程复杂可能导致用户误操作']}
2025-08-28 16:44:21 - src.agents.assistant - INFO - 当前进度: 2/4 - 当前阶段: 测试用例编写
2025-08-28 16:44:22 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:44:24 - src.agents.assistant - INFO - 用户确认消息: {'content': '正确。', 'role': 'user', 'name': 'coordinator'}
2025-08-28 16:44:24 - src.agents.assistant - INFO - 需求分析结果已确认正确，开始进行测试设计和用例编写
2025-08-28 16:44:24 - src.agents.assistant - INFO - 开始测试设计
2025-08-28 16:44:25 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:45:16 - src.agents.test_designer - INFO - AI响应内容: {'content': '{\n    "test_approach": {\n        "methodology": [\n            "功能测试：验证一键退回操作、状态转换、权限控制、数据清空和流程重启等功能是否符合需求",\n            "安全测试：检查超管权限验证、操作授权和数据访问控制",\n            "兼容性测试：确保在不同浏览器（Chrom...
2025-08-28 16:45:16 - src.agents.test_designer - ERROR - 测试设计错误: unterminated triple-quoted string literal (detected at line 111) (<unknown>, line 1)
2025-08-28 16:45:16 - src.agents.assistant - INFO - 测试设计原始结果: {'test_approach': {'methodology': [], 'tools': [], 'frameworks': []}, 'coverage_matrix': [], 'priorities': [], 'resource_estimation': {'time': None, 'personnel': None, 'tools': [], 'additional_resources': []}}
2025-08-28 16:45:16 - src.agents.assistant - INFO - 测试设计完成，结果: {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'test_approach': {'methodology': [], 'tools': [], 'frameworks': []}, 'coverage_matrix': [], 'priorities': [], 'resource_estimation': {'time': None, 'personnel': None, 'tools': [], 'additional_resources': []}}
2025-08-28 16:45:16 - src.agents.assistant - INFO - 测试设计结果已保存到代理实例中
2025-08-28 16:45:16 - src.agents.assistant - INFO - 当前进度: 2/4 - 当前阶段: 测试用例编写
2025-08-28 16:45:16 - src.agents.assistant - INFO - 传递给测试用例编写者的测试策略: {'test_strategy': {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'test_approach': {'methodology': [], 'tools': [], 'frameworks': []}, 'coverage_matrix': [], 'priorities': [], 'resource_estimation': {'time': None, 'personnel': None, 'tools': [], 'additional_resources': []}}}
2025-08-28 16:45:16 - src.agents.assistant - INFO - 开始测试用例编写
2025-08-28 16:45:16 - src.agents.test_case_writer - INFO - 没有覆盖矩阵和优先级信息，使用原方法生成测试用例
2025-08-28 16:45:16 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:45:50 - src.agents.test_case_writer - INFO - 成功从完整消息中解析出 5 个测试用例
2025-08-28 16:45:50 - src.agents.assistant - ERROR - 测试用例生成失败: name 'TestCase' is not defined
2025-08-28 16:45:50 - src.agents.assistant - INFO - 当前进度: 2/4 - 当前阶段: 测试用例编写
2025-08-28 16:45:50 - src.agents.assistant - INFO - 开始质量保证审查
2025-08-28 16:45:50 - src.agents.quality_assurance - WARNING - 输入的测试用例为空或格式不正确
2025-08-28 16:45:50 - src.agents.assistant - INFO - 质量保证审查完成，结果: {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'reviewed_cases': [], 'review_comments': []}
2025-08-28 16:45:50 - src.agents.test_case_writer - WARNING - 无效的测试用例输入
2025-08-28 16:45:50 - src.agents.assistant - INFO - 当前进度: 2/4 - 当前阶段: 测试用例编写
2025-08-28 16:45:50 - src.agents.assistant - INFO - 协调结果是字典类型: {'content': '正确。', 'role': 'assistant', 'name': 'coordinator'}
2025-08-28 16:45:50 - __main__ - INFO - 工作流程协调结果：{'status': 'completed', 'current_phase': 'completed', 'assigned_tasks': [], 'completed_tasks': ['需求分析', '测试设计', '测试用例编写', '质量保证'], 'next_steps': []}
2025-08-28 16:45:50 - __main__ - ERROR - 处理需求时出错：name 'AgentIO' is not defined
2025-08-28 16:52:12 - root - INFO - Logging configured with level: INFO, file: logs/ai_test.log
2025-08-28 16:52:12 - src.utils.agent_io - INFO - 已加载test_designer的执行结果
2025-08-28 16:52:12 - src.agents.test_designer - INFO - 成功加载之前的测试设计结果
2025-08-28 16:52:12 - src.agents.test_case_writer - INFO - 测试用例编写代理初始化，设置并发工作线程数为: 1
2025-08-28 16:52:12 - src.utils.agent_io - WARNING - 找不到test_case_writer的结果文件: agent_results/test_case_writer_result.json
2025-08-28 16:52:12 - src.agents.quality_assurance - INFO - 质量保证代理初始化，并发工作线程数: 1
2025-08-28 16:52:12 - src.utils.agent_io - WARNING - 找不到quality_assurance的结果文件: agent_results/quality_assurance_result.json
2025-08-28 16:52:13 - __main__ - INFO - 已处理需求文档：docs/荣耀0827退回重填方案.pdf
2025-08-28 16:52:13 - __main__ - INFO - 开始协调测试用例生成工作流程
2025-08-28 16:52:13 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:52:42 - src.agents.assistant - INFO - 开始协调测试任务流程
2025-08-28 16:52:42 - src.agents.assistant - INFO - 开始需求分析
2025-08-28 16:52:44 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:53:18 - src.agents.requirement_analyst - INFO - AI响应内容: {
    "functional_requirements": [
        "仅集团用户可执行一键退回操作",
        "一键退回按钮仅在状态=审批通过且当前用户=超管时显示",
        "退回操作必须填写退回原因",
        "退回后清空历史审批意见并重新开始审批流程",
        "退回后状态变为上级驳回，填报人修改后重新提交",
        "流程...
2025-08-28 16:53:18 - src.agents.requirement_analyst - INFO - 成功从JSON响应中提取分析结果
2025-08-28 16:53:18 - src.utils.agent_io - INFO - 已保存requirement_analyst的执行结果到agent_results/requirement_analyst_result.json
2025-08-28 16:53:18 - src.agents.assistant - INFO - 需求分析完成，结果: {'msg_type': 'requirement_analysis_response', 'version': '1.0', 'timestamp': None, 'functional_requirements': ['仅集团用户可执行一键退回操作', '一键退回按钮仅在状态=审批通过且当前用户=超管时显示', '退回操作必须填写退回原因', '退回后清空历史审批意见并重新开始审批流程', '退回后状态变为上级驳回，填报人修改后重新提交', '流程从退回→上级审批中开始新一轮审批', '一键退回只在叶子节点展示入口', '组织边界负责人设置和分配功能', '组织边界进度查看和搜索功能', '任务状态筛选和查看功能'], 'non_functional_requirements': ['权限控制：确保只有集团超管才能执行退回操作', '数据一致性：退回操作需保证数据完整性和一致性', '性能要求：退回操作响应时间应在合理范围内', '用户体验：界面操作流畅，提示信息清晰明确'], 'test_scenarios': [{'id': 'TS001', 'description': '需要提供具体的测试场景', 'test_steps': []}], 'risk_areas': ['权限控制风险：可能存在权限绕过漏洞', '数据一致性风险：退回操作可能导致数据不一致', '并发操作风险：多用户同时操作可能产生冲突', '流程状态管理风险：状态转换可能出错', '用户体验风险：操作流程复杂可能导致用户误操作']}
2025-08-28 16:53:18 - src.agents.assistant - INFO - 当前进度: 2/4 - 当前阶段: 测试用例编写
2025-08-28 16:53:18 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:53:21 - src.agents.assistant - INFO - 用户确认消息: {'content': '正确', 'role': 'user', 'name': 'coordinator'}
2025-08-28 16:53:21 - src.agents.assistant - INFO - 需求分析结果已确认正确，开始进行测试设计和用例编写
2025-08-28 16:53:21 - src.agents.assistant - INFO - 开始测试设计
2025-08-28 16:53:21 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:54:24 - src.agents.test_designer - INFO - AI响应内容: {'content': '\n```json\n{\n    "test_approach": {\n        "methodology": [\n            "功能测试：验证一键退回操作的所有功能需求，包括权限控制、状态转换、数据清理和流程重启",\n            "安全测试：重点测试权限绕过漏洞，确保只有集团超管才能执行退回操作",\n            "性能...
2025-08-28 16:54:24 - src.agents.test_designer - INFO - 成功从JSON响应中提取测试策略
2025-08-28 16:54:24 - src.utils.agent_io - INFO - 已保存test_designer的执行结果到agent_results/test_designer_result.json
2025-08-28 16:54:24 - src.agents.test_designer - INFO - 测试设计完成
2025-08-28 16:54:24 - src.agents.assistant - INFO - 测试设计原始结果: {'test_approach': {'methodology': ['功能测试：验证一键退回操作的所有功能需求，包括权限控制、状态转换、数据清理和流程重启', '安全测试：重点测试权限绕过漏洞，确保只有集团超管才能执行退回操作', '性能测试：测试退回操作的响应时间和系统资源消耗，确保在合理范围内', '兼容性测试：验证系统在不同浏览器、操作系统和设备上的兼容性', '可用性测试：评估用户界面操作的流畅性和提示信息的清晰度'], 'tools': ['Selenium WebDriver', 'JMeter', 'Postman', 'OWASP ZAP', 'BrowserStack'], 'frameworks': ['TestNG', 'JUnit', 'Cucumber', 'Allure报告框架']}, 'coverage_matrix': [{'feature': '仅集团用户可执行一键退回操作', 'test_type': '功能测试、安全测试'}, {'feature': '一键退回按钮仅在状态=审批通过且当前用户=超管时显示', 'test_type': '功能测试、UI测试'}, {'feature': '退回操作必须填写退回原因', 'test_type': '功能测试、验证测试'}, {'feature': '退回后清空历史审批意见并重新开始审批流程', 'test_type': '功能测试、数据完整性测试'}, {'feature': '退回后状态变为上级驳回，填报人修改后重新提交', 'test_type': '功能测试、流程测试'}, {'feature': '流程从退回→上级审批中开始新一轮审批', 'test_type': '功能测试、流程测试'}, {'feature': '一键退回只在叶子节点展示入口', 'test_type': '功能测试、UI测试'}, {'feature': '组织边界负责人设置和分配功能', 'test_type': '功能测试、配置测试'}, {'feature': '组织边界进度查看和搜索功能', 'test_type': '功能测试、搜索测试'}, {'feature': '任务状态筛选和查看功能', 'test_type': '功能测试、筛选测试'}, {'feature': '权限控制：确保只有集团超管才能执行退回操作', 'test_type': '安全测试、权限测试'}, {'feature': '数据一致性：退回操作需保证数据完整性和一致性', 'test_type': '数据完整性测试、数据库测试'}, {'feature': '性能要求：退回操作响应时间应在合理范围内', 'test_type': '性能测试、负载测试'}, {'feature': '用户体验：界面操作流畅，提示信息清晰明确', 'test_type': '可用性测试、UI测试'}, {'feature': 'TS001测试场景覆盖', 'test_type': '端到端测试、场景测试'}, {'feature': '权限控制风险：可能存在权限绕过漏洞', 'test_type': '安全测试、渗透测试'}, {'feature': '数据一致性风险：退回操作可能导致数据不一致', 'test_type': '数据完整性测试、事务测试'}, {'feature': '并发操作风险：多用户同时操作可能产生冲突', 'test_type': '并发测试、压力测试'}, {'feature': '流程状态管理风险：状态转换可能出错', 'test_type': '状态转换测试、流程测试'}, {'feature': '用户体验风险：操作流程复杂可能导致用户误操作', 'test_type': '可用性测试、用户验收测试'}], 'priorities': [{'level': 'P0', 'description': '一键退回操作的权限控制和安全性，数据一致性保障，核心审批流程的正确性'}, {'level': 'P1', 'description': '退回操作的功能完整性，状态转换正确性，审批流程重启功能'}, {'level': 'P2', 'description': '组织边界管理功能，进度查看和搜索功能，任务状态筛选功能'}, {'level': 'P3', 'description': '界面操作流畅性，提示信息清晰度，用户体验优化'}, {'level': 'P4', 'description': '边缘场景测试，极端条件测试，辅助功能测试'}], 'resource_estimation': {'time': '3-4周（包括测试设计、执行、回归和报告）', 'personnel': '2名功能测试工程师，1名安全测试工程师，1名性能测试工程师', 'tools': ['Selenium', 'JMeter', 'Postman', 'OWASP ZAP', 'BrowserStack', 'JIRA'], 'additional_resources': ['测试环境服务器', '多种浏览器和设备用于兼容性测试', '性能测试监控工具']}}
2025-08-28 16:54:24 - src.agents.assistant - INFO - 测试设计完成，结果: {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'test_approach': {'methodology': ['功能测试：验证一键退回操作的所有功能需求，包括权限控制、状态转换、数据清理和流程重启', '安全测试：重点测试权限绕过漏洞，确保只有集团超管才能执行退回操作', '性能测试：测试退回操作的响应时间和系统资源消耗，确保在合理范围内', '兼容性测试：验证系统在不同浏览器、操作系统和设备上的兼容性', '可用性测试：评估用户界面操作的流畅性和提示信息的清晰度'], 'tools': ['Selenium WebDriver', 'JMeter', 'Postman', 'OWASP ZAP', 'BrowserStack'], 'frameworks': ['TestNG', 'JUnit', 'Cucumber', 'Allure报告框架']}, 'coverage_matrix': [{'feature': '仅集团用户可执行一键退回操作', 'test_type': '功能测试、安全测试'}, {'feature': '一键退回按钮仅在状态=审批通过且当前用户=超管时显示', 'test_type': '功能测试、UI测试'}, {'feature': '退回操作必须填写退回原因', 'test_type': '功能测试、验证测试'}, {'feature': '退回后清空历史审批意见并重新开始审批流程', 'test_type': '功能测试、数据完整性测试'}, {'feature': '退回后状态变为上级驳回，填报人修改后重新提交', 'test_type': '功能测试、流程测试'}, {'feature': '流程从退回→上级审批中开始新一轮审批', 'test_type': '功能测试、流程测试'}, {'feature': '一键退回只在叶子节点展示入口', 'test_type': '功能测试、UI测试'}, {'feature': '组织边界负责人设置和分配功能', 'test_type': '功能测试、配置测试'}, {'feature': '组织边界进度查看和搜索功能', 'test_type': '功能测试、搜索测试'}, {'feature': '任务状态筛选和查看功能', 'test_type': '功能测试、筛选测试'}, {'feature': '权限控制：确保只有集团超管才能执行退回操作', 'test_type': '安全测试、权限测试'}, {'feature': '数据一致性：退回操作需保证数据完整性和一致性', 'test_type': '数据完整性测试、数据库测试'}, {'feature': '性能要求：退回操作响应时间应在合理范围内', 'test_type': '性能测试、负载测试'}, {'feature': '用户体验：界面操作流畅，提示信息清晰明确', 'test_type': '可用性测试、UI测试'}, {'feature': 'TS001测试场景覆盖', 'test_type': '端到端测试、场景测试'}, {'feature': '权限控制风险：可能存在权限绕过漏洞', 'test_type': '安全测试、渗透测试'}, {'feature': '数据一致性风险：退回操作可能导致数据不一致', 'test_type': '数据完整性测试、事务测试'}, {'feature': '并发操作风险：多用户同时操作可能产生冲突', 'test_type': '并发测试、压力测试'}, {'feature': '流程状态管理风险：状态转换可能出错', 'test_type': '状态转换测试、流程测试'}, {'feature': '用户体验风险：操作流程复杂可能导致用户误操作', 'test_type': '可用性测试、用户验收测试'}], 'priorities': [{'level': 'P0', 'description': '一键退回操作的权限控制和安全性，数据一致性保障，核心审批流程的正确性'}, {'level': 'P1', 'description': '退回操作的功能完整性，状态转换正确性，审批流程重启功能'}, {'level': 'P2', 'description': '组织边界管理功能，进度查看和搜索功能，任务状态筛选功能'}, {'level': 'P3', 'description': '界面操作流畅性，提示信息清晰度，用户体验优化'}, {'level': 'P4', 'description': '边缘场景测试，极端条件测试，辅助功能测试'}], 'resource_estimation': {'time': '3-4周（包括测试设计、执行、回归和报告）', 'personnel': '2名功能测试工程师，1名安全测试工程师，1名性能测试工程师', 'tools': ['Selenium', 'JMeter', 'Postman', 'OWASP ZAP', 'BrowserStack', 'JIRA'], 'additional_resources': ['测试环境服务器', '多种浏览器和设备用于兼容性测试', '性能测试监控工具']}}
2025-08-28 16:54:24 - src.agents.assistant - INFO - 测试设计结果已保存到代理实例中
2025-08-28 16:54:24 - src.agents.assistant - INFO - 当前进度: 2/4 - 当前阶段: 测试用例编写
2025-08-28 16:54:24 - src.agents.assistant - INFO - 传递给测试用例编写者的测试策略: {'test_strategy': {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'test_approach': {'methodology': ['功能测试：验证一键退回操作的所有功能需求，包括权限控制、状态转换、数据清理和流程重启', '安全测试：重点测试权限绕过漏洞，确保只有集团超管才能执行退回操作', '性能测试：测试退回操作的响应时间和系统资源消耗，确保在合理范围内', '兼容性测试：验证系统在不同浏览器、操作系统和设备上的兼容性', '可用性测试：评估用户界面操作的流畅性和提示信息的清晰度'], 'tools': ['Selenium WebDriver', 'JMeter', 'Postman', 'OWASP ZAP', 'BrowserStack'], 'frameworks': ['TestNG', 'JUnit', 'Cucumber', 'Allure报告框架']}, 'coverage_matrix': [{'feature': '仅集团用户可执行一键退回操作', 'test_type': '功能测试、安全测试'}, {'feature': '一键退回按钮仅在状态=审批通过且当前用户=超管时显示', 'test_type': '功能测试、UI测试'}, {'feature': '退回操作必须填写退回原因', 'test_type': '功能测试、验证测试'}, {'feature': '退回后清空历史审批意见并重新开始审批流程', 'test_type': '功能测试、数据完整性测试'}, {'feature': '退回后状态变为上级驳回，填报人修改后重新提交', 'test_type': '功能测试、流程测试'}, {'feature': '流程从退回→上级审批中开始新一轮审批', 'test_type': '功能测试、流程测试'}, {'feature': '一键退回只在叶子节点展示入口', 'test_type': '功能测试、UI测试'}, {'feature': '组织边界负责人设置和分配功能', 'test_type': '功能测试、配置测试'}, {'feature': '组织边界进度查看和搜索功能', 'test_type': '功能测试、搜索测试'}, {'feature': '任务状态筛选和查看功能', 'test_type': '功能测试、筛选测试'}, {'feature': '权限控制：确保只有集团超管才能执行退回操作', 'test_type': '安全测试、权限测试'}, {'feature': '数据一致性：退回操作需保证数据完整性和一致性', 'test_type': '数据完整性测试、数据库测试'}, {'feature': '性能要求：退回操作响应时间应在合理范围内', 'test_type': '性能测试、负载测试'}, {'feature': '用户体验：界面操作流畅，提示信息清晰明确', 'test_type': '可用性测试、UI测试'}, {'feature': 'TS001测试场景覆盖', 'test_type': '端到端测试、场景测试'}, {'feature': '权限控制风险：可能存在权限绕过漏洞', 'test_type': '安全测试、渗透测试'}, {'feature': '数据一致性风险：退回操作可能导致数据不一致', 'test_type': '数据完整性测试、事务测试'}, {'feature': '并发操作风险：多用户同时操作可能产生冲突', 'test_type': '并发测试、压力测试'}, {'feature': '流程状态管理风险：状态转换可能出错', 'test_type': '状态转换测试、流程测试'}, {'feature': '用户体验风险：操作流程复杂可能导致用户误操作', 'test_type': '可用性测试、用户验收测试'}], 'priorities': [{'level': 'P0', 'description': '一键退回操作的权限控制和安全性，数据一致性保障，核心审批流程的正确性'}, {'level': 'P1', 'description': '退回操作的功能完整性，状态转换正确性，审批流程重启功能'}, {'level': 'P2', 'description': '组织边界管理功能，进度查看和搜索功能，任务状态筛选功能'}, {'level': 'P3', 'description': '界面操作流畅性，提示信息清晰度，用户体验优化'}, {'level': 'P4', 'description': '边缘场景测试，极端条件测试，辅助功能测试'}], 'resource_estimation': {'time': '3-4周（包括测试设计、执行、回归和报告）', 'personnel': '2名功能测试工程师，1名安全测试工程师，1名性能测试工程师', 'tools': ['Selenium', 'JMeter', 'Postman', 'OWASP ZAP', 'BrowserStack', 'JIRA'], 'additional_resources': ['测试环境服务器', '多种浏览器和设备用于兼容性测试', '性能测试监控工具']}}}
2025-08-28 16:54:24 - src.agents.assistant - INFO - 开始测试用例编写
2025-08-28 16:54:24 - src.agents.test_case_writer - INFO - 将按20个功能点分配生成测试用例
2025-08-28 16:54:24 - src.agents.test_case_writer - INFO - 使用顺序方式处理功能点
2025-08-28 16:54:24 - src.agents.test_case_writer - INFO - 开始为功能点'仅集团用户可执行一键退回操作'生成测试用例，第1/20个
2025-08-28 16:54:24 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:55:10 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 4 个测试用例
2025-08-28 16:55:10 - src.agents.test_case_writer - INFO - 成功为功能点 '仅集团用户可执行一键退回操作' 生成 4 个测试用例
2025-08-28 16:55:10 - src.agents.test_case_writer - INFO - 为功能点'仅集团用户可执行一键退回操作'生成了 4 个测试用例
2025-08-28 16:55:10 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_1的执行结果到agent_results/test_case_writer_feature_1_result.json
2025-08-28 16:55:10 - src.agents.test_case_writer - INFO - 已保存功能点：'仅集团用户可执行一键退回操作'的测试用例生成结果
2025-08-28 16:55:10 - src.agents.test_case_writer - INFO - 开始为功能点'一键退回按钮仅在状态=审批通过且当前用户=超管时显示'生成测试用例，第2/20个
2025-08-28 16:55:10 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:56:08 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-28 16:56:08 - src.agents.test_case_writer - INFO - 成功为功能点 '一键退回按钮仅在状态=审批通过且当前用户=超管时显示' 生成 6 个测试用例
2025-08-28 16:56:08 - src.agents.test_case_writer - INFO - 为功能点'一键退回按钮仅在状态=审批通过且当前用户=超管时显示'生成了 6 个测试用例
2025-08-28 16:56:08 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_2的执行结果到agent_results/test_case_writer_feature_2_result.json
2025-08-28 16:56:08 - src.agents.test_case_writer - INFO - 已保存功能点：'一键退回按钮仅在状态=审批通过且当前用户=超管时显示'的测试用例生成结果
2025-08-28 16:56:08 - src.agents.test_case_writer - INFO - 开始为功能点'退回操作必须填写退回原因'生成测试用例，第3/20个
2025-08-28 16:56:08 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:57:11 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-28 16:57:11 - src.agents.test_case_writer - INFO - 成功为功能点 '退回操作必须填写退回原因' 生成 6 个测试用例
2025-08-28 16:57:11 - src.agents.test_case_writer - INFO - 为功能点'退回操作必须填写退回原因'生成了 6 个测试用例
2025-08-28 16:57:11 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_3的执行结果到agent_results/test_case_writer_feature_3_result.json
2025-08-28 16:57:11 - src.agents.test_case_writer - INFO - 已保存功能点：'退回操作必须填写退回原因'的测试用例生成结果
2025-08-28 16:57:11 - src.agents.test_case_writer - INFO - 开始为功能点'退回后清空历史审批意见并重新开始审批流程'生成测试用例，第4/20个
2025-08-28 16:57:11 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:58:24 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 7 个测试用例
2025-08-28 16:58:24 - src.agents.test_case_writer - INFO - 成功为功能点 '退回后清空历史审批意见并重新开始审批流程' 生成 7 个测试用例
2025-08-28 16:58:24 - src.agents.test_case_writer - INFO - 为功能点'退回后清空历史审批意见并重新开始审批流程'生成了 7 个测试用例
2025-08-28 16:58:24 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_4的执行结果到agent_results/test_case_writer_feature_4_result.json
2025-08-28 16:58:24 - src.agents.test_case_writer - INFO - 已保存功能点：'退回后清空历史审批意见并重新开始审批流程'的测试用例生成结果
2025-08-28 16:58:24 - src.agents.test_case_writer - INFO - 开始为功能点'退回后状态变为上级驳回，填报人修改后重新提交'生成测试用例，第5/20个
2025-08-28 16:58:24 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 16:59:26 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-28 16:59:26 - src.agents.test_case_writer - INFO - 成功为功能点 '退回后状态变为上级驳回，填报人修改后重新提交' 生成 6 个测试用例
2025-08-28 16:59:26 - src.agents.test_case_writer - INFO - 为功能点'退回后状态变为上级驳回，填报人修改后重新提交'生成了 6 个测试用例
2025-08-28 16:59:26 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_5的执行结果到agent_results/test_case_writer_feature_5_result.json
2025-08-28 16:59:26 - src.agents.test_case_writer - INFO - 已保存功能点：'退回后状态变为上级驳回，填报人修改后重新提交'的测试用例生成结果
2025-08-28 16:59:26 - src.agents.test_case_writer - INFO - 开始为功能点'流程从退回→上级审批中开始新一轮审批'生成测试用例，第6/20个
2025-08-28 16:59:26 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:00:39 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 7 个测试用例
2025-08-28 17:00:39 - src.agents.test_case_writer - INFO - 成功为功能点 '流程从退回→上级审批中开始新一轮审批' 生成 7 个测试用例
2025-08-28 17:00:39 - src.agents.test_case_writer - INFO - 为功能点'流程从退回→上级审批中开始新一轮审批'生成了 7 个测试用例
2025-08-28 17:00:39 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_6的执行结果到agent_results/test_case_writer_feature_6_result.json
2025-08-28 17:00:39 - src.agents.test_case_writer - INFO - 已保存功能点：'流程从退回→上级审批中开始新一轮审批'的测试用例生成结果
2025-08-28 17:00:39 - src.agents.test_case_writer - INFO - 开始为功能点'一键退回只在叶子节点展示入口'生成测试用例，第7/20个
2025-08-28 17:00:39 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:01:38 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-28 17:01:38 - src.agents.test_case_writer - INFO - 成功为功能点 '一键退回只在叶子节点展示入口' 生成 6 个测试用例
2025-08-28 17:01:38 - src.agents.test_case_writer - INFO - 为功能点'一键退回只在叶子节点展示入口'生成了 6 个测试用例
2025-08-28 17:01:38 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_7的执行结果到agent_results/test_case_writer_feature_7_result.json
2025-08-28 17:01:38 - src.agents.test_case_writer - INFO - 已保存功能点：'一键退回只在叶子节点展示入口'的测试用例生成结果
2025-08-28 17:01:38 - src.agents.test_case_writer - INFO - 开始为功能点'组织边界负责人设置和分配功能'生成测试用例，第8/20个
2025-08-28 17:01:38 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:02:39 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-28 17:02:39 - src.agents.test_case_writer - INFO - 成功为功能点 '组织边界负责人设置和分配功能' 生成 6 个测试用例
2025-08-28 17:02:39 - src.agents.test_case_writer - INFO - 为功能点'组织边界负责人设置和分配功能'生成了 6 个测试用例
2025-08-28 17:02:39 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_8的执行结果到agent_results/test_case_writer_feature_8_result.json
2025-08-28 17:02:39 - src.agents.test_case_writer - INFO - 已保存功能点：'组织边界负责人设置和分配功能'的测试用例生成结果
2025-08-28 17:02:39 - src.agents.test_case_writer - INFO - 开始为功能点'组织边界进度查看和搜索功能'生成测试用例，第9/20个
2025-08-28 17:02:39 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:03:42 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 5 个测试用例
2025-08-28 17:03:42 - src.agents.test_case_writer - INFO - 成功为功能点 '组织边界进度查看和搜索功能' 生成 5 个测试用例
2025-08-28 17:03:42 - src.agents.test_case_writer - INFO - 为功能点'组织边界进度查看和搜索功能'生成了 5 个测试用例
2025-08-28 17:03:42 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_9的执行结果到agent_results/test_case_writer_feature_9_result.json
2025-08-28 17:03:42 - src.agents.test_case_writer - INFO - 已保存功能点：'组织边界进度查看和搜索功能'的测试用例生成结果
2025-08-28 17:03:42 - src.agents.test_case_writer - INFO - 开始为功能点'任务状态筛选和查看功能'生成测试用例，第10/20个
2025-08-28 17:03:42 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:04:43 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-28 17:04:43 - src.agents.test_case_writer - INFO - 成功为功能点 '任务状态筛选和查看功能' 生成 6 个测试用例
2025-08-28 17:04:43 - src.agents.test_case_writer - INFO - 为功能点'任务状态筛选和查看功能'生成了 6 个测试用例
2025-08-28 17:04:43 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_10的执行结果到agent_results/test_case_writer_feature_10_result.json
2025-08-28 17:04:43 - src.agents.test_case_writer - INFO - 已保存功能点：'任务状态筛选和查看功能'的测试用例生成结果
2025-08-28 17:04:43 - src.agents.test_case_writer - INFO - 开始为功能点'权限控制：确保只有集团超管才能执行退回操作'生成测试用例，第11/20个
2025-08-28 17:04:44 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:05:31 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 4 个测试用例
2025-08-28 17:05:31 - src.agents.test_case_writer - INFO - 成功为功能点 '权限控制：确保只有集团超管才能执行退回操作' 生成 4 个测试用例
2025-08-28 17:05:31 - src.agents.test_case_writer - INFO - 为功能点'权限控制：确保只有集团超管才能执行退回操作'生成了 4 个测试用例
2025-08-28 17:05:31 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_11的执行结果到agent_results/test_case_writer_feature_11_result.json
2025-08-28 17:05:31 - src.agents.test_case_writer - INFO - 已保存功能点：'权限控制：确保只有集团超管才能执行退回操作'的测试用例生成结果
2025-08-28 17:05:31 - src.agents.test_case_writer - INFO - 开始为功能点'数据一致性：退回操作需保证数据完整性和一致性'生成测试用例，第12/20个
2025-08-28 17:05:31 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:06:24 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 4 个测试用例
2025-08-28 17:06:24 - src.agents.test_case_writer - INFO - 成功为功能点 '数据一致性：退回操作需保证数据完整性和一致性' 生成 4 个测试用例
2025-08-28 17:06:24 - src.agents.test_case_writer - INFO - 为功能点'数据一致性：退回操作需保证数据完整性和一致性'生成了 4 个测试用例
2025-08-28 17:06:24 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_12的执行结果到agent_results/test_case_writer_feature_12_result.json
2025-08-28 17:06:24 - src.agents.test_case_writer - INFO - 已保存功能点：'数据一致性：退回操作需保证数据完整性和一致性'的测试用例生成结果
2025-08-28 17:06:24 - src.agents.test_case_writer - INFO - 开始为功能点'性能要求：退回操作响应时间应在合理范围内'生成测试用例，第13/20个
2025-08-28 17:06:24 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:07:11 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 3 个测试用例
2025-08-28 17:07:11 - src.agents.test_case_writer - INFO - 成功为功能点 '性能要求：退回操作响应时间应在合理范围内' 生成 3 个测试用例
2025-08-28 17:07:11 - src.agents.test_case_writer - INFO - 为功能点'性能要求：退回操作响应时间应在合理范围内'生成了 3 个测试用例
2025-08-28 17:07:11 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_13的执行结果到agent_results/test_case_writer_feature_13_result.json
2025-08-28 17:07:11 - src.agents.test_case_writer - INFO - 已保存功能点：'性能要求：退回操作响应时间应在合理范围内'的测试用例生成结果
2025-08-28 17:07:11 - src.agents.test_case_writer - INFO - 开始为功能点'用户体验：界面操作流畅，提示信息清晰明确'生成测试用例，第14/20个
2025-08-28 17:07:11 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:08:09 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 5 个测试用例
2025-08-28 17:08:09 - src.agents.test_case_writer - INFO - 成功为功能点 '用户体验：界面操作流畅，提示信息清晰明确' 生成 5 个测试用例
2025-08-28 17:08:09 - src.agents.test_case_writer - INFO - 为功能点'用户体验：界面操作流畅，提示信息清晰明确'生成了 5 个测试用例
2025-08-28 17:08:09 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_14的执行结果到agent_results/test_case_writer_feature_14_result.json
2025-08-28 17:08:09 - src.agents.test_case_writer - INFO - 已保存功能点：'用户体验：界面操作流畅，提示信息清晰明确'的测试用例生成结果
2025-08-28 17:08:09 - src.agents.test_case_writer - INFO - 开始为功能点'TS001测试场景覆盖'生成测试用例，第15/20个
2025-08-28 17:08:09 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:09:13 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-28 17:09:13 - src.agents.test_case_writer - INFO - 成功为功能点 'TS001测试场景覆盖' 生成 6 个测试用例
2025-08-28 17:09:13 - src.agents.test_case_writer - INFO - 为功能点'TS001测试场景覆盖'生成了 6 个测试用例
2025-08-28 17:09:13 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_15的执行结果到agent_results/test_case_writer_feature_15_result.json
2025-08-28 17:09:13 - src.agents.test_case_writer - INFO - 已保存功能点：'TS001测试场景覆盖'的测试用例生成结果
2025-08-28 17:09:13 - src.agents.test_case_writer - INFO - 开始为功能点'权限控制风险：可能存在权限绕过漏洞'生成测试用例，第16/20个
2025-08-28 17:09:13 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:09:54 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 4 个测试用例
2025-08-28 17:09:54 - src.agents.test_case_writer - INFO - 成功为功能点 '权限控制风险：可能存在权限绕过漏洞' 生成 4 个测试用例
2025-08-28 17:09:54 - src.agents.test_case_writer - INFO - 为功能点'权限控制风险：可能存在权限绕过漏洞'生成了 4 个测试用例
2025-08-28 17:09:54 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_16的执行结果到agent_results/test_case_writer_feature_16_result.json
2025-08-28 17:09:54 - src.agents.test_case_writer - INFO - 已保存功能点：'权限控制风险：可能存在权限绕过漏洞'的测试用例生成结果
2025-08-28 17:09:54 - src.agents.test_case_writer - INFO - 开始为功能点'数据一致性风险：退回操作可能导致数据不一致'生成测试用例，第17/20个
2025-08-28 17:09:54 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:10:38 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 4 个测试用例
2025-08-28 17:10:38 - src.agents.test_case_writer - INFO - 成功为功能点 '数据一致性风险：退回操作可能导致数据不一致' 生成 4 个测试用例
2025-08-28 17:10:38 - src.agents.test_case_writer - INFO - 为功能点'数据一致性风险：退回操作可能导致数据不一致'生成了 4 个测试用例
2025-08-28 17:10:38 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_17的执行结果到agent_results/test_case_writer_feature_17_result.json
2025-08-28 17:10:38 - src.agents.test_case_writer - INFO - 已保存功能点：'数据一致性风险：退回操作可能导致数据不一致'的测试用例生成结果
2025-08-28 17:10:38 - src.agents.test_case_writer - INFO - 开始为功能点'并发操作风险：多用户同时操作可能产生冲突'生成测试用例，第18/20个
2025-08-28 17:10:38 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:11:41 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 4 个测试用例
2025-08-28 17:11:41 - src.agents.test_case_writer - INFO - 成功为功能点 '并发操作风险：多用户同时操作可能产生冲突' 生成 4 个测试用例
2025-08-28 17:11:41 - src.agents.test_case_writer - INFO - 为功能点'并发操作风险：多用户同时操作可能产生冲突'生成了 4 个测试用例
2025-08-28 17:11:41 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_18的执行结果到agent_results/test_case_writer_feature_18_result.json
2025-08-28 17:11:41 - src.agents.test_case_writer - INFO - 已保存功能点：'并发操作风险：多用户同时操作可能产生冲突'的测试用例生成结果
2025-08-28 17:11:41 - src.agents.test_case_writer - INFO - 开始为功能点'流程状态管理风险：状态转换可能出错'生成测试用例，第19/20个
2025-08-28 17:11:41 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:12:41 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 5 个测试用例
2025-08-28 17:12:41 - src.agents.test_case_writer - INFO - 成功为功能点 '流程状态管理风险：状态转换可能出错' 生成 5 个测试用例
2025-08-28 17:12:41 - src.agents.test_case_writer - INFO - 为功能点'流程状态管理风险：状态转换可能出错'生成了 5 个测试用例
2025-08-28 17:12:41 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_19的执行结果到agent_results/test_case_writer_feature_19_result.json
2025-08-28 17:12:41 - src.agents.test_case_writer - INFO - 已保存功能点：'流程状态管理风险：状态转换可能出错'的测试用例生成结果
2025-08-28 17:12:41 - src.agents.test_case_writer - INFO - 开始为功能点'用户体验风险：操作流程复杂可能导致用户误操作'生成测试用例，第20/20个
2025-08-28 17:12:41 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 5 个测试用例
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 成功为功能点 '用户体验风险：操作流程复杂可能导致用户误操作' 生成 5 个测试用例
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 为功能点'用户体验风险：操作流程复杂可能导致用户误操作'生成了 5 个测试用例
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_20的执行结果到agent_results/test_case_writer_feature_20_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已保存功能点：'用户体验风险：操作流程复杂可能导致用户误操作'的测试用例生成结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 测试覆盖矩阵测试点总数: 20
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已覆盖测试点数量: 20
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 测试用例生成完成，共生成 103 个测试用例
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已保存test_case_writer的执行结果到agent_results/test_case_writer_result.json
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_1的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 1 的测试用例，共 4 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_2的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 2 的测试用例，共 6 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_3的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 3 的测试用例，共 6 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_4的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 4 的测试用例，共 7 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_5的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 5 的测试用例，共 6 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_6的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 6 的测试用例，共 7 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_7的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 7 的测试用例，共 6 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_8的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 8 的测试用例，共 6 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_9的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 9 的测试用例，共 5 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_10的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 10 的测试用例，共 6 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_11的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 11 的测试用例，共 4 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_12的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 12 的测试用例，共 4 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_13的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 13 的测试用例，共 3 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_14的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 14 的测试用例，共 5 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_15的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 15 的测试用例，共 6 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_16的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 16 的测试用例，共 4 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_17的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 17 的测试用例，共 4 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_18的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 18 的测试用例，共 4 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_19的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 19 的测试用例，共 5 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_20的执行结果
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已加载功能点 20 的测试用例，共 5 个
2025-08-28 17:13:49 - src.utils.agent_io - INFO - 已保存test_case_writer的执行结果到agent_results/test_case_writer_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已合并所有功能点的测试用例，共 103 个
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_1_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_2_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_3_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_4_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_5_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_6_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_7_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_8_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_9_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_10_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_11_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_12_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_13_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_14_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_15_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_16_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_17_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_18_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_19_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_20_result.json
2025-08-28 17:13:49 - src.agents.test_case_writer - INFO - 所有临时测试用例文件已清理完毕
2025-08-28 17:13:49 - src.agents.assistant - INFO - 测试用例生成完成，结果: {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'test_cases': [{'id': 'TC-仅集团用户可执行一键退回操作-001', 'title': '仅集团用户可执行一键退回操作 - 验证集团超管用户执行一键退回操作的功能正确性', 'preconditions': ['系统已部署并正常运行', '存在待审批的流程实例', '集团超级管理员账号已登录系统', '当前用户具有执行退回操作的权限'], 'steps': ['导航至待审批流程列表页面', '选择符合条件的流程实例', "点击'一键退回'操作按钮", '确认退回操作提示信息'], 'expected_results': ['一键退回操作成功执行', "流程状态正确变更为'已退回'状态", '相关数据清理和流程重启操作完成', '系统显示操作成功的提示信息'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-002', 'title': '仅集团用户可执行一键退回操作 - 验证普通用户无法执行一键退回操作的权限控制', 'preconditions': ['系统已部署并正常运行', '存在待审批的流程实例', '普通用户账号已登录系统', '普通用户不具备集团超管权限'], 'steps': ['使用普通用户账号登录系统', '导航至待审批流程列表页面', '查看操作按钮区域'], 'expected_results': ['一键退回操作按钮对普通用户不可见或禁用', '普通用户无法通过任何方式执行退回操作', '系统显示权限不足的提示信息（如尝试执行）'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-003', 'title': '仅集团用户可执行一键退回操作 - 验证非集团用户尝试绕过权限执行一键退回操作的安全性', 'preconditions': ['系统已部署并正常运行', '存在待审批的流程实例', '非集团用户账号已登录系统', 'OWASP ZAP安全测试工具已配置'], 'steps': ['使用非集团用户账号登录系统', '尝试通过URL直接访问一键退回API接口', '使用Postman模拟发送退回操作请求', '检查系统响应和权限验证机制'], 'expected_results': ['系统拒绝非授权用户的API请求', '返回适当的错误代码（如403 Forbidden）', '操作日志记录权限验证失败事件', '系统未执行任何退回操作'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-004', 'title': '仅集团用户可执行一键退回操作 - 验证集团用户执行一键退回操作后的数据一致性', 'preconditions': ['系统已部署并正常运行', '存在多个待审批的流程实例', '集团超级管理员账号已登录系统', '数据库监控工具已就绪'], 'steps': ['执行一键退回操作', '检查数据库中的流程状态字段更新', '验证相关数据表的清理操作', '确认流程重启后的初始状态'], 'expected_results': ['所有相关数据表的状态更新保持一致', '数据清理操作完整执行，无残留数据', '流程重启后处于正确的初始状态', '无数据不一致或异常情况发生'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-一键退回按钮仅在状态=审批通过且当前用户=超管时显示-001', 'title': '一键退回按钮仅在状态=审批通过且当前用户=超管时显示 - 验证审批通过状态下超管用户显示一键退回按钮', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批通过'的审批记录", '用户已进入审批详情页面'], 'steps': ['访问审批详情页面', '检查页面中是否显示一键退回按钮'], 'expected_results': ['一键退回按钮正常显示在页面中', '按钮状态为可点击'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-一键退回按钮仅在状态=审批通过且当前用户=超管时显示-002', 'title': '一键退回按钮仅在状态=审批通过且当前用户=超管时显示 - 验证非审批通过状态下超管用户不显示一键退回按钮', 'preconditions': ['系统已登录集团超管账号', "存在状态不为'审批通过'的审批记录（如审批中、已驳回等）", '用户已进入审批详情页面'], 'steps': ['访问审批详情页面', '检查页面中是否显示一键退回按钮'], 'expected_results': ['一键退回按钮不显示在页面中', '页面布局正常，无异常显示'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-一键退回按钮仅在状态=审批通过且当前用户=超管时显示-003', 'title': '一键退回按钮仅在状态=审批通过且当前用户=超管时显示 - 验证非超管用户即使审批通过状态也不显示一键退回按钮', 'preconditions': ['系统已登录非超管账号（如普通用户、审批人等）', "存在状态为'审批通过'的审批记录", '用户已进入审批详情页面'], 'steps': ['访问审批详情页面', '检查页面中是否显示一键退回按钮'], 'expected_results': ['一键退回按钮不显示在页面中', '页面无权限相关错误提示'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-一键退回按钮仅在状态=审批通过且当前用户=超管时显示-004', 'title': '一键退回按钮仅在状态=审批通过且当前用户=超管时显示 - 验证一键退回按钮UI显示正确性和样式一致性', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批通过'的审批记录", '用户已进入审批详情页面'], 'steps': ['访问审批详情页面', '检查一键退回按钮的文本、图标、颜色、大小等UI属性', '验证按钮在不同屏幕分辨率下的显示效果'], 'expected_results': ["按钮文本显示为'一键退回'", '按钮样式符合设计规范', '在不同分辨率下显示正常，无布局错乱'], 'priority': 'P3', 'category': 'UI测试'}, {'id': 'TC-一键退回按钮仅在状态=审批通过且当前用户=超管时显示-005', 'title': '一键退回按钮仅在状态=审批通过且当前用户=超管时显示 - 验证权限绕过漏洞-非超管用户尝试直接访问退回接口', 'preconditions': ['系统已登录非超管账号', "存在状态为'审批通过'的审批记录", '获取到一键退回操作的API接口地址'], 'steps': ['使用非超管用户token直接调用一键退回API接口', '检查接口返回结果'], 'expected_results': ['接口返回权限不足错误（如403 Forbidden）', '审批状态未发生改变', '系统记录安全审计日志'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-一键退回按钮仅在状态=审批通过且当前用户=超管时显示-006', 'title': '一键退回按钮仅在状态=审批通过且当前用户=超管时显示 - 验证不同浏览器下一键退回按钮的显示兼容性', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批通过'的审批记录", '准备Chrome、Firefox、Safari、Edge等主流浏览器'], 'steps': ['在不同浏览器中访问审批详情页面', '检查一键退回按钮的显示状态和功能'], 'expected_results': ['在所有主流浏览器中一键退回按钮正常显示', '按钮点击功能正常工作', '页面布局无异常'], 'priority': 'P2', 'category': '兼容性测试'}, {'id': 'TC-退回操作必须填写退回原因-001', 'title': '验证退回操作必须填写退回原因的功能正确性', 'preconditions': ['用户已登录系统并具有退回操作权限', '存在可退回的审批流程实例', '系统处于正常运行状态'], 'steps': ['进入审批流程详情页面', "点击'退回'操作按钮", '在弹出的退回对话框中不填写退回原因', "点击'确认退回'按钮"], 'expected_results': ["系统提示'退回原因不能为空'的错误信息", '退回操作未执行，审批流程状态未改变', '用户停留在当前页面，退回原因输入框获得焦点'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-退回操作必须填写退回原因-002', 'title': '退回操作必须填写退回原因 - 验证退回操作填写原因后的成功执行', 'preconditions': ['用户已登录系统并具有退回操作权限', '存在可退回的审批流程实例', '系统处于正常运行状态'], 'steps': ['进入审批流程详情页面', "点击'退回'操作按钮", '在弹出的退回对话框中填写有效的退回原因', "点击'确认退回'按钮"], 'expected_results': ['系统执行退回操作成功', "审批流程状态正确转换为'已退回'", '退回原因被正确记录并显示在流程历史中', "系统显示'退回成功'的提示信息"], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-退回操作必须填写退回原因-003', 'title': '退回操作必须填写退回原因 - 验证退回操作的权限控制安全性', 'preconditions': ['存在普通用户和集团超管两种角色账户', '存在可退回的审批流程实例'], 'steps': ['使用普通用户账户登录系统', '尝试执行退回操作', '使用集团超管账户登录系统', '执行退回操作并填写退回原因'], 'expected_results': ['普通用户无法看到或执行退回操作按钮', '集团超管能够正常执行退回操作', '系统正确记录超管执行的退回操作日志'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-退回操作必须填写退回原因-004', 'title': '退回操作必须填写退回原因 - 验证退回操作的性能表现', 'preconditions': ['系统已部署性能测试环境', '准备大量并发退回操作测试数据'], 'steps': ['使用JMeter模拟100个并发用户执行退回操作', '每个操作都填写有效的退回原因', '监控系统响应时间和资源消耗', '分析性能测试结果'], 'expected_results': ['平均响应时间在2秒以内', '95%的请求响应时间在3秒以内', '系统CPU和内存使用率在合理范围内', '无错误响应或超时情况发生'], 'priority': 'P1', 'category': '性能测试'}, {'id': 'TC-退回操作必须填写退回原因-005', 'title': '退回操作必须填写退回原因 - 验证退回操作在不同浏览器的兼容性', 'preconditions': ['准备Chrome、Firefox、Safari、Edge等主流浏览器', '系统支持跨浏览器访问'], 'steps': ['在不同浏览器中登录系统', '执行退回操作并填写退回原因', '验证操作界面显示和功能正常性', '检查错误提示信息的显示效果'], 'expected_results': ['在所有支持的浏览器中退回操作功能正常', '界面布局和样式保持一致', '错误提示信息正确显示', '操作流程在各浏览器中无差异'], 'priority': 'P2', 'category': '兼容性测试'}, {'id': 'TC-退回操作必须填写退回原因-006', 'title': '退回操作必须填写退回原因 - 验证退回操作的用户体验和界面友好性', 'preconditions': ['用户已登录系统并具有退回操作权限', '存在可退回的审批流程实例'], 'steps': ['观察退回操作按钮的位置和标识', '点击退回按钮查看弹出对话框的布局', '测试退回原因输入框的交互体验', '验证错误提示信息的清晰度和指导性'], 'expected_results': ['退回操作按钮位置明显且易于识别', '退回对话框布局合理，操作流程直观', '退回原因输入框提供适当的占位符提示', '错误提示信息明确指导用户如何正确操作'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-退回后清空历史审批意见并重新开始审批流程-001', 'title': '退回后清空历史审批意见并重新开始审批流程 - 验证集团超管执行退回操作后历史审批意见被清空', 'preconditions': ['审批流程已创建并有多条历史审批意见', '当前用户为集团超级管理员', '审批流程处于可退回状态'], 'steps': ['登录系统并使用集团超管账号', '进入审批流程详情页面', '执行一键退回操作', '查看审批历史记录'], 'expected_results': ['退回操作执行成功', '历史审批意见被完全清空', '审批流程状态重置为初始状态', '系统显示退回成功提示信息'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-退回后清空历史审批意见并重新开始审批流程-002', 'title': '退回后清空历史审批意见并重新开始审批流程 - 验证非集团超管用户无法执行退回操作', 'preconditions': ['审批流程已创建', '当前用户为普通用户或非超管权限用户', '审批流程处于可退回状态'], 'steps': ['登录系统并使用非超管账号', '进入审批流程详情页面', '尝试执行一键退回操作'], 'expected_results': ['退回操作按钮不可见或禁用', '系统提示权限不足或操作被拒绝', '审批流程状态保持不变', '历史审批意见未被清空'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-退回后清空历史审批意见并重新开始审批流程-003', 'title': '退回后清空历史审批意见并重新开始审批流程 - 验证退回操作后审批流程重新开始的数据完整性', 'preconditions': ['审批流程包含多条审批记录和意见', '当前用户为集团超级管理员', '审批数据已备份用于验证'], 'steps': ['执行退回操作前记录当前审批数据状态', '执行一键退回操作', '验证数据库中的审批意见数据', '检查审批流程状态字段'], 'expected_results': ['数据库中的历史审批意见记录被正确删除', '审批流程状态字段更新为初始状态', '无数据残留或部分删除的情况', '数据操作日志记录完整'], 'priority': 'P0', 'category': '数据完整性测试'}, {'id': 'TC-退回后清空历史审批意见并重新开始审批流程-004', 'title': '退回后清空历史审批意见并重新开始审批流程 - 验证退回操作后新审批流程的正确性', 'preconditions': ['审批流程已被退回', '历史审批意见已清空', '新审批人员可用'], 'steps': ['确认审批流程已重置为初始状态', '重新提交审批请求', '新审批人员进行审批操作', '验证新审批流程的完整性'], 'expected_results': ['新审批流程正常启动', '审批节点按照预设流程正确流转', '新审批意见能够正常添加和保存', '流程状态更新正确'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-退回后清空历史审批意见并重新开始审批流程-005', 'title': '退回后清空历史审批意见并重新开始审批流程 - 验证退回操作在不同浏览器下的兼容性', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器环境', '审批流程处于可退回状态', '集团超管账号可用'], 'steps': ['在不同浏览器中登录系统', '执行退回操作', '观察操作结果和界面显示'], 'expected_results': ['所有浏览器中退回操作功能正常', '界面元素显示一致且正确', '操作响应时间在合理范围内', '无浏览器相关的错误或异常'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-退回后清空历史审批意见并重新开始审批流程-006', 'title': '退回后清空历史审批意见并重新开始审批流程 - 验证退回操作在高并发场景下的性能表现', 'preconditions': ['准备性能测试环境', '配置JMeter测试脚本', '准备多个可退回的审批流程'], 'steps': ['模拟多用户同时执行退回操作', '监控系统资源消耗（CPU、内存、数据库连接）', '记录操作响应时间', '分析性能指标'], 'expected_results': ['平均响应时间小于2秒', '95%请求响应时间小于3秒', '系统资源消耗在合理范围内', '无数据库死锁或性能瓶颈'], 'priority': 'P3', 'category': '性能测试'}, {'id': 'TC-退回后清空历史审批意见并重新开始审批流程-007', 'title': '退回后清空历史审批意见并重新开始审批流程 - 验证退回操作的界面可用性和提示信息', 'preconditions': ['审批流程处于可退回状态', '用户已登录系统', '界面语言设置为中文'], 'steps': ['查看退回操作按钮的位置和标识', '执行退回操作前确认提示信息', '操作完成后查看结果提示', '验证错误场景的提示信息'], 'expected_results': ['操作按钮位置明显且易于识别', '操作前有明确的确认提示', '操作成功后有清晰的完成提示', '错误信息明确指导用户后续操作'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-001', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证集团超管执行退回操作后状态正确变为上级驳回', 'preconditions': ['系统已登录集团超管账号', '存在待审批的填报任务', '填报任务处于可退回状态'], 'steps': ['进入待审批任务列表页面', '选择目标填报任务执行退回操作', '确认退回操作并填写退回原因', '查看任务状态变化'], 'expected_results': ['退回操作执行成功', "任务状态由原状态变为'上级驳回'", '填报人收到退回通知', '退回原因正确记录在系统中'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-002', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证非集团超管用户无法执行退回操作', 'preconditions': ['系统已登录普通用户账号', '存在待审批的填报任务', '用户无退回操作权限'], 'steps': ['进入待审批任务列表页面', '尝试对目标填报任务执行退回操作', '观察系统响应'], 'expected_results': ['退回操作按钮对无权限用户不可见或禁用', '尝试执行退回操作时系统提示权限不足', '任务状态保持不变', '无任何数据被修改'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-003', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证填报人修改后重新提交流程的正确性', 'preconditions': ['系统已登录填报人账号', "存在状态为'上级驳回'的填报任务", '填报人具备修改权限'], 'steps': ['进入我的任务列表页面', "选择状态为'上级驳回'的任务", '根据退回原因修改填报内容', '重新提交修改后的任务', '查看任务状态变化'], 'expected_results': ['填报人能够正常查看和修改被退回的任务', '修改后重新提交操作成功', "任务状态由'上级驳回'变为'待审批'", '审批流程重新启动'], 'priority': 'P1', 'category': '流程测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-004', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证退回操作在多浏览器下的兼容性', 'preconditions': ['系统已登录集团超管账号', '存在待审批的填报任务', '使用不同浏览器（Chrome, Firefox, Safari, Edge）'], 'steps': ['在不同浏览器中登录系统', '执行退回操作流程', '观察操作界面和功能表现'], 'expected_results': ['在所有主流浏览器中退回操作功能正常', '界面布局和样式在不同浏览器中保持一致', '操作响应和状态转换在所有浏览器中正确执行'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-005', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证退回操作在高并发下的性能表现', 'preconditions': ['系统已准备多个待审批任务', '性能测试工具已配置完成', '系统监控工具已启动'], 'steps': ['使用JMeter模拟多用户同时执行退回操作', '监控系统响应时间和资源消耗', '记录性能指标数据'], 'expected_results': ['退回操作平均响应时间在3秒以内', '系统CPU和内存使用率在合理范围内', '无操作失败或数据不一致情况', '系统在高并发下保持稳定运行'], 'priority': 'P1', 'category': '性能测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-006', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证退回操作的用户界面友好性', 'preconditions': ['系统已登录集团超管账号', '存在待审批的填报任务'], 'steps': ['执行退回操作流程', '观察操作过程中的提示信息和界面反馈', '检查错误处理机制'], 'expected_results': ['操作界面布局合理，按钮位置明确', '提示信息清晰易懂，指导用户正确操作', '错误处理友好，提供明确的解决方案', '操作流程顺畅，无卡顿或混淆'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-001', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证集团超管执行退回操作后流程状态正确转换为上级审批中', 'preconditions': ['存在一个已提交的审批流程', '当前用户为集团超级管理员', '审批流程处于可退回状态'], 'steps': ['登录系统作为集团超管', '导航到待处理审批任务页面', '选择目标审批流程并执行退回操作', '确认退回操作'], 'expected_results': ['退回操作执行成功', "流程状态从'退回'正确转换为'上级审批中'", '系统生成新的审批任务并分配给上级审批人', '显示操作成功的提示信息'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-002', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证非集团超管用户无法执行退回操作权限控制', 'preconditions': ['存在一个已提交的审批流程', '当前用户为普通用户或非超管权限用户', '审批流程处于可退回状态'], 'steps': ['使用非超管权限账户登录系统', '导航到待处理审批任务页面', '尝试执行退回操作'], 'expected_results': ['退回操作按钮对非授权用户不可见或禁用', '如果尝试执行退回操作，系统拒绝并显示权限不足提示', '流程状态保持不变，未发生状态转换'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-003', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证退回操作在并发场景下的数据一致性', 'preconditions': ['存在多个审批流程实例', '系统处于高并发环境', '数据库连接池配置正常'], 'steps': ['使用JMeter模拟100个并发用户同时执行退回操作', '监控数据库事务和锁状态', '检查操作完成后的数据一致性'], 'expected_results': ['所有退回操作在3秒内完成响应', '数据库事务完整，无数据丢失或损坏', '流程状态转换正确，无状态冲突', '系统资源消耗在合理范围内（CPU<80%，内存<85%）'], 'priority': 'P0', 'category': '性能测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-004', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证退回操作在不同浏览器上的兼容性', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器环境', '系统部署在测试环境'], 'steps': ['使用不同浏览器访问系统', '执行退回操作流程', '观察界面显示和功能操作'], 'expected_results': ['在所有主流浏览器上退回功能正常工作', '界面元素显示正常，无布局错乱', '操作响应一致，无浏览器特异性问题', '提示信息和状态显示正确'], 'priority': 'P1', 'category': '兼容性测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-005', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证退回操作的用户界面友好性和操作流畅性', 'preconditions': ['用户已登录系统', '有可退回的审批流程'], 'steps': ['导航到审批任务列表', '点击退回操作按钮', '观察确认对话框的显示', '完成退回操作并查看结果页面'], 'expected_results': ['操作按钮位置明显，易于识别', '确认对话框提示信息清晰明确', '操作过程流畅，无卡顿或延迟', '成功/失败提示信息易懂，指导用户后续操作', '整个操作流程符合用户预期'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-006', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证退回操作后审批历史记录的正确性', 'preconditions': ['审批流程已有审批历史记录', '流程处于退回状态'], 'steps': ['执行退回操作', '查看审批历史记录页面', '检查历史记录的完整性和准确性'], 'expected_results': ['退回操作被正确记录在审批历史中', '记录包含操作时间、操作人、操作类型等信息', '历史记录时间顺序正确', '新一轮审批开始时，历史记录清晰区分不同审批轮次'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-007', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证网络异常时退回操作的异常处理', 'preconditions': ['使用网络模拟工具（如Charles）', '审批流程处于可退回状态'], 'steps': ['在执行退回操作时模拟网络中断', '观察系统响应和错误处理', '恢复网络后检查系统状态'], 'expected_results': ['网络异常时系统给出适当的错误提示', '操作失败后流程状态保持一致性，未处于中间状态', '无数据损坏或部分更新问题', '用户可重新尝试操作'], 'priority': 'P4', 'category': '功能测试'}, {'id': 'TC-一键退回只在叶子节点展示入口-001', 'title': '一键退回只在叶子节点展示入口 - 验证集团超管在叶子节点能看到一键退回入口', 'preconditions': ['用户已登录系统且具有集团超管权限', '存在包含叶子节点的审批流程', '当前处于需要退回操作的审批状态'], 'steps': ['登录系统并导航到审批流程管理页面', '找到叶子节点对应的审批任务', '检查页面是否显示一键退回操作入口'], 'expected_results': ['叶子节点审批任务页面正确显示一键退回按钮或入口', '非叶子节点不显示一键退回入口', '入口位置和样式符合UI设计规范'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-一键退回只在叶子节点展示入口-002', 'title': '一键退回只在叶子节点展示入口 - 验证非集团超管用户在叶子节点看不到一键退回入口', 'preconditions': ['用户已登录系统且具有普通用户权限', '存在包含叶子节点的审批流程', '当前处于需要退回操作的审批状态'], 'steps': ['使用普通用户账号登录系统', '导航到审批流程管理页面', '查看叶子节点对应的审批任务页面'], 'expected_results': ['叶子节点审批任务页面不显示一键退回按钮或入口', '页面无权限错误提示', '用户只能看到其权限范围内的操作选项'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-一键退回只在叶子节点展示入口-003', 'title': '一键退回只在叶子节点展示入口 - 验证一键退回入口在不同浏览器中的显示兼容性', 'preconditions': ['用户已登录系统且具有集团超管权限', '存在包含叶子节点的审批流程', '准备Chrome、Firefox、Safari、Edge浏览器环境'], 'steps': ['在不同浏览器中分别登录系统', '导航到叶子节点审批任务页面', '检查一键退回入口的显示效果和功能'], 'expected_results': ['所有浏览器中一键退回入口均正常显示', '入口样式和位置保持一致', '点击功能在所有浏览器中正常工作'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-一键退回只在叶子节点展示入口-004', 'title': '一键退回只在叶子节点展示入口 - 验证一键退回入口的响应性能', 'preconditions': ['用户已登录系统且具有集团超管权限', '存在大量审批数据的测试环境', '性能监控工具已准备就绪'], 'steps': ['导航到包含大量审批任务的页面', '记录页面加载时间', '检查一键退回入口的渲染性能'], 'expected_results': ['页面加载时间在3秒以内', '一键退回入口渲染无延迟', '系统资源消耗在合理范围内'], 'priority': 'P1', 'category': '性能测试'}, {'id': 'TC-一键退回只在叶子节点展示入口-005', 'title': '一键退回只在叶子节点展示入口 - 验证一键退回入口的UI交互和提示信息', 'preconditions': ['用户已登录系统且具有集团超管权限', '存在叶子节点审批任务'], 'steps': ['导航到叶子节点审批任务页面', '观察一键退回入口的视觉设计', '悬停在入口上查看提示信息', '点击入口查看后续操作流程'], 'expected_results': ['入口设计清晰醒目，易于识别', '悬停提示信息准确描述功能', '点击后流程引导清晰，操作流畅', '错误提示信息明确易懂'], 'priority': 'P3', 'category': 'UI测试'}, {'id': 'TC-一键退回只在叶子节点展示入口-006', 'title': '一键退回只在叶子节点展示入口 - 验证非叶子节点不显示一键退回入口', 'preconditions': ['用户已登录系统且具有集团超管权限', '存在非叶子节点的审批流程节点'], 'steps': ['导航到非叶子节点审批任务页面', '检查页面操作区域', '确认一键退回入口的显示状态'], 'expected_results': ['非叶子节点审批任务页面不显示一键退回入口', '页面只显示该节点适用的操作选项', '无功能混淆或错误显示'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-组织边界负责人设置和分配功能-001', 'title': '组织边界负责人设置和分配功能-集团超管权限验证', 'preconditions': ['系统已部署并正常运行', '存在集团超管账号和普通用户账号', '组织边界数据已创建'], 'steps': ['使用普通用户账号登录系统', '尝试执行组织边界负责人设置操作', '使用集团超管账号登录系统', '执行组织边界负责人设置操作'], 'expected_results': ['普通用户无法执行负责人设置操作，显示权限不足提示', '集团超管成功执行负责人设置操作，操作记录正确保存'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-组织边界负责人设置和分配功能-002', 'title': '组织边界负责人设置和分配功能-数据一致性验证', 'preconditions': ['系统数据库正常运行', '组织边界数据存在多个层级结构', '负责人信息表已初始化'], 'steps': ['执行组织边界负责人设置操作', '检查数据库中各相关表的数据更新情况', '验证负责人分配后的数据关联关系'], 'expected_results': ['负责人设置操作后，所有相关数据表同步更新', '数据关联关系正确，无数据不一致或丢失情况', '事务处理完整，无部分更新问题'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-组织边界负责人设置和分配功能-003', 'title': '组织边界负责人设置和分配功能-权限绕过安全测试', 'preconditions': ['OWASP ZAP工具已配置', '系统运行在测试环境', '网络抓包工具准备就绪'], 'steps': ['使用普通用户身份尝试直接调用负责人设置API接口', '修改请求参数尝试绕过权限验证', '使用工具扫描权限控制漏洞'], 'expected_results': ['所有非授权访问尝试都被系统拒绝', '权限验证机制有效，无法通过参数修改绕过', '安全扫描未发现权限绕过漏洞'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-组织边界负责人设置和分配功能-004', 'title': '组织边界负责人设置和分配功能-配置参数验证', 'preconditions': ['系统配置管理界面可访问', '具有配置修改权限的账号', '测试配置数据准备完成'], 'steps': ['修改组织边界负责人分配的相关配置参数', '验证配置生效情况', '测试边界值和异常配置参数'], 'expected_results': ['配置参数修改后功能行为正确响应', '异常配置参数被系统正确校验和拒绝', '配置变更日志记录完整'], 'priority': 'P1', 'category': '配置测试'}, {'id': 'TC-组织边界负责人设置和分配功能-005', 'title': '组织边界负责人设置和分配功能-状态转换正确性', 'preconditions': ['组织边界处于不同状态（待分配、已分配、审核中）', '负责人设置功能可用'], 'steps': ['为不同状态的组织边界设置负责人', '验证状态转换是否符合业务规则', '检查状态历史记录完整性'], 'expected_results': ['状态转换符合预定义的业务规则', '状态历史记录完整准确', '非法状态转换被正确阻止'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-组织边界负责人设置和分配功能-006', 'title': '组织边界负责人设置和分配功能-多浏览器兼容性测试', 'preconditions': ['BrowserStack平台可用', '不同浏览器版本准备就绪', '测试用例脚本已编写'], 'steps': ['在Chrome、Firefox、Safari、Edge等主流浏览器中执行负责人设置操作', '验证界面显示和功能一致性', '检查跨浏览器的用户体验'], 'expected_results': ['在所有支持的浏览器中功能正常工作', '界面显示一致，无布局错乱', '操作响应时间在可接受范围内'], 'priority': 'P2', 'category': '兼容性测试'}, {'id': 'TC-组织边界进度查看和搜索功能-001', 'title': '组织边界进度查看和搜索功能 - 组织边界进度查看功能-正常查看所有组织边界进度', 'preconditions': ['用户已登录系统并具有组织边界查看权限', '系统中存在多个组织边界记录', '组织边界模块已正常加载'], 'steps': ['进入组织边界管理页面', '点击进度查看选项卡', '查看所有组织边界的进度列表'], 'expected_results': ['成功显示所有组织边界的进度信息', '进度信息包含组织名称、当前状态、处理进度百分比', '列表按照默认排序规则正确显示'], 'priority': 'P2', 'category': '功能测试'}, {'id': 'TC-组织边界进度查看和搜索功能-002', 'title': '组织边界进度查看和搜索功能 - 组织边界搜索功能-按组织名称关键字搜索', 'preconditions': ['用户已登录系统并具有搜索权限', '系统中存在包含特定关键字的组织边界记录', '搜索功能可用'], 'steps': ['进入组织边界管理页面', '在搜索框中输入已知存在的组织名称关键字', '点击搜索按钮或按回车键'], 'expected_results': ['成功返回包含该关键字的组织边界记录', '搜索结果准确匹配输入的关键字', '显示搜索到的记录数量和详细信息'], 'priority': 'P2', 'category': '搜索测试'}, {'id': 'TC-组织边界进度查看和搜索功能-003', 'title': '组织边界进度查看和搜索功能 - 组织边界搜索功能-按状态筛选搜索', 'preconditions': ['用户已登录系统并具有搜索权限', '系统中存在不同状态的组织边界记录', '状态筛选功能可用'], 'steps': ['进入组织边界管理页面', '点击状态筛选下拉框', "选择特定状态（如'进行中'）", '查看筛选结果'], 'expected_results': ['成功返回所选状态的组织边界记录', '所有显示记录的状态都与筛选条件一致', '筛选结果数量正确显示'], 'priority': 'P2', 'category': '搜索测试'}, {'id': 'TC-组织边界进度查看和搜索功能-004', 'title': '组织边界进度查看和搜索功能 - 组织边界进度查看功能-无权限用户访问控制', 'preconditions': ['用户已登录系统但不具有组织边界查看权限', '组织边界管理页面URL已知'], 'steps': ['尝试直接访问组织边界管理页面URL', '观察系统响应'], 'expected_results': ['系统拒绝访问并显示权限不足提示', '用户被重定向到无权限页面或首页', '未显示任何组织边界进度信息'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-组织边界进度查看和搜索功能-005', 'title': '组织边界进度查看和搜索功能 - 组织边界搜索功能-空搜索结果处理', 'preconditions': ['用户已登录系统并具有搜索权限', '搜索功能可用'], 'steps': ['进入组织边界管理页面', '在搜索框中输入不存在的组织名称关键字', '执行搜索操作'], 'expected_results': ["系统显示'未找到相关记录'的友好提示", '搜索结果区域显示为空或提示信息', '页面布局保持正常，无错误显示'], 'priority': 'P3', 'category': '搜索测试'}, {'id': 'TC-任务状态筛选和查看功能-001', 'title': '任务状态筛选和查看功能 - 任务状态筛选功能验证-按不同状态筛选任务', 'preconditions': ['系统已登录具有任务查看权限的用户账号', '系统中存在不同状态（待处理、进行中、已完成、已退回）的任务数据'], 'steps': ['进入任务管理页面', "选择状态筛选条件为'待处理'", '点击筛选按钮', "选择状态筛选条件为'已退回'", '点击筛选按钮'], 'expected_results': ["页面正确显示所有状态为'待处理'的任务", '不显示其他状态的任务', "页面正确显示所有状态为'已退回'的任务", '筛选结果与数据库查询结果一致'], 'priority': 'P2', 'category': '功能测试'}, {'id': 'TC-任务状态筛选和查看功能-002', 'title': '任务状态筛选和查看功能 - 任务状态查看权限控制测试-不同角色用户访问权限', 'preconditions': ['系统中存在普通用户和集团超管两种角色账号', '系统中存在不同状态的任务数据'], 'steps': ['使用普通用户账号登录系统', '尝试访问任务状态筛选功能', '使用集团超管账号登录系统', '访问任务状态筛选功能'], 'expected_results': ['普通用户只能查看自己有权限的任务状态', '集团超管可以查看所有任务状态', '权限控制正确，无权限绕过漏洞'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-任务状态筛选和查看功能-003', 'title': '任务状态筛选和查看功能 - 任务状态筛选性能测试-大数据量下的响应时间', 'preconditions': ['数据库中预先生成10000条不同状态的任务数据', '系统运行环境配置完成'], 'steps': ['使用JMeter模拟并发用户访问状态筛选功能', '记录筛选操作的响应时间', '监控系统资源消耗（CPU、内存、数据库连接）'], 'expected_results': ['筛选操作平均响应时间小于2秒', '95%的请求响应时间小于3秒', '系统资源消耗在合理范围内，无内存泄漏'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-任务状态筛选和查看功能-004', 'title': '任务状态筛选和查看功能 - 任务状态筛选兼容性测试-多浏览器多设备验证', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器环境', '准备移动端设备（iOS和Android）'], 'steps': ['在不同浏览器中访问任务状态筛选功能', '在移动设备上访问任务状态筛选功能', '执行相同的筛选操作'], 'expected_results': ['所有浏览器中筛选功能正常工作', '移动设备上界面适配良好，操作流畅', '筛选结果在所有平台上一致'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-任务状态筛选和查看功能-005', 'title': '任务状态筛选和查看功能 - 任务状态筛选可用性测试-用户界面操作体验', 'preconditions': ['系统正常运行，用户已登录', '存在可供筛选的任务数据'], 'steps': ['观察筛选条件的UI布局和标识清晰度', '执行筛选操作并观察反馈提示', '验证筛选结果的展示方式', '测试筛选条件的重置功能'], 'expected_results': ['筛选条件选择直观易懂', '操作反馈及时明确', '结果展示清晰有序', '重置功能正常工作'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-任务状态筛选和查看功能-006', 'title': '任务状态筛选和查看功能 - 任务状态筛选边界测试-极端条件验证', 'preconditions': ['系统中存在极少量（1-2条）任务数据', '系统中存在大量（超过分页限制）任务数据'], 'steps': ['在数据量极少的情况下执行状态筛选', '在数据量极大的情况下执行状态筛选', '测试空结果集的展示处理', '测试无效状态参数的筛选'], 'expected_results': ['极少量数据时筛选功能正常', '大量数据时分页功能正常，性能可接受', '空结果时有明确的提示信息', '无效参数时有友好的错误提示'], 'priority': 'P4', 'category': '筛选测试'}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-001', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证集团超管执行退回操作的成功权限控制', 'preconditions': ['系统已登录集团超管账号', '存在可退回的审批流程实例', '退回操作功能已正常启用'], 'steps': ['导航至审批流程管理页面', '选择目标审批流程实例', '点击一键退回操作按钮', '确认退回操作'], 'expected_results': ['退回操作成功执行', '系统显示退回成功提示信息', '审批流程状态正确转换为退回状态', '相关数据清理和流程重启操作正常完成'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-002', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证普通用户无法执行退回操作的权限控制', 'preconditions': ['系统已登录普通用户账号', '存在可退回的审批流程实例', '用户具有查看审批流程的权限'], 'steps': ['导航至审批流程管理页面', '选择目标审批流程实例', '检查页面是否显示退回操作按钮', '尝试通过URL直接访问退回操作接口'], 'expected_results': ['页面不显示退回操作按钮', '直接接口访问返回权限不足错误（HTTP 403）', '系统记录未授权访问尝试日志', '退回操作未被执行，审批流程状态保持不变'], 'priority': 'P0', 'category': '权限测试'}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-003', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证不同角色用户执行退回操作的权限边界测试', 'preconditions': ['准备多个测试账号（部门管理员、普通员工、访客等）', '存在可退回的审批流程实例', '各账号已获得相应权限配置'], 'steps': ['使用不同角色账号登录系统', '导航至审批流程管理页面', '检查退回操作按钮的可见性和可操作性', '尝试执行退回操作（如按钮可见）'], 'expected_results': ['只有集团超管账号能看到并操作退回按钮', '其他角色账号无法看到或操作退回按钮', '任何非超管账号尝试执行退回操作均失败', '系统正确记录所有权限验证日志'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-004', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证退回操作接口的权限验证机制', 'preconditions': ['准备Postman测试环境', '获取集团超管和普通用户的认证token', '已知退回操作API端点'], 'steps': ['使用普通用户token调用退回操作API', '使用集团超管token调用退回操作API', '使用无效token调用退回操作API', '使用过期token调用退回操作API'], 'expected_results': ['只有集团超管token的API调用成功（HTTP 200）', '普通用户token返回权限错误（HTTP 403）', '无效token返回认证错误（HTTP 401）', '过期token返回认证过期错误（HTTP 401）'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-数据一致性：退回操作需保证数据完整性和一致性-001', 'title': '数据一致性：退回操作需保证数据完整性和一致性 - 数据一致性：验证退回操作后审批流程数据完整性', 'preconditions': ['系统已部署并正常运行', '存在一个处于审批中的流程实例', '当前用户具有集团超管权限', '数据库连接正常'], 'steps': ['登录系统并使用超管权限进入审批管理页面', '选择目标审批流程并执行一键退回操作', '查询数据库确认流程状态已正确回退到上一节点', '验证流程历史记录、审批意见、附件等关联数据的完整性'], 'expected_results': ['退回操作执行成功，系统提示操作完成', '流程状态正确回退到指定节点，状态转换正确', '所有关联数据（审批记录、附件、意见等）保持完整无丢失', '数据库事务完整提交，无数据不一致现象'], 'priority': 'P0', 'category': '数据完整性测试'}, {'id': 'TC-数据一致性：退回操作需保证数据完整性和一致性-002', 'title': '数据一致性：退回操作需保证数据完整性和一致性 - 数据一致性：验证退回操作的事务回滚机制', 'preconditions': ['系统已部署并正常运行', '存在多个处于不同审批状态的流程实例', '数据库监控工具已就绪', '当前用户具有集团超管权限'], 'steps': ['在执行退回操作过程中模拟数据库连接中断', '观察系统异常处理机制', '重新连接数据库后检查数据状态', '验证是否所有相关数据都保持一致性'], 'expected_results': ['系统能够检测到数据库异常并触发事务回滚', '操作失败后所有数据保持操作前的状态', '无部分提交或数据不一致的情况发生', '系统给出明确的错误提示信息'], 'priority': 'P0', 'category': '数据完整性测试'}, {'id': 'TC-数据一致性：退回操作需保证数据完整性和一致性-003', 'title': '数据一致性：退回操作需保证数据完整性和一致性 - 数据库测试：验证退回操作的数据库约束完整性', 'preconditions': ['数据库已部署并包含完整的审批流程数据', '数据库外键约束、唯一性约束等已正确配置', '当前用户具有集团超管权限'], 'steps': ['执行退回操作前记录相关表的主外键关系', '执行一键退回操作', '检查数据库中外键约束是否仍然有效', '验证所有关联表的数据一致性'], 'expected_results': ['退回操作后所有数据库约束保持完整', '主外键关系正确维护，无约束冲突', '关联表数据同步更新，保持一致性', '数据库日志显示所有操作在事务中完成'], 'priority': 'P0', 'category': '数据库测试'}, {'id': 'TC-数据一致性：退回操作需保证数据完整性和一致性-004', 'title': '数据一致性：退回操作需保证数据完整性和一致性 - 数据库测试：验证退回操作对并发访问的数据一致性影响', 'preconditions': ['系统支持多用户并发访问', '存在一个可退回的审批流程', '数据库并发控制机制已启用'], 'steps': ['同时使用两个超管账号尝试对同一流程执行退回操作', '观察系统的并发处理机制', '检查操作完成后数据库的数据状态', '验证是否存在数据竞争或死锁问题'], 'expected_results': ['系统正确处理并发请求，避免数据竞争', '只有一个操作成功执行，另一个操作被正确拒绝或排队', '数据库无死锁发生，所有事务正常完成', '数据最终保持一致性状态'], 'priority': 'P1', 'category': '数据库测试'}, {'id': 'TC-性能要求：退回操作响应时间应在合理范围内-001', 'title': '性能要求：退回操作响应时间应在合理范围内 - 性能测试-单用户执行退回操作响应时间验证', 'preconditions': ['系统已部署并正常运行', '测试环境网络稳定', 'JMeter性能测试工具已配置并连接到系统', '具备有效的集团超管账号和权限', '存在可退回的审批流程实例'], 'steps': ['使用JMeter配置单用户线程组', '设置HTTP请求模拟集团超管登录操作', '配置退回操作请求，包含必要的参数和数据', '执行性能测试，模拟单用户执行退回操作', '记录响应时间、吞吐量等性能指标', '重复测试多次获取平均响应时间数据'], 'expected_results': ['退回操作平均响应时间小于2秒', '95%的请求响应时间小于3秒', '无请求超时或失败', '系统资源消耗在正常范围内'], 'priority': 'P1', 'category': '性能测试'}, {'id': 'TC-性能要求：退回操作响应时间应在合理范围内-002', 'title': '性能要求：退回操作响应时间应在合理范围内 - 负载测试-多用户并发执行退回操作响应时间验证', 'preconditions': ['系统已部署并正常运行', '测试环境具备足够的硬件资源', 'JMeter负载测试工具已配置完成', '准备多个有效的集团超管测试账号', '存在足够数量的可退回审批流程实例'], 'steps': ['使用JMeter配置多用户并发线程组（建议50-100用户）', '设置思考时间和随机延迟模拟真实用户行为', '配置登录和退回操作的事务控制器', '逐步增加并发用户数执行负载测试', '监控系统CPU、内存、网络等资源使用情况', '记录不同并发级别下的响应时间性能数据'], 'expected_results': ['在50用户并发下，平均响应时间小于3秒', '在100用户并发下，平均响应时间小于5秒', '系统无崩溃或严重性能下降', '错误率低于1%', '系统资源使用率在可接受范围内'], 'priority': 'P1', 'category': '负载测试'}, {'id': 'TC-性能要求：退回操作响应时间应在合理范围内-003', 'title': '性能要求：退回操作响应时间应在合理范围内 - 压力测试-高负载下退回操作响应时间稳定性验证', 'preconditions': ['系统已部署在性能测试环境', '监控工具已配置完成（如Prometheus+Grafana）', '具备自动化压力测试脚本', '系统基线性能数据已采集'], 'steps': ['使用JMeter配置逐步增加的压力测试场景', '从低并发开始，每5分钟增加20%的用户负载', '持续监控系统各项性能指标', '记录系统达到性能瓶颈时的响应时间数据', '分析响应时间随负载增加的变化趋势', '执行恢复测试，验证系统性能恢复能力'], 'expected_results': ['在系统设计容量内，响应时间保持相对稳定', '系统能够处理预期的最大并发用户数', '当负载超过阈值时，响应时间增长趋势平缓', '系统在压力解除后能够快速恢复正常性能水平', '无内存泄漏或资源无法释放的问题'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-用户体验：界面操作流畅，提示信息清晰明确-001', 'title': '用户体验：界面操作流畅，提示信息清晰明确 - 用户体验：界面操作流畅性测试 - 一键退回操作响应时间', 'preconditions': ['用户已登录系统并具有相应权限', '系统处于正常运行状态', '存在可执行退回操作的审批任务'], 'steps': ['导航至审批任务列表页面', '选择需要退回的审批任务', '点击一键退回按钮', '记录从点击按钮到界面响应的延迟时间'], 'expected_results': ['界面操作流畅无卡顿', '点击退回按钮后系统在2秒内给出响应', '操作过程中无界面冻结或白屏现象', '进度指示器清晰显示操作状态'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-用户体验：界面操作流畅，提示信息清晰明确-002', 'title': '用户体验：界面操作流畅，提示信息清晰明确 - 用户体验：提示信息清晰度测试 - 退回操作成功提示', 'preconditions': ['用户已登录系统并具有退回操作权限', '存在可执行退回操作的审批任务', '网络连接正常'], 'steps': ['选择需要退回的审批任务', '执行一键退回操作', '观察系统返回的提示信息', '验证提示信息的显示位置和样式'], 'expected_results': ['操作成功后显示明确的成功提示信息', '提示信息内容清晰易懂，包含操作结果说明', '提示信息位置醒目但不遮挡主要内容', '信息样式符合设计规范，颜色和图标使用恰当'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-用户体验：界面操作流畅，提示信息清晰明确-003', 'title': '用户体验：界面操作流畅，提示信息清晰明确 - 用户体验：错误提示信息测试 - 权限不足场景', 'preconditions': ['用户已登录系统但不具有退回操作权限', '存在审批任务', '系统权限配置正确'], 'steps': ['使用无权限账户登录系统', '尝试执行一键退回操作', '观察系统返回的错误提示信息', '验证提示信息的准确性和友好性'], 'expected_results': ['系统立即阻止无权限操作', '显示明确的权限不足提示信息', '提示信息包含原因说明和建议操作', '错误信息语气友好，不包含技术性术语'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-用户体验：界面操作流畅，提示信息清晰明确-004', 'title': '用户体验：界面操作流畅，提示信息清晰明确 - 用户体验：界面一致性测试 - 退回操作UI元素', 'preconditions': ['用户已登录系统', '系统UI设计规范已定义', '浏览器支持现代CSS和JavaScript'], 'steps': ['导航至审批任务页面', '检查一键退回按钮的样式和位置', '验证相关提示信息的字体、颜色和布局', '对比不同页面间相同UI元素的一致性'], 'expected_results': ['退回按钮样式符合整体UI设计规范', '提示信息显示风格在整个系统中保持一致', '操作反馈的动画效果流畅自然', '界面元素间距和对齐符合设计标准'], 'priority': 'P3', 'category': 'UI测试'}, {'id': 'TC-用户体验：界面操作流畅，提示信息清晰明确-005', 'title': '用户体验：界面操作流畅，提示信息清晰明确 - 用户体验：操作引导测试 - 首次使用退回功能', 'preconditions': ['新用户首次登录系统', '用户具有退回操作权限', '系统教程功能已启用'], 'steps': ['新用户首次访问审批任务页面', '观察系统是否提供操作引导', '执行一键退回操作并观察引导信息', '验证引导信息的帮助效果'], 'expected_results': ['系统提供清晰的操作引导或提示', '引导信息准确描述退回操作的功能和效果', '用户能够通过引导信息快速理解操作流程', '引导信息不会干扰正常操作体验'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-TS001测试场景覆盖-001', 'title': 'TS001测试场景覆盖-集团超管权限验证测试', 'preconditions': ['系统已部署并正常运行', '存在集团超管账号和普通用户账号', '审批流程处于可退回状态'], 'steps': ['使用普通用户账号登录系统', '尝试执行一键退回操作', '使用集团超管账号登录系统', '再次尝试执行一键退回操作'], 'expected_results': ['普通用户无法看到或执行退回操作，提示权限不足', '集团超管能够正常执行退回操作，操作成功'], 'priority': 'P0', 'category': '端到端测试'}, {'id': 'TC-TS001测试场景覆盖-002', 'title': 'TS001测试场景覆盖-权限绕过安全测试', 'preconditions': ['系统运行正常', 'OWASP ZAP工具已配置', '普通用户账号已准备'], 'steps': ['使用OWASP ZAP对退回操作接口进行安全扫描', '尝试通过URL直接访问退回操作页面（绕过前端权限控制）', '使用普通用户权限调用退回操作API接口'], 'expected_results': ['安全扫描未发现权限绕过漏洞', '直接URL访问被拒绝，返回权限错误', 'API接口调用返回权限验证失败'], 'priority': 'P0', 'category': '场景测试'}, {'id': 'TC-TS001测试场景覆盖-003', 'title': 'TS001测试场景覆盖-数据一致性验证测试', 'preconditions': ['审批流程包含多个关联数据表', '流程处于运行状态', '数据库监控工具已就绪'], 'steps': ['执行一键退回操作', '检查相关数据表的状态字段更新', '验证历史记录表的完整性', '确认关联业务数据的一致性'], 'expected_results': ['所有相关数据表状态同步更新为退回前状态', '历史记录完整记录退回操作信息', '业务数据保持一致性，无数据丢失或损坏'], 'priority': 'P0', 'category': '端到端测试'}, {'id': 'TC-TS001测试场景覆盖-004', 'title': 'TS001测试场景覆盖-性能压力测试', 'preconditions': ['JMeter性能测试脚本已编写', '测试环境与生产环境配置相似', '系统监控工具已部署'], 'steps': ['使用JMeter模拟并发退回操作请求', '监控系统响应时间和资源消耗', '逐步增加并发用户数直到系统极限', '分析性能测试结果报告'], 'expected_results': ['单次退回操作响应时间小于2秒', '在预期最大并发用户数下系统稳定运行', 'CPU和内存使用率在合理范围内', '无内存泄漏或性能下降现象'], 'priority': 'P1', 'category': '场景测试'}, {'id': 'TC-TS001测试场景覆盖-005', 'title': 'TS001测试场景覆盖-多浏览器兼容性测试', 'preconditions': ['BrowserStack平台已配置', '目标浏览器列表已确定（Chrome, Firefox, Safari, Edge）', '测试用例脚本已准备'], 'steps': ['在Chrome浏览器中执行退回操作流程', '在Firefox浏览器中重复相同操作', '在Safari浏览器中验证功能正常', '在Edge浏览器中进行最终验证'], 'expected_results': ['在所有支持的浏览器中退回功能正常工作', '界面显示一致，无布局错乱', '操作响应和行为保持一致', '错误提示和信息显示正确'], 'priority': 'P2', 'category': '端到端测试'}, {'id': 'TC-TS001测试场景覆盖-006', 'title': 'TS001测试场景覆盖-用户体验和界面测试', 'preconditions': ['系统用户界面可访问', '测试用户账号已准备', '屏幕录制工具已就绪'], 'steps': ['登录系统并导航到退回操作界面', '执行退回操作并观察界面反馈', '验证操作确认提示的清晰度', '检查操作成功/失败的消息提示'], 'expected_results': ['操作流程直观易懂，用户无需培训即可完成', '确认提示明确说明操作后果', '成功/失败消息清晰明确，指导用户后续操作', '界面响应流畅，无卡顿或延迟'], 'priority': 'P3', 'category': '场景测试'}, {'id': 'TC-权限控制风险：可能存在权限绕过漏洞-001', 'title': '权限控制风险：可能存在权限绕过漏洞 - 权限控制风险：集团超管权限验证测试', 'preconditions': ['系统已部署并正常运行', '存在集团超管账号和普通用户账号', '一键退回功能已配置权限控制'], 'steps': ['使用集团超管账号登录系统', '访问一键退回功能页面', '执行退回操作'], 'expected_results': ['集团超管能够正常访问一键退回功能', '退回操作执行成功，系统返回操作成功提示', '权限控制机制正常工作，未出现权限绕过'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-权限控制风险：可能存在权限绕过漏洞-002', 'title': '权限控制风险：可能存在权限绕过漏洞 - 权限控制风险：普通用户权限绕过测试', 'preconditions': ['系统已部署并正常运行', '存在普通用户账号', '一键退回功能权限控制已配置'], 'steps': ['使用普通用户账号登录系统', '尝试直接访问一键退回功能URL', '尝试通过修改请求参数绕过权限检查'], 'expected_results': ['系统拒绝访问，返回权限不足提示', '无法执行退回操作，权限控制有效', '系统记录非法访问尝试日志'], 'priority': 'P0', 'category': '渗透测试'}, {'id': 'TC-权限控制风险：可能存在权限绕过漏洞-003', 'title': '权限控制风险：可能存在权限绕过漏洞 - 权限控制风险：API接口权限绕过测试', 'preconditions': ['系统API接口已暴露', 'Postman工具已配置', '普通用户token已获取'], 'steps': ['使用Postman构造一键退回API请求', '使用普通用户token尝试调用退回API', '尝试修改请求头或参数绕过权限验证'], 'expected_results': ['API接口返回403 Forbidden错误', '权限验证机制有效阻止非法调用', '系统记录API权限违规访问日志'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-权限控制风险：可能存在权限绕过漏洞-004', 'title': '权限控制风险：可能存在权限绕过漏洞 - 权限控制风险：会话劫持权限测试', 'preconditions': ['OWASP ZAP工具已配置', '正常用户会话已建立', '系统会话管理机制正常运行'], 'steps': ['使用OWASP ZAP拦截集团超管会话', '尝试在普通用户会话中重用超管会话token', '验证会话权限隔离机制'], 'expected_results': ['系统检测到会话异常并强制登出', '无法通过会话劫持获得超管权限', '会话管理机制有效防止权限提升'], 'priority': 'P0', 'category': '渗透测试'}, {'id': 'TC-数据一致性风险：退回操作可能导致数据不一致-001', 'title': '数据一致性风险：退回操作可能导致数据不一致 - 验证退回操作的事务原子性 - 确保数据一致性', 'preconditions': ['系统中有待审批的流程实例', '用户具有集团超管权限', '数据库连接正常'], 'steps': ['登录系统并导航到待审批流程页面', '选择一条待审批记录执行一键退回操作', '在执行过程中模拟数据库连接中断', '检查系统状态和数据完整性'], 'expected_results': ['退回操作要么完全成功，要么完全失败，不存在中间状态', '系统自动回滚所有相关数据变更', '流程状态保持退回前的状态，无数据损坏', '系统记录详细的事务日志和错误信息'], 'priority': 'P0', 'category': '事务测试'}, {'id': 'TC-数据一致性风险：退回操作可能导致数据不一致-002', 'title': '数据一致性风险：退回操作可能导致数据不一致 - 验证退回操作的多表数据一致性', 'preconditions': ['系统中有包含多个关联表的审批流程', '关联表之间存在外键约束关系', '用户具有执行退回操作的权限'], 'steps': ['执行一键退回操作', '检查主表和所有关联表的数据状态', '验证数据关联关系的完整性'], 'expected_results': ['所有相关表的数据状态同步更新', '外键约束关系保持完整，无孤立记录', '数据版本号或时间戳保持一致', '业务逻辑关联数据保持一致性'], 'priority': 'P0', 'category': '数据完整性测试'}, {'id': 'TC-数据一致性风险：退回操作可能导致数据不一致-003', 'title': '数据一致性风险：退回操作可能导致数据不一致 - 验证高并发场景下的退回操作数据一致性', 'preconditions': ['系统中有多个待退回的流程实例', '配置并发测试环境', '启用数据库事务监控'], 'steps': ['使用JMeter模拟多个用户同时执行退回操作', '监控数据库锁状态和事务冲突', '检查操作完成后的数据一致性'], 'expected_results': ['系统正确处理并发请求，无数据竞争', '数据库锁机制有效防止脏数据', '所有操作完成后数据保持一致性', '系统性能指标在合理范围内'], 'priority': 'P1', 'category': '事务测试'}, {'id': 'TC-数据一致性风险：退回操作可能导致数据不一致-004', 'title': '数据一致性风险：退回操作可能导致数据不一致 - 验证退回操作后的审批流程数据完整性', 'preconditions': ['系统中有已完成部分审批步骤的流程', '流程包含多个审批节点和历史记录'], 'steps': ['执行一键退回操作', '检查审批流程历史记录的完整性', '验证退回后流程状态的正确性', '确认相关业务数据的完整性'], 'expected_results': ['审批历史记录完整保存，无数据丢失', '流程状态正确回退到指定节点', '业务关联数据保持一致性', '退回操作记录完整记录在审计日志中'], 'priority': 'P1', 'category': '数据完整性测试'}, {'id': 'TC-并发操作风险：多用户同时操作可能产生冲突-001', 'title': '并发操作风险：多用户同时操作可能产生冲突 - 并发操作风险：多用户同时执行一键退回操作的数据一致性验证', 'preconditions': ['系统中有多个有效的集团超管账号', '存在至少一个待审批流程实例', '所有测试用户都有执行一键退回操作的权限', '测试环境已部署监控工具用于检测数据一致性'], 'steps': ['使用JMeter配置并发测试脚本，模拟5个集团超管用户同时执行一键退回操作', '设置并发请求在同一毫秒内发送到服务器', '执行并发测试并记录所有响应结果', '检查数据库中的流程状态和数据完整性', '验证审批流程是否按照预期状态转换'], 'expected_results': ['系统正确处理并发请求，无系统崩溃或死锁发生', '所有并发操作要么全部成功执行，要么只有一个操作成功执行（根据业务规则）', '数据库数据保持一致性，无数据损坏或丢失', '流程状态正确转换，无状态混乱或异常', '系统返回适当的响应码和提示信息'], 'priority': 'P0', 'category': '并发测试'}, {'id': 'TC-并发操作风险：多用户同时操作可能产生冲突-002', 'title': '并发操作风险：多用户同时操作可能产生冲突 - 并发操作风险：高并发压力下一键退回操作的系统稳定性测试', 'preconditions': ['系统中有足够的测试用户账号', '准备大量待审批流程实例用于测试', '性能监控工具已部署（如JMeter、系统资源监控）', '测试环境具备处理高并发请求的能力'], 'steps': ['使用JMeter模拟100个用户同时执行一键退回操作', '监控系统CPU、内存、网络带宽等资源使用情况', '记录系统响应时间和吞吐量指标', '逐步增加并发用户数至系统极限', '分析系统在高并发下的性能表现和稳定性'], 'expected_results': ['系统在高并发下保持稳定，无崩溃或服务不可用', '响应时间在可接受范围内（如<3秒）', '系统资源消耗在合理范围内，无内存泄漏', '错误率低于1%，大部分请求成功处理', '系统能够优雅降级或提供适当的错误提示'], 'priority': 'P0', 'category': '压力测试'}, {'id': 'TC-并发操作风险：多用户同时操作可能产生冲突-003', 'title': '并发操作风险：多用户同时操作可能产生冲突 - 并发操作风险：混合操作类型并发执行的功能正确性测试', 'preconditions': ['系统中有多个不同类型的用户账号（超管、普通用户等）', '存在多个处于不同状态的流程实例', '测试工具支持模拟混合类型的并发操作'], 'steps': ['配置并发测试场景：模拟超管执行退回操作的同时，普通用户执行查看、搜索等操作', '同时发送混合类型的并发请求', '监控系统对各类型请求的处理情况', '验证数据一致性和操作结果的正确性', '检查权限控制是否在并发环境下正常工作'], 'expected_results': ['系统正确处理混合类型的并发请求', '权限控制机制在并发环境下正常工作，无权限绕过', '各操作结果正确，无数据交叉污染', '系统响应符合各操作的业务逻辑要求', '无死锁或资源竞争导致的系统异常'], 'priority': 'P1', 'category': '并发测试'}, {'id': 'TC-并发操作风险：多用户同时操作可能产生冲突-004', 'title': '并发操作风险：多用户同时操作可能产生冲突 - 并发操作风险：长时间高负载下的系统耐久性测试', 'preconditions': ['系统准备大量测试数据和用户账号', '性能监控和日志记录工具已配置完成', '测试环境能够模拟长时间运行场景'], 'steps': ['使用JMeter模拟持续30分钟的中等并发负载（50个用户/秒）', '每隔5分钟执行一次一键退回操作的并发测试', '监控系统资源使用趋势和性能指标变化', '检查系统在长时间运行下的稳定性和性能衰减情况', '分析日志中的错误和异常信息'], 'expected_results': ['系统在长时间高负载下保持稳定运行', '性能指标无明显衰减，响应时间保持稳定', '系统资源使用率在合理范围内波动', '无内存泄漏或资源耗尽问题', '错误率保持在较低水平（<0.5%）'], 'priority': 'P1', 'category': '压力测试'}, {'id': 'TC-流程状态管理风险：状态转换可能出错-001', 'title': '流程状态管理风险：状态转换可能出错 - 集团超管权限下状态转换正确性验证', 'preconditions': ['系统已部署并正常运行', '存在一个处于审批中的流程实例', '当前用户为集团超级管理员角色', '用户已登录系统并拥有相应权限'], 'steps': ['导航到流程管理页面', '选择目标审批流程实例', '执行一键退回操作', '确认退回操作完成'], 'expected_results': ["流程状态从'审批中'正确转换为'已退回'", '流程数据完整性得到保持，无数据丢失或损坏', '系统显示操作成功的提示信息', '流程可重新启动进入审批流程'], 'priority': 'P0', 'category': '状态转换测试'}, {'id': 'TC-流程状态管理风险：状态转换可能出错-002', 'title': '流程状态管理风险：状态转换可能出错 - 非授权用户状态转换权限控制', 'preconditions': ['系统已部署并正常运行', '存在一个处于审批中的流程实例', '当前用户为普通用户角色（非集团超管）', '用户已登录系统'], 'steps': ['导航到流程管理页面', '尝试选择目标审批流程实例', '尝试执行一键退回操作'], 'expected_results': ['系统拒绝执行退回操作并显示权限不足提示', '流程状态保持原状，未发生异常转换', '无权限绕过漏洞，操作被正确拦截'], 'priority': 'P0', 'category': '状态转换测试'}, {'id': 'TC-流程状态管理风险：状态转换可能出错-003', 'title': '流程状态管理风险：状态转换可能出错 - 多流程实例并发状态转换测试', 'preconditions': ['系统已部署并正常运行', '存在多个处于不同状态的流程实例', '当前用户为集团超级管理员角色', '系统支持并发操作'], 'steps': ['同时选择多个流程实例', '并发执行一键退回操作', '监控系统资源消耗和响应时间'], 'expected_results': ["所有选中的流程实例状态正确转换为'已退回'", '系统响应时间在合理范围内（如<3秒）', '无数据竞争或状态转换冲突发生', '系统资源消耗在正常范围内'], 'priority': 'P1', 'category': '流程测试'}, {'id': 'TC-流程状态管理风险：状态转换可能出错-004', 'title': '流程状态管理风险：状态转换可能出错 - 异常流程状态转换边界测试', 'preconditions': ['系统已部署并正常运行', '存在处于终态（如已完成、已终止）的流程实例', '当前用户为集团超级管理员角色'], 'steps': ['选择处于终态的流程实例', '尝试执行一键退回操作', '观察系统响应和行为'], 'expected_results': ['系统拒绝从终态执行退回操作', "显示适当的错误提示信息（如'该流程已结束，无法退回'）", '流程状态保持原终态不变', '无系统异常或崩溃发生'], 'priority': 'P2', 'category': '状态转换测试'}, {'id': 'TC-流程状态管理风险：状态转换可能出错-005', 'title': '流程状态管理风险：状态转换可能出错 - 流程重启后状态一致性验证', 'preconditions': ['系统已部署并正常运行', '存在一个已退回的流程实例', '当前用户有权限重新启动流程'], 'steps': ['选择已退回的流程实例', '执行流程重启操作', '验证重启后的流程状态和数据'], 'expected_results': ["流程成功从'已退回'状态转换为'审批中'", '所有流程相关数据完整恢复', '审批流程可正常继续进行', '历史记录正确记录状态转换过程'], 'priority': 'P1', 'category': '流程测试'}, {'id': 'TC-用户体验风险：操作流程复杂可能导致用户误操作-001', 'title': '用户体验风险：操作流程复杂可能导致用户误操作 - 权限控制验证', 'preconditions': ['系统已部署并正常运行', '存在不同权限级别的用户账户（普通用户、管理员、集团超管）', '测试环境已配置好权限管理系统'], 'steps': ['使用普通用户账户登录系统', '尝试执行一键退回操作', '使用管理员账户登录系统', '再次尝试执行一键退回操作', '使用集团超管账户登录系统', '执行一键退回操作'], 'expected_results': ['普通用户无法看到或执行退回操作按钮', '管理员用户无法执行退回操作或收到权限不足提示', '只有集团超管能够成功执行退回操作', '所有权限验证操作都应有明确的错误提示信息'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-用户体验风险：操作流程复杂可能导致用户误操作-002', 'title': '用户体验风险：操作流程复杂可能导致用户误操作 - 操作流程简化验证', 'preconditions': ['系统已部署并正常运行', '用户已登录系统并具有相应权限', '存在可执行退回操作的业务流程实例'], 'steps': ['导航到业务流程管理页面', '选择需要退回的业务流程实例', '点击一键退回操作按钮', '观察操作确认对话框的显示内容', '确认执行退回操作', '观察操作完成后的反馈信息'], 'expected_results': ['一键退回操作按钮位置明显且易于识别', '操作步骤不超过3步即可完成退回操作', '确认对话框提供清晰的风险提示和操作说明', '操作完成后有明确的成功或失败状态提示', '整个操作流程流畅，无明显等待或卡顿'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-用户体验风险：操作流程复杂可能导致用户误操作-003', 'title': '用户体验风险：操作流程复杂可能导致用户误操作 - 防误操作机制验证', 'preconditions': ['系统已部署并正常运行', '用户已登录系统并具有退回操作权限', '存在多个业务流程实例'], 'steps': ['选择业务流程实例准备执行退回操作', '在确认对话框出现时点击取消按钮', '重新选择业务流程实例执行退回操作', '在确认对话框中输入错误的确认信息', '最后正确执行退回操作'], 'expected_results': ['取消操作后系统应返回原页面，不执行任何退回操作', '输入错误确认信息时应提示错误并不执行操作', '系统应提供二次确认机制防止误操作', '关键操作应有操作日志记录', '误操作防护机制不应影响正常操作的执行效率'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-用户体验风险：操作流程复杂可能导致用户误操作-004', 'title': '用户体验风险：操作流程复杂可能导致用户误操作 - 用户验收测试', 'preconditions': ['系统测试环境已准备就绪', '招募的代表性用户组已就位', '测试场景和任务清单已准备完成'], 'steps': ['向测试用户介绍一键退回功能的基本概念', '让用户自行尝试发现并执行退回操作', '观察用户操作过程中的困惑点和错误操作', '记录用户完成操作所需时间和步骤数', '收集用户对操作流程复杂度的反馈意见', '让用户评价提示信息的清晰度和帮助性'], 'expected_results': ['90%以上的用户能够在3分钟内独立完成退回操作', '用户误操作率低于5%', '用户对操作流程的满意度评分达到4分以上（5分制）', '收集到具体的用户体验改进建议', '确认操作流程符合用户心理模型和操作习惯'], 'priority': 'P3', 'category': '用户验收测试'}, {'id': 'TC-用户体验风险：操作流程复杂可能导致用户误操作-005', 'title': '用户体验风险：操作流程复杂可能导致用户误操作 - 响应性能测试', 'preconditions': ['性能测试环境已配置完成', 'JMeter测试脚本已准备就绪', '系统基线性能数据已收集'], 'steps': ['使用JMeter模拟10个用户同时执行退回操作', '逐渐增加并发用户数至50个', '监控系统响应时间和资源消耗情况', '记录操作成功率和错误率', '分析性能瓶颈和优化点'], 'expected_results': ['单个退回操作响应时间小于2秒', '并发50用户时系统响应时间小于5秒', 'CPU和内存使用率在合理范围内（CPU<80%，内存<70%）', '操作成功率保持在99.9%以上', '系统在高并发下仍能保持稳定的用户体验'], 'priority': 'P1', 'category': '性能测试'}]}
2025-08-28 17:13:49 - src.agents.assistant - INFO - 当前进度: 3/4 - 当前阶段: 质量保证
2025-08-28 17:13:49 - src.agents.assistant - INFO - 开始质量保证审查
2025-08-28 17:13:49 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:14:25 - src.agents.quality_assurance - WARNING - JSON解析失败，将使用文本解析方式: Expecting ',' delimiter: line 27 column 5 (char 1163)
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 使用顺序方式处理测试用例
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 将103个测试用例分成4批进行处理，每批约34个用例
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 开始处理第1批测试用例，共34个
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 第1批测试用例处理完成
2025-08-28 17:14:25 - src.agents.quality_assurance - WARNING - JSON解析失败，将使用文本解析方式: Expecting ',' delimiter: line 27 column 5 (char 1163)
2025-08-28 17:14:25 - src.utils.agent_io - INFO - 已保存quality_assurance_batch_1的执行结果到agent_results/quality_assurance_batch_1_result.json
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 已保存第1批质量审查结果
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 开始处理第2批测试用例，共34个
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 第2批测试用例处理完成
2025-08-28 17:14:25 - src.agents.quality_assurance - WARNING - JSON解析失败，将使用文本解析方式: Expecting ',' delimiter: line 27 column 5 (char 1163)
2025-08-28 17:14:25 - src.utils.agent_io - INFO - 已保存quality_assurance_batch_2的执行结果到agent_results/quality_assurance_batch_2_result.json
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 已保存第2批质量审查结果
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 开始处理第3批测试用例，共34个
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 第3批测试用例处理完成
2025-08-28 17:14:25 - src.agents.quality_assurance - WARNING - JSON解析失败，将使用文本解析方式: Expecting ',' delimiter: line 27 column 5 (char 1163)
2025-08-28 17:14:25 - src.utils.agent_io - INFO - 已保存quality_assurance_batch_3的执行结果到agent_results/quality_assurance_batch_3_result.json
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 已保存第3批质量审查结果
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 开始处理第4批测试用例，共1个
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 第4批测试用例处理完成
2025-08-28 17:14:25 - src.agents.quality_assurance - WARNING - JSON解析失败，将使用文本解析方式: Expecting ',' delimiter: line 27 column 5 (char 1163)
2025-08-28 17:14:25 - src.utils.agent_io - INFO - 已保存quality_assurance_batch_4的执行结果到agent_results/quality_assurance_batch_4_result.json
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 已保存第4批质量审查结果
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 所有测试用例处理完成，共改进103个测试用例
2025-08-28 17:14:25 - src.utils.agent_io - INFO - 已保存quality_assurance的执行结果到agent_results/quality_assurance_result.json
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 质量审查结果已成功保存
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 测试用例审查完成，共审查 103 个测试用例
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 已删除临时质量审查批次文件: agent_results/quality_assurance_batch_3_result.json
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 已删除临时质量审查批次文件: agent_results/quality_assurance_batch_2_result.json
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 已删除临时质量审查批次文件: agent_results/quality_assurance_batch_4_result.json
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 已删除临时质量审查批次文件: agent_results/quality_assurance_batch_1_result.json
2025-08-28 17:14:25 - src.agents.quality_assurance - INFO - 所有临时质量审查批次文件已清理完毕，共删除 4 个文件
2025-08-28 17:14:25 - src.agents.assistant - INFO - 质量保证审查完成，结果: {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'reviewed_cases': [{'id': 'TC-仅集团用户可执行一键退回操作-001', 'title': '仅集团用户可执行一键退回操作 - 验证集团超管用户执行一键退回操作的功能正确性', 'preconditions': ['系统已部署并正常运行', '存在待审批的流程实例', '集团超级管理员账号已登录系统', '当前用户具有执行退回操作的权限'], 'steps': ['导航至待审批流程列表页面', '选择符合条件的流程实例', "点击'一键退回'操作按钮", '确认退回操作提示信息'], 'expected_results': ['一键退回操作成功执行', "流程状态正确变更为'已退回'状态", '相关数据清理和流程重启操作完成', '系统显示操作成功的提示信息'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-002', 'title': '仅集团用户可执行一键退回操作 - 验证普通用户无法执行一键退回操作的权限控制', 'preconditions': ['系统已部署并正常运行', '存在待审批的流程实例', '普通用户账号已登录系统', '普通用户不具备集团超管权限'], 'steps': ['使用普通用户账号登录系统', '导航至待审批流程列表页面', '查看操作按钮区域'], 'expected_results': ['一键退回操作按钮对普通用户不可见或禁用', '普通用户无法通过任何方式执行退回操作', '系统显示权限不足的提示信息（如尝试执行）'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-003', 'title': '仅集团用户可执行一键退回操作 - 验证非集团用户尝试绕过权限执行一键退回操作的安全性', 'preconditions': ['系统已部署并正常运行', '存在待审批的流程实例', '非集团用户账号已登录系统', 'OWASP ZAP安全测试工具已配置'], 'steps': ['使用非集团用户账号登录系统', '尝试通过URL直接访问一键退回API接口', '使用Postman模拟发送退回操作请求', '检查系统响应和权限验证机制'], 'expected_results': ['系统拒绝非授权用户的API请求', '返回适当的错误代码（如403 Forbidden）', '操作日志记录权限验证失败事件', '系统未执行任何退回操作'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-004', 'title': '仅集团用户可执行一键退回操作 - 验证集团用户执行一键退回操作后的数据一致性', 'preconditions': ['系统已部署并正常运行', '存在多个待审批的流程实例', '集团超级管理员账号已登录系统', '数据库监控工具已就绪'], 'steps': ['执行一键退回操作', '检查数据库中的流程状态字段更新', '验证相关数据表的清理操作', '确认流程重启后的初始状态'], 'expected_results': ['所有相关数据表的状态更新保持一致', '数据清理操作完整执行，无残留数据', '流程重启后处于正确的初始状态', '无数据不一致或异常情况发生'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回按钮仅在状态=审批通过且当前用户=超管时显示-001', 'title': '一键退回按钮仅在状态=审批通过且当前用户=超管时显示 - 验证审批通过状态下超管用户显示一键退回按钮', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批通过'的审批记录", '用户已进入审批详情页面'], 'steps': ['访问审批详情页面', '检查页面中是否显示一键退回按钮'], 'expected_results': ['一键退回按钮正常显示在页面中', '按钮状态为可点击'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回按钮仅在状态=审批通过且当前用户=超管时显示-002', 'title': '一键退回按钮仅在状态=审批通过且当前用户=超管时显示 - 验证非审批通过状态下超管用户不显示一键退回按钮', 'preconditions': ['系统已登录集团超管账号', "存在状态不为'审批通过'的审批记录（如审批中、已驳回等）", '用户已进入审批详情页面'], 'steps': ['访问审批详情页面', '检查页面中是否显示一键退回按钮'], 'expected_results': ['一键退回按钮不显示在页面中', '页面布局正常，无异常显示'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回按钮仅在状态=审批通过且当前用户=超管时显示-003', 'title': '一键退回按钮仅在状态=审批通过且当前用户=超管时显示 - 验证非超管用户即使审批通过状态也不显示一键退回按钮', 'preconditions': ['系统已登录非超管账号（如普通用户、审批人等）', "存在状态为'审批通过'的审批记录", '用户已进入审批详情页面'], 'steps': ['访问审批详情页面', '检查页面中是否显示一键退回按钮'], 'expected_results': ['一键退回按钮不显示在页面中', '页面无权限相关错误提示'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-一键退回按钮仅在状态=审批通过且当前用户=超管时显示-004', 'title': '一键退回按钮仅在状态=审批通过且当前用户=超管时显示 - 验证一键退回按钮UI显示正确性和样式一致性', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批通过'的审批记录", '用户已进入审批详情页面'], 'steps': ['访问审批详情页面', '检查一键退回按钮的文本、图标、颜色、大小等UI属性', '验证按钮在不同屏幕分辨率下的显示效果'], 'expected_results': ["按钮文本显示为'一键退回'", '按钮样式符合设计规范', '在不同分辨率下显示正常，无布局错乱'], 'priority': 'P3', 'category': 'UI测试', 'description': ''}, {'id': 'TC-一键退回按钮仅在状态=审批通过且当前用户=超管时显示-005', 'title': '一键退回按钮仅在状态=审批通过且当前用户=超管时显示 - 验证权限绕过漏洞-非超管用户尝试直接访问退回接口', 'preconditions': ['系统已登录非超管账号', "存在状态为'审批通过'的审批记录", '获取到一键退回操作的API接口地址'], 'steps': ['使用非超管用户token直接调用一键退回API接口', '检查接口返回结果'], 'expected_results': ['接口返回权限不足错误（如403 Forbidden）', '审批状态未发生改变', '系统记录安全审计日志'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-一键退回按钮仅在状态=审批通过且当前用户=超管时显示-006', 'title': '一键退回按钮仅在状态=审批通过且当前用户=超管时显示 - 验证不同浏览器下一键退回按钮的显示兼容性', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批通过'的审批记录", '准备Chrome、Firefox、Safari、Edge等主流浏览器'], 'steps': ['在不同浏览器中访问审批详情页面', '检查一键退回按钮的显示状态和功能'], 'expected_results': ['在所有主流浏览器中一键退回按钮正常显示', '按钮点击功能正常工作', '页面布局无异常'], 'priority': 'P2', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-退回操作必须填写退回原因-001', 'title': '验证退回操作必须填写退回原因的功能正确性', 'preconditions': ['用户已登录系统并具有退回操作权限', '存在可退回的审批流程实例', '系统处于正常运行状态'], 'steps': ['进入审批流程详情页面', "点击'退回'操作按钮", '在弹出的退回对话框中不填写退回原因', "点击'确认退回'按钮"], 'expected_results': ["系统提示'退回原因不能为空'的错误信息", '退回操作未执行，审批流程状态未改变', '用户停留在当前页面，退回原因输入框获得焦点'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回操作必须填写退回原因-002', 'title': '退回操作必须填写退回原因 - 验证退回操作填写原因后的成功执行', 'preconditions': ['用户已登录系统并具有退回操作权限', '存在可退回的审批流程实例', '系统处于正常运行状态'], 'steps': ['进入审批流程详情页面', "点击'退回'操作按钮", '在弹出的退回对话框中填写有效的退回原因', "点击'确认退回'按钮"], 'expected_results': ['系统执行退回操作成功', "审批流程状态正确转换为'已退回'", '退回原因被正确记录并显示在流程历史中', "系统显示'退回成功'的提示信息"], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回操作必须填写退回原因-003', 'title': '退回操作必须填写退回原因 - 验证退回操作的权限控制安全性', 'preconditions': ['存在普通用户和集团超管两种角色账户', '存在可退回的审批流程实例'], 'steps': ['使用普通用户账户登录系统', '尝试执行退回操作', '使用集团超管账户登录系统', '执行退回操作并填写退回原因'], 'expected_results': ['普通用户无法看到或执行退回操作按钮', '集团超管能够正常执行退回操作', '系统正确记录超管执行的退回操作日志'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-退回操作必须填写退回原因-004', 'title': '退回操作必须填写退回原因 - 验证退回操作的性能表现', 'preconditions': ['系统已部署性能测试环境', '准备大量并发退回操作测试数据'], 'steps': ['使用JMeter模拟100个并发用户执行退回操作', '每个操作都填写有效的退回原因', '监控系统响应时间和资源消耗', '分析性能测试结果'], 'expected_results': ['平均响应时间在2秒以内', '95%的请求响应时间在3秒以内', '系统CPU和内存使用率在合理范围内', '无错误响应或超时情况发生'], 'priority': 'P1', 'category': '性能测试', 'description': ''}, {'id': 'TC-退回操作必须填写退回原因-005', 'title': '退回操作必须填写退回原因 - 验证退回操作在不同浏览器的兼容性', 'preconditions': ['准备Chrome、Firefox、Safari、Edge等主流浏览器', '系统支持跨浏览器访问'], 'steps': ['在不同浏览器中登录系统', '执行退回操作并填写退回原因', '验证操作界面显示和功能正常性', '检查错误提示信息的显示效果'], 'expected_results': ['在所有支持的浏览器中退回操作功能正常', '界面布局和样式保持一致', '错误提示信息正确显示', '操作流程在各浏览器中无差异'], 'priority': 'P2', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-退回操作必须填写退回原因-006', 'title': '退回操作必须填写退回原因 - 验证退回操作的用户体验和界面友好性', 'preconditions': ['用户已登录系统并具有退回操作权限', '存在可退回的审批流程实例'], 'steps': ['观察退回操作按钮的位置和标识', '点击退回按钮查看弹出对话框的布局', '测试退回原因输入框的交互体验', '验证错误提示信息的清晰度和指导性'], 'expected_results': ['退回操作按钮位置明显且易于识别', '退回对话框布局合理，操作流程直观', '退回原因输入框提供适当的占位符提示', '错误提示信息明确指导用户如何正确操作'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-退回后清空历史审批意见并重新开始审批流程-001', 'title': '退回后清空历史审批意见并重新开始审批流程 - 验证集团超管执行退回操作后历史审批意见被清空', 'preconditions': ['审批流程已创建并有多条历史审批意见', '当前用户为集团超级管理员', '审批流程处于可退回状态'], 'steps': ['登录系统并使用集团超管账号', '进入审批流程详情页面', '执行一键退回操作', '查看审批历史记录'], 'expected_results': ['退回操作执行成功', '历史审批意见被完全清空', '审批流程状态重置为初始状态', '系统显示退回成功提示信息'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回后清空历史审批意见并重新开始审批流程-002', 'title': '退回后清空历史审批意见并重新开始审批流程 - 验证非集团超管用户无法执行退回操作', 'preconditions': ['审批流程已创建', '当前用户为普通用户或非超管权限用户', '审批流程处于可退回状态'], 'steps': ['登录系统并使用非超管账号', '进入审批流程详情页面', '尝试执行一键退回操作'], 'expected_results': ['退回操作按钮不可见或禁用', '系统提示权限不足或操作被拒绝', '审批流程状态保持不变', '历史审批意见未被清空'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-退回后清空历史审批意见并重新开始审批流程-003', 'title': '退回后清空历史审批意见并重新开始审批流程 - 验证退回操作后审批流程重新开始的数据完整性', 'preconditions': ['审批流程包含多条审批记录和意见', '当前用户为集团超级管理员', '审批数据已备份用于验证'], 'steps': ['执行退回操作前记录当前审批数据状态', '执行一键退回操作', '验证数据库中的审批意见数据', '检查审批流程状态字段'], 'expected_results': ['数据库中的历史审批意见记录被正确删除', '审批流程状态字段更新为初始状态', '无数据残留或部分删除的情况', '数据操作日志记录完整'], 'priority': 'P0', 'category': '数据完整性测试', 'description': ''}, {'id': 'TC-退回后清空历史审批意见并重新开始审批流程-004', 'title': '退回后清空历史审批意见并重新开始审批流程 - 验证退回操作后新审批流程的正确性', 'preconditions': ['审批流程已被退回', '历史审批意见已清空', '新审批人员可用'], 'steps': ['确认审批流程已重置为初始状态', '重新提交审批请求', '新审批人员进行审批操作', '验证新审批流程的完整性'], 'expected_results': ['新审批流程正常启动', '审批节点按照预设流程正确流转', '新审批意见能够正常添加和保存', '流程状态更新正确'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回后清空历史审批意见并重新开始审批流程-005', 'title': '退回后清空历史审批意见并重新开始审批流程 - 验证退回操作在不同浏览器下的兼容性', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器环境', '审批流程处于可退回状态', '集团超管账号可用'], 'steps': ['在不同浏览器中登录系统', '执行退回操作', '观察操作结果和界面显示'], 'expected_results': ['所有浏览器中退回操作功能正常', '界面元素显示一致且正确', '操作响应时间在合理范围内', '无浏览器相关的错误或异常'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-退回后清空历史审批意见并重新开始审批流程-006', 'title': '退回后清空历史审批意见并重新开始审批流程 - 验证退回操作在高并发场景下的性能表现', 'preconditions': ['准备性能测试环境', '配置JMeter测试脚本', '准备多个可退回的审批流程'], 'steps': ['模拟多用户同时执行退回操作', '监控系统资源消耗（CPU、内存、数据库连接）', '记录操作响应时间', '分析性能指标'], 'expected_results': ['平均响应时间小于2秒', '95%请求响应时间小于3秒', '系统资源消耗在合理范围内', '无数据库死锁或性能瓶颈'], 'priority': 'P3', 'category': '性能测试', 'description': ''}, {'id': 'TC-退回后清空历史审批意见并重新开始审批流程-007', 'title': '退回后清空历史审批意见并重新开始审批流程 - 验证退回操作的界面可用性和提示信息', 'preconditions': ['审批流程处于可退回状态', '用户已登录系统', '界面语言设置为中文'], 'steps': ['查看退回操作按钮的位置和标识', '执行退回操作前确认提示信息', '操作完成后查看结果提示', '验证错误场景的提示信息'], 'expected_results': ['操作按钮位置明显且易于识别', '操作前有明确的确认提示', '操作成功后有清晰的完成提示', '错误信息明确指导用户后续操作'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-001', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证集团超管执行退回操作后状态正确变为上级驳回', 'preconditions': ['系统已登录集团超管账号', '存在待审批的填报任务', '填报任务处于可退回状态'], 'steps': ['进入待审批任务列表页面', '选择目标填报任务执行退回操作', '确认退回操作并填写退回原因', '查看任务状态变化'], 'expected_results': ['退回操作执行成功', "任务状态由原状态变为'上级驳回'", '填报人收到退回通知', '退回原因正确记录在系统中'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-002', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证非集团超管用户无法执行退回操作', 'preconditions': ['系统已登录普通用户账号', '存在待审批的填报任务', '用户无退回操作权限'], 'steps': ['进入待审批任务列表页面', '尝试对目标填报任务执行退回操作', '观察系统响应'], 'expected_results': ['退回操作按钮对无权限用户不可见或禁用', '尝试执行退回操作时系统提示权限不足', '任务状态保持不变', '无任何数据被修改'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-003', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证填报人修改后重新提交流程的正确性', 'preconditions': ['系统已登录填报人账号', "存在状态为'上级驳回'的填报任务", '填报人具备修改权限'], 'steps': ['进入我的任务列表页面', "选择状态为'上级驳回'的任务", '根据退回原因修改填报内容', '重新提交修改后的任务', '查看任务状态变化'], 'expected_results': ['填报人能够正常查看和修改被退回的任务', '修改后重新提交操作成功', "任务状态由'上级驳回'变为'待审批'", '审批流程重新启动'], 'priority': 'P1', 'category': '流程测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-004', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证退回操作在多浏览器下的兼容性', 'preconditions': ['系统已登录集团超管账号', '存在待审批的填报任务', '使用不同浏览器（Chrome, Firefox, Safari, Edge）'], 'steps': ['在不同浏览器中登录系统', '执行退回操作流程', '观察操作界面和功能表现'], 'expected_results': ['在所有主流浏览器中退回操作功能正常', '界面布局和样式在不同浏览器中保持一致', '操作响应和状态转换在所有浏览器中正确执行'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-005', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证退回操作在高并发下的性能表现', 'preconditions': ['系统已准备多个待审批任务', '性能测试工具已配置完成', '系统监控工具已启动'], 'steps': ['使用JMeter模拟多用户同时执行退回操作', '监控系统响应时间和资源消耗', '记录性能指标数据'], 'expected_results': ['退回操作平均响应时间在3秒以内', '系统CPU和内存使用率在合理范围内', '无操作失败或数据不一致情况', '系统在高并发下保持稳定运行'], 'priority': 'P1', 'category': '性能测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-006', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证退回操作的用户界面友好性', 'preconditions': ['系统已登录集团超管账号', '存在待审批的填报任务'], 'steps': ['执行退回操作流程', '观察操作过程中的提示信息和界面反馈', '检查错误处理机制'], 'expected_results': ['操作界面布局合理，按钮位置明确', '提示信息清晰易懂，指导用户正确操作', '错误处理友好，提供明确的解决方案', '操作流程顺畅，无卡顿或混淆'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-001', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证集团超管执行退回操作后流程状态正确转换为上级审批中', 'preconditions': ['存在一个已提交的审批流程', '当前用户为集团超级管理员', '审批流程处于可退回状态'], 'steps': ['登录系统作为集团超管', '导航到待处理审批任务页面', '选择目标审批流程并执行退回操作', '确认退回操作'], 'expected_results': ['退回操作执行成功', "流程状态从'退回'正确转换为'上级审批中'", '系统生成新的审批任务并分配给上级审批人', '显示操作成功的提示信息'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-002', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证非集团超管用户无法执行退回操作权限控制', 'preconditions': ['存在一个已提交的审批流程', '当前用户为普通用户或非超管权限用户', '审批流程处于可退回状态'], 'steps': ['使用非超管权限账户登录系统', '导航到待处理审批任务页面', '尝试执行退回操作'], 'expected_results': ['退回操作按钮对非授权用户不可见或禁用', '如果尝试执行退回操作，系统拒绝并显示权限不足提示', '流程状态保持不变，未发生状态转换'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-003', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证退回操作在并发场景下的数据一致性', 'preconditions': ['存在多个审批流程实例', '系统处于高并发环境', '数据库连接池配置正常'], 'steps': ['使用JMeter模拟100个并发用户同时执行退回操作', '监控数据库事务和锁状态', '检查操作完成后的数据一致性'], 'expected_results': ['所有退回操作在3秒内完成响应', '数据库事务完整，无数据丢失或损坏', '流程状态转换正确，无状态冲突', '系统资源消耗在合理范围内（CPU<80%，内存<85%）'], 'priority': 'P0', 'category': '性能测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-004', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证退回操作在不同浏览器上的兼容性', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器环境', '系统部署在测试环境'], 'steps': ['使用不同浏览器访问系统', '执行退回操作流程', '观察界面显示和功能操作'], 'expected_results': ['在所有主流浏览器上退回功能正常工作', '界面元素显示正常，无布局错乱', '操作响应一致，无浏览器特异性问题', '提示信息和状态显示正确'], 'priority': 'P1', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-005', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证退回操作的用户界面友好性和操作流畅性', 'preconditions': ['用户已登录系统', '有可退回的审批流程'], 'steps': ['导航到审批任务列表', '点击退回操作按钮', '观察确认对话框的显示', '完成退回操作并查看结果页面'], 'expected_results': ['操作按钮位置明显，易于识别', '确认对话框提示信息清晰明确', '操作过程流畅，无卡顿或延迟', '成功/失败提示信息易懂，指导用户后续操作', '整个操作流程符合用户预期'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-006', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证退回操作后审批历史记录的正确性', 'preconditions': ['审批流程已有审批历史记录', '流程处于退回状态'], 'steps': ['执行退回操作', '查看审批历史记录页面', '检查历史记录的完整性和准确性'], 'expected_results': ['退回操作被正确记录在审批历史中', '记录包含操作时间、操作人、操作类型等信息', '历史记录时间顺序正确', '新一轮审批开始时，历史记录清晰区分不同审批轮次'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-007', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证网络异常时退回操作的异常处理', 'preconditions': ['使用网络模拟工具（如Charles）', '审批流程处于可退回状态'], 'steps': ['在执行退回操作时模拟网络中断', '观察系统响应和错误处理', '恢复网络后检查系统状态'], 'expected_results': ['网络异常时系统给出适当的错误提示', '操作失败后流程状态保持一致性，未处于中间状态', '无数据损坏或部分更新问题', '用户可重新尝试操作'], 'priority': 'P4', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回只在叶子节点展示入口-001', 'title': '一键退回只在叶子节点展示入口 - 验证集团超管在叶子节点能看到一键退回入口', 'preconditions': ['用户已登录系统且具有集团超管权限', '存在包含叶子节点的审批流程', '当前处于需要退回操作的审批状态'], 'steps': ['登录系统并导航到审批流程管理页面', '找到叶子节点对应的审批任务', '检查页面是否显示一键退回操作入口'], 'expected_results': ['叶子节点审批任务页面正确显示一键退回按钮或入口', '非叶子节点不显示一键退回入口', '入口位置和样式符合UI设计规范'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回只在叶子节点展示入口-002', 'title': '一键退回只在叶子节点展示入口 - 验证非集团超管用户在叶子节点看不到一键退回入口', 'preconditions': ['用户已登录系统且具有普通用户权限', '存在包含叶子节点的审批流程', '当前处于需要退回操作的审批状态'], 'steps': ['使用普通用户账号登录系统', '导航到审批流程管理页面', '查看叶子节点对应的审批任务页面'], 'expected_results': ['叶子节点审批任务页面不显示一键退回按钮或入口', '页面无权限错误提示', '用户只能看到其权限范围内的操作选项'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-一键退回只在叶子节点展示入口-003', 'title': '一键退回只在叶子节点展示入口 - 验证一键退回入口在不同浏览器中的显示兼容性', 'preconditions': ['用户已登录系统且具有集团超管权限', '存在包含叶子节点的审批流程', '准备Chrome、Firefox、Safari、Edge浏览器环境'], 'steps': ['在不同浏览器中分别登录系统', '导航到叶子节点审批任务页面', '检查一键退回入口的显示效果和功能'], 'expected_results': ['所有浏览器中一键退回入口均正常显示', '入口样式和位置保持一致', '点击功能在所有浏览器中正常工作'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-一键退回只在叶子节点展示入口-004', 'title': '一键退回只在叶子节点展示入口 - 验证一键退回入口的响应性能', 'preconditions': ['用户已登录系统且具有集团超管权限', '存在大量审批数据的测试环境', '性能监控工具已准备就绪'], 'steps': ['导航到包含大量审批任务的页面', '记录页面加载时间', '检查一键退回入口的渲染性能'], 'expected_results': ['页面加载时间在3秒以内', '一键退回入口渲染无延迟', '系统资源消耗在合理范围内'], 'priority': 'P1', 'category': '性能测试', 'description': ''}, {'id': 'TC-一键退回只在叶子节点展示入口-005', 'title': '一键退回只在叶子节点展示入口 - 验证一键退回入口的UI交互和提示信息', 'preconditions': ['用户已登录系统且具有集团超管权限', '存在叶子节点审批任务'], 'steps': ['导航到叶子节点审批任务页面', '观察一键退回入口的视觉设计', '悬停在入口上查看提示信息', '点击入口查看后续操作流程'], 'expected_results': ['入口设计清晰醒目，易于识别', '悬停提示信息准确描述功能', '点击后流程引导清晰，操作流畅', '错误提示信息明确易懂'], 'priority': 'P3', 'category': 'UI测试', 'description': ''}, {'id': 'TC-一键退回只在叶子节点展示入口-006', 'title': '一键退回只在叶子节点展示入口 - 验证非叶子节点不显示一键退回入口', 'preconditions': ['用户已登录系统且具有集团超管权限', '存在非叶子节点的审批流程节点'], 'steps': ['导航到非叶子节点审批任务页面', '检查页面操作区域', '确认一键退回入口的显示状态'], 'expected_results': ['非叶子节点审批任务页面不显示一键退回入口', '页面只显示该节点适用的操作选项', '无功能混淆或错误显示'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-组织边界负责人设置和分配功能-001', 'title': '组织边界负责人设置和分配功能-集团超管权限验证', 'preconditions': ['系统已部署并正常运行', '存在集团超管账号和普通用户账号', '组织边界数据已创建'], 'steps': ['使用普通用户账号登录系统', '尝试执行组织边界负责人设置操作', '使用集团超管账号登录系统', '执行组织边界负责人设置操作'], 'expected_results': ['普通用户无法执行负责人设置操作，显示权限不足提示', '集团超管成功执行负责人设置操作，操作记录正确保存'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-组织边界负责人设置和分配功能-002', 'title': '组织边界负责人设置和分配功能-数据一致性验证', 'preconditions': ['系统数据库正常运行', '组织边界数据存在多个层级结构', '负责人信息表已初始化'], 'steps': ['执行组织边界负责人设置操作', '检查数据库中各相关表的数据更新情况', '验证负责人分配后的数据关联关系'], 'expected_results': ['负责人设置操作后，所有相关数据表同步更新', '数据关联关系正确，无数据不一致或丢失情况', '事务处理完整，无部分更新问题'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-组织边界负责人设置和分配功能-003', 'title': '组织边界负责人设置和分配功能-权限绕过安全测试', 'preconditions': ['OWASP ZAP工具已配置', '系统运行在测试环境', '网络抓包工具准备就绪'], 'steps': ['使用普通用户身份尝试直接调用负责人设置API接口', '修改请求参数尝试绕过权限验证', '使用工具扫描权限控制漏洞'], 'expected_results': ['所有非授权访问尝试都被系统拒绝', '权限验证机制有效，无法通过参数修改绕过', '安全扫描未发现权限绕过漏洞'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-组织边界负责人设置和分配功能-004', 'title': '组织边界负责人设置和分配功能-配置参数验证', 'preconditions': ['系统配置管理界面可访问', '具有配置修改权限的账号', '测试配置数据准备完成'], 'steps': ['修改组织边界负责人分配的相关配置参数', '验证配置生效情况', '测试边界值和异常配置参数'], 'expected_results': ['配置参数修改后功能行为正确响应', '异常配置参数被系统正确校验和拒绝', '配置变更日志记录完整'], 'priority': 'P1', 'category': '配置测试', 'description': ''}, {'id': 'TC-组织边界负责人设置和分配功能-005', 'title': '组织边界负责人设置和分配功能-状态转换正确性', 'preconditions': ['组织边界处于不同状态（待分配、已分配、审核中）', '负责人设置功能可用'], 'steps': ['为不同状态的组织边界设置负责人', '验证状态转换是否符合业务规则', '检查状态历史记录完整性'], 'expected_results': ['状态转换符合预定义的业务规则', '状态历史记录完整准确', '非法状态转换被正确阻止'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-组织边界负责人设置和分配功能-006', 'title': '组织边界负责人设置和分配功能-多浏览器兼容性测试', 'preconditions': ['BrowserStack平台可用', '不同浏览器版本准备就绪', '测试用例脚本已编写'], 'steps': ['在Chrome、Firefox、Safari、Edge等主流浏览器中执行负责人设置操作', '验证界面显示和功能一致性', '检查跨浏览器的用户体验'], 'expected_results': ['在所有支持的浏览器中功能正常工作', '界面显示一致，无布局错乱', '操作响应时间在可接受范围内'], 'priority': 'P2', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-组织边界进度查看和搜索功能-001', 'title': '组织边界进度查看和搜索功能 - 组织边界进度查看功能-正常查看所有组织边界进度', 'preconditions': ['用户已登录系统并具有组织边界查看权限', '系统中存在多个组织边界记录', '组织边界模块已正常加载'], 'steps': ['进入组织边界管理页面', '点击进度查看选项卡', '查看所有组织边界的进度列表'], 'expected_results': ['成功显示所有组织边界的进度信息', '进度信息包含组织名称、当前状态、处理进度百分比', '列表按照默认排序规则正确显示'], 'priority': 'P2', 'category': '功能测试', 'description': ''}, {'id': 'TC-组织边界进度查看和搜索功能-002', 'title': '组织边界进度查看和搜索功能 - 组织边界搜索功能-按组织名称关键字搜索', 'preconditions': ['用户已登录系统并具有搜索权限', '系统中存在包含特定关键字的组织边界记录', '搜索功能可用'], 'steps': ['进入组织边界管理页面', '在搜索框中输入已知存在的组织名称关键字', '点击搜索按钮或按回车键'], 'expected_results': ['成功返回包含该关键字的组织边界记录', '搜索结果准确匹配输入的关键字', '显示搜索到的记录数量和详细信息'], 'priority': 'P2', 'category': '搜索测试', 'description': ''}, {'id': 'TC-组织边界进度查看和搜索功能-003', 'title': '组织边界进度查看和搜索功能 - 组织边界搜索功能-按状态筛选搜索', 'preconditions': ['用户已登录系统并具有搜索权限', '系统中存在不同状态的组织边界记录', '状态筛选功能可用'], 'steps': ['进入组织边界管理页面', '点击状态筛选下拉框', "选择特定状态（如'进行中'）", '查看筛选结果'], 'expected_results': ['成功返回所选状态的组织边界记录', '所有显示记录的状态都与筛选条件一致', '筛选结果数量正确显示'], 'priority': 'P2', 'category': '搜索测试', 'description': ''}, {'id': 'TC-组织边界进度查看和搜索功能-004', 'title': '组织边界进度查看和搜索功能 - 组织边界进度查看功能-无权限用户访问控制', 'preconditions': ['用户已登录系统但不具有组织边界查看权限', '组织边界管理页面URL已知'], 'steps': ['尝试直接访问组织边界管理页面URL', '观察系统响应'], 'expected_results': ['系统拒绝访问并显示权限不足提示', '用户被重定向到无权限页面或首页', '未显示任何组织边界进度信息'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-组织边界进度查看和搜索功能-005', 'title': '组织边界进度查看和搜索功能 - 组织边界搜索功能-空搜索结果处理', 'preconditions': ['用户已登录系统并具有搜索权限', '搜索功能可用'], 'steps': ['进入组织边界管理页面', '在搜索框中输入不存在的组织名称关键字', '执行搜索操作'], 'expected_results': ["系统显示'未找到相关记录'的友好提示", '搜索结果区域显示为空或提示信息', '页面布局保持正常，无错误显示'], 'priority': 'P3', 'category': '搜索测试', 'description': ''}, {'id': 'TC-任务状态筛选和查看功能-001', 'title': '任务状态筛选和查看功能 - 任务状态筛选功能验证-按不同状态筛选任务', 'preconditions': ['系统已登录具有任务查看权限的用户账号', '系统中存在不同状态（待处理、进行中、已完成、已退回）的任务数据'], 'steps': ['进入任务管理页面', "选择状态筛选条件为'待处理'", '点击筛选按钮', "选择状态筛选条件为'已退回'", '点击筛选按钮'], 'expected_results': ["页面正确显示所有状态为'待处理'的任务", '不显示其他状态的任务', "页面正确显示所有状态为'已退回'的任务", '筛选结果与数据库查询结果一致'], 'priority': 'P2', 'category': '功能测试', 'description': ''}, {'id': 'TC-任务状态筛选和查看功能-002', 'title': '任务状态筛选和查看功能 - 任务状态查看权限控制测试-不同角色用户访问权限', 'preconditions': ['系统中存在普通用户和集团超管两种角色账号', '系统中存在不同状态的任务数据'], 'steps': ['使用普通用户账号登录系统', '尝试访问任务状态筛选功能', '使用集团超管账号登录系统', '访问任务状态筛选功能'], 'expected_results': ['普通用户只能查看自己有权限的任务状态', '集团超管可以查看所有任务状态', '权限控制正确，无权限绕过漏洞'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-任务状态筛选和查看功能-003', 'title': '任务状态筛选和查看功能 - 任务状态筛选性能测试-大数据量下的响应时间', 'preconditions': ['数据库中预先生成10000条不同状态的任务数据', '系统运行环境配置完成'], 'steps': ['使用JMeter模拟并发用户访问状态筛选功能', '记录筛选操作的响应时间', '监控系统资源消耗（CPU、内存、数据库连接）'], 'expected_results': ['筛选操作平均响应时间小于2秒', '95%的请求响应时间小于3秒', '系统资源消耗在合理范围内，无内存泄漏'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-任务状态筛选和查看功能-004', 'title': '任务状态筛选和查看功能 - 任务状态筛选兼容性测试-多浏览器多设备验证', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器环境', '准备移动端设备（iOS和Android）'], 'steps': ['在不同浏览器中访问任务状态筛选功能', '在移动设备上访问任务状态筛选功能', '执行相同的筛选操作'], 'expected_results': ['所有浏览器中筛选功能正常工作', '移动设备上界面适配良好，操作流畅', '筛选结果在所有平台上一致'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-任务状态筛选和查看功能-005', 'title': '任务状态筛选和查看功能 - 任务状态筛选可用性测试-用户界面操作体验', 'preconditions': ['系统正常运行，用户已登录', '存在可供筛选的任务数据'], 'steps': ['观察筛选条件的UI布局和标识清晰度', '执行筛选操作并观察反馈提示', '验证筛选结果的展示方式', '测试筛选条件的重置功能'], 'expected_results': ['筛选条件选择直观易懂', '操作反馈及时明确', '结果展示清晰有序', '重置功能正常工作'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-任务状态筛选和查看功能-006', 'title': '任务状态筛选和查看功能 - 任务状态筛选边界测试-极端条件验证', 'preconditions': ['系统中存在极少量（1-2条）任务数据', '系统中存在大量（超过分页限制）任务数据'], 'steps': ['在数据量极少的情况下执行状态筛选', '在数据量极大的情况下执行状态筛选', '测试空结果集的展示处理', '测试无效状态参数的筛选'], 'expected_results': ['极少量数据时筛选功能正常', '大量数据时分页功能正常，性能可接受', '空结果时有明确的提示信息', '无效参数时有友好的错误提示'], 'priority': 'P4', 'category': '筛选测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-001', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证集团超管执行退回操作的成功权限控制', 'preconditions': ['系统已登录集团超管账号', '存在可退回的审批流程实例', '退回操作功能已正常启用'], 'steps': ['导航至审批流程管理页面', '选择目标审批流程实例', '点击一键退回操作按钮', '确认退回操作'], 'expected_results': ['退回操作成功执行', '系统显示退回成功提示信息', '审批流程状态正确转换为退回状态', '相关数据清理和流程重启操作正常完成'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-002', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证普通用户无法执行退回操作的权限控制', 'preconditions': ['系统已登录普通用户账号', '存在可退回的审批流程实例', '用户具有查看审批流程的权限'], 'steps': ['导航至审批流程管理页面', '选择目标审批流程实例', '检查页面是否显示退回操作按钮', '尝试通过URL直接访问退回操作接口'], 'expected_results': ['页面不显示退回操作按钮', '直接接口访问返回权限不足错误（HTTP 403）', '系统记录未授权访问尝试日志', '退回操作未被执行，审批流程状态保持不变'], 'priority': 'P0', 'category': '权限测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-003', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证不同角色用户执行退回操作的权限边界测试', 'preconditions': ['准备多个测试账号（部门管理员、普通员工、访客等）', '存在可退回的审批流程实例', '各账号已获得相应权限配置'], 'steps': ['使用不同角色账号登录系统', '导航至审批流程管理页面', '检查退回操作按钮的可见性和可操作性', '尝试执行退回操作（如按钮可见）'], 'expected_results': ['只有集团超管账号能看到并操作退回按钮', '其他角色账号无法看到或操作退回按钮', '任何非超管账号尝试执行退回操作均失败', '系统正确记录所有权限验证日志'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-004', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证退回操作接口的权限验证机制', 'preconditions': ['准备Postman测试环境', '获取集团超管和普通用户的认证token', '已知退回操作API端点'], 'steps': ['使用普通用户token调用退回操作API', '使用集团超管token调用退回操作API', '使用无效token调用退回操作API', '使用过期token调用退回操作API'], 'expected_results': ['只有集团超管token的API调用成功（HTTP 200）', '普通用户token返回权限错误（HTTP 403）', '无效token返回认证错误（HTTP 401）', '过期token返回认证过期错误（HTTP 401）'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-数据一致性：退回操作需保证数据完整性和一致性-001', 'title': '数据一致性：退回操作需保证数据完整性和一致性 - 数据一致性：验证退回操作后审批流程数据完整性', 'preconditions': ['系统已部署并正常运行', '存在一个处于审批中的流程实例', '当前用户具有集团超管权限', '数据库连接正常'], 'steps': ['登录系统并使用超管权限进入审批管理页面', '选择目标审批流程并执行一键退回操作', '查询数据库确认流程状态已正确回退到上一节点', '验证流程历史记录、审批意见、附件等关联数据的完整性'], 'expected_results': ['退回操作执行成功，系统提示操作完成', '流程状态正确回退到指定节点，状态转换正确', '所有关联数据（审批记录、附件、意见等）保持完整无丢失', '数据库事务完整提交，无数据不一致现象'], 'priority': 'P0', 'category': '数据完整性测试', 'description': ''}, {'id': 'TC-数据一致性：退回操作需保证数据完整性和一致性-002', 'title': '数据一致性：退回操作需保证数据完整性和一致性 - 数据一致性：验证退回操作的事务回滚机制', 'preconditions': ['系统已部署并正常运行', '存在多个处于不同审批状态的流程实例', '数据库监控工具已就绪', '当前用户具有集团超管权限'], 'steps': ['在执行退回操作过程中模拟数据库连接中断', '观察系统异常处理机制', '重新连接数据库后检查数据状态', '验证是否所有相关数据都保持一致性'], 'expected_results': ['系统能够检测到数据库异常并触发事务回滚', '操作失败后所有数据保持操作前的状态', '无部分提交或数据不一致的情况发生', '系统给出明确的错误提示信息'], 'priority': 'P0', 'category': '数据完整性测试', 'description': ''}, {'id': 'TC-数据一致性：退回操作需保证数据完整性和一致性-003', 'title': '数据一致性：退回操作需保证数据完整性和一致性 - 数据库测试：验证退回操作的数据库约束完整性', 'preconditions': ['数据库已部署并包含完整的审批流程数据', '数据库外键约束、唯一性约束等已正确配置', '当前用户具有集团超管权限'], 'steps': ['执行退回操作前记录相关表的主外键关系', '执行一键退回操作', '检查数据库中外键约束是否仍然有效', '验证所有关联表的数据一致性'], 'expected_results': ['退回操作后所有数据库约束保持完整', '主外键关系正确维护，无约束冲突', '关联表数据同步更新，保持一致性', '数据库日志显示所有操作在事务中完成'], 'priority': 'P0', 'category': '数据库测试', 'description': ''}, {'id': 'TC-数据一致性：退回操作需保证数据完整性和一致性-004', 'title': '数据一致性：退回操作需保证数据完整性和一致性 - 数据库测试：验证退回操作对并发访问的数据一致性影响', 'preconditions': ['系统支持多用户并发访问', '存在一个可退回的审批流程', '数据库并发控制机制已启用'], 'steps': ['同时使用两个超管账号尝试对同一流程执行退回操作', '观察系统的并发处理机制', '检查操作完成后数据库的数据状态', '验证是否存在数据竞争或死锁问题'], 'expected_results': ['系统正确处理并发请求，避免数据竞争', '只有一个操作成功执行，另一个操作被正确拒绝或排队', '数据库无死锁发生，所有事务正常完成', '数据最终保持一致性状态'], 'priority': 'P1', 'category': '数据库测试', 'description': ''}, {'id': 'TC-性能要求：退回操作响应时间应在合理范围内-001', 'title': '性能要求：退回操作响应时间应在合理范围内 - 性能测试-单用户执行退回操作响应时间验证', 'preconditions': ['系统已部署并正常运行', '测试环境网络稳定', 'JMeter性能测试工具已配置并连接到系统', '具备有效的集团超管账号和权限', '存在可退回的审批流程实例'], 'steps': ['使用JMeter配置单用户线程组', '设置HTTP请求模拟集团超管登录操作', '配置退回操作请求，包含必要的参数和数据', '执行性能测试，模拟单用户执行退回操作', '记录响应时间、吞吐量等性能指标', '重复测试多次获取平均响应时间数据'], 'expected_results': ['退回操作平均响应时间小于2秒', '95%的请求响应时间小于3秒', '无请求超时或失败', '系统资源消耗在正常范围内'], 'priority': 'P1', 'category': '性能测试', 'description': ''}, {'id': 'TC-性能要求：退回操作响应时间应在合理范围内-002', 'title': '性能要求：退回操作响应时间应在合理范围内 - 负载测试-多用户并发执行退回操作响应时间验证', 'preconditions': ['系统已部署并正常运行', '测试环境具备足够的硬件资源', 'JMeter负载测试工具已配置完成', '准备多个有效的集团超管测试账号', '存在足够数量的可退回审批流程实例'], 'steps': ['使用JMeter配置多用户并发线程组（建议50-100用户）', '设置思考时间和随机延迟模拟真实用户行为', '配置登录和退回操作的事务控制器', '逐步增加并发用户数执行负载测试', '监控系统CPU、内存、网络等资源使用情况', '记录不同并发级别下的响应时间性能数据'], 'expected_results': ['在50用户并发下，平均响应时间小于3秒', '在100用户并发下，平均响应时间小于5秒', '系统无崩溃或严重性能下降', '错误率低于1%', '系统资源使用率在可接受范围内'], 'priority': 'P1', 'category': '负载测试', 'description': ''}, {'id': 'TC-性能要求：退回操作响应时间应在合理范围内-003', 'title': '性能要求：退回操作响应时间应在合理范围内 - 压力测试-高负载下退回操作响应时间稳定性验证', 'preconditions': ['系统已部署在性能测试环境', '监控工具已配置完成（如Prometheus+Grafana）', '具备自动化压力测试脚本', '系统基线性能数据已采集'], 'steps': ['使用JMeter配置逐步增加的压力测试场景', '从低并发开始，每5分钟增加20%的用户负载', '持续监控系统各项性能指标', '记录系统达到性能瓶颈时的响应时间数据', '分析响应时间随负载增加的变化趋势', '执行恢复测试，验证系统性能恢复能力'], 'expected_results': ['在系统设计容量内，响应时间保持相对稳定', '系统能够处理预期的最大并发用户数', '当负载超过阈值时，响应时间增长趋势平缓', '系统在压力解除后能够快速恢复正常性能水平', '无内存泄漏或资源无法释放的问题'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-用户体验：界面操作流畅，提示信息清晰明确-001', 'title': '用户体验：界面操作流畅，提示信息清晰明确 - 用户体验：界面操作流畅性测试 - 一键退回操作响应时间', 'preconditions': ['用户已登录系统并具有相应权限', '系统处于正常运行状态', '存在可执行退回操作的审批任务'], 'steps': ['导航至审批任务列表页面', '选择需要退回的审批任务', '点击一键退回按钮', '记录从点击按钮到界面响应的延迟时间'], 'expected_results': ['界面操作流畅无卡顿', '点击退回按钮后系统在2秒内给出响应', '操作过程中无界面冻结或白屏现象', '进度指示器清晰显示操作状态'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-用户体验：界面操作流畅，提示信息清晰明确-002', 'title': '用户体验：界面操作流畅，提示信息清晰明确 - 用户体验：提示信息清晰度测试 - 退回操作成功提示', 'preconditions': ['用户已登录系统并具有退回操作权限', '存在可执行退回操作的审批任务', '网络连接正常'], 'steps': ['选择需要退回的审批任务', '执行一键退回操作', '观察系统返回的提示信息', '验证提示信息的显示位置和样式'], 'expected_results': ['操作成功后显示明确的成功提示信息', '提示信息内容清晰易懂，包含操作结果说明', '提示信息位置醒目但不遮挡主要内容', '信息样式符合设计规范，颜色和图标使用恰当'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-用户体验：界面操作流畅，提示信息清晰明确-003', 'title': '用户体验：界面操作流畅，提示信息清晰明确 - 用户体验：错误提示信息测试 - 权限不足场景', 'preconditions': ['用户已登录系统但不具有退回操作权限', '存在审批任务', '系统权限配置正确'], 'steps': ['使用无权限账户登录系统', '尝试执行一键退回操作', '观察系统返回的错误提示信息', '验证提示信息的准确性和友好性'], 'expected_results': ['系统立即阻止无权限操作', '显示明确的权限不足提示信息', '提示信息包含原因说明和建议操作', '错误信息语气友好，不包含技术性术语'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-用户体验：界面操作流畅，提示信息清晰明确-004', 'title': '用户体验：界面操作流畅，提示信息清晰明确 - 用户体验：界面一致性测试 - 退回操作UI元素', 'preconditions': ['用户已登录系统', '系统UI设计规范已定义', '浏览器支持现代CSS和JavaScript'], 'steps': ['导航至审批任务页面', '检查一键退回按钮的样式和位置', '验证相关提示信息的字体、颜色和布局', '对比不同页面间相同UI元素的一致性'], 'expected_results': ['退回按钮样式符合整体UI设计规范', '提示信息显示风格在整个系统中保持一致', '操作反馈的动画效果流畅自然', '界面元素间距和对齐符合设计标准'], 'priority': 'P3', 'category': 'UI测试', 'description': ''}, {'id': 'TC-用户体验：界面操作流畅，提示信息清晰明确-005', 'title': '用户体验：界面操作流畅，提示信息清晰明确 - 用户体验：操作引导测试 - 首次使用退回功能', 'preconditions': ['新用户首次登录系统', '用户具有退回操作权限', '系统教程功能已启用'], 'steps': ['新用户首次访问审批任务页面', '观察系统是否提供操作引导', '执行一键退回操作并观察引导信息', '验证引导信息的帮助效果'], 'expected_results': ['系统提供清晰的操作引导或提示', '引导信息准确描述退回操作的功能和效果', '用户能够通过引导信息快速理解操作流程', '引导信息不会干扰正常操作体验'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-TS001测试场景覆盖-001', 'title': 'TS001测试场景覆盖-集团超管权限验证测试', 'preconditions': ['系统已部署并正常运行', '存在集团超管账号和普通用户账号', '审批流程处于可退回状态'], 'steps': ['使用普通用户账号登录系统', '尝试执行一键退回操作', '使用集团超管账号登录系统', '再次尝试执行一键退回操作'], 'expected_results': ['普通用户无法看到或执行退回操作，提示权限不足', '集团超管能够正常执行退回操作，操作成功'], 'priority': 'P0', 'category': '端到端测试', 'description': ''}, {'id': 'TC-TS001测试场景覆盖-002', 'title': 'TS001测试场景覆盖-权限绕过安全测试', 'preconditions': ['系统运行正常', 'OWASP ZAP工具已配置', '普通用户账号已准备'], 'steps': ['使用OWASP ZAP对退回操作接口进行安全扫描', '尝试通过URL直接访问退回操作页面（绕过前端权限控制）', '使用普通用户权限调用退回操作API接口'], 'expected_results': ['安全扫描未发现权限绕过漏洞', '直接URL访问被拒绝，返回权限错误', 'API接口调用返回权限验证失败'], 'priority': 'P0', 'category': '场景测试', 'description': ''}, {'id': 'TC-TS001测试场景覆盖-003', 'title': 'TS001测试场景覆盖-数据一致性验证测试', 'preconditions': ['审批流程包含多个关联数据表', '流程处于运行状态', '数据库监控工具已就绪'], 'steps': ['执行一键退回操作', '检查相关数据表的状态字段更新', '验证历史记录表的完整性', '确认关联业务数据的一致性'], 'expected_results': ['所有相关数据表状态同步更新为退回前状态', '历史记录完整记录退回操作信息', '业务数据保持一致性，无数据丢失或损坏'], 'priority': 'P0', 'category': '端到端测试', 'description': ''}, {'id': 'TC-TS001测试场景覆盖-004', 'title': 'TS001测试场景覆盖-性能压力测试', 'preconditions': ['JMeter性能测试脚本已编写', '测试环境与生产环境配置相似', '系统监控工具已部署'], 'steps': ['使用JMeter模拟并发退回操作请求', '监控系统响应时间和资源消耗', '逐步增加并发用户数直到系统极限', '分析性能测试结果报告'], 'expected_results': ['单次退回操作响应时间小于2秒', '在预期最大并发用户数下系统稳定运行', 'CPU和内存使用率在合理范围内', '无内存泄漏或性能下降现象'], 'priority': 'P1', 'category': '场景测试', 'description': ''}, {'id': 'TC-TS001测试场景覆盖-005', 'title': 'TS001测试场景覆盖-多浏览器兼容性测试', 'preconditions': ['BrowserStack平台已配置', '目标浏览器列表已确定（Chrome, Firefox, Safari, Edge）', '测试用例脚本已准备'], 'steps': ['在Chrome浏览器中执行退回操作流程', '在Firefox浏览器中重复相同操作', '在Safari浏览器中验证功能正常', '在Edge浏览器中进行最终验证'], 'expected_results': ['在所有支持的浏览器中退回功能正常工作', '界面显示一致，无布局错乱', '操作响应和行为保持一致', '错误提示和信息显示正确'], 'priority': 'P2', 'category': '端到端测试', 'description': ''}, {'id': 'TC-TS001测试场景覆盖-006', 'title': 'TS001测试场景覆盖-用户体验和界面测试', 'preconditions': ['系统用户界面可访问', '测试用户账号已准备', '屏幕录制工具已就绪'], 'steps': ['登录系统并导航到退回操作界面', '执行退回操作并观察界面反馈', '验证操作确认提示的清晰度', '检查操作成功/失败的消息提示'], 'expected_results': ['操作流程直观易懂，用户无需培训即可完成', '确认提示明确说明操作后果', '成功/失败消息清晰明确，指导用户后续操作', '界面响应流畅，无卡顿或延迟'], 'priority': 'P3', 'category': '场景测试', 'description': ''}, {'id': 'TC-权限控制风险：可能存在权限绕过漏洞-001', 'title': '权限控制风险：可能存在权限绕过漏洞 - 权限控制风险：集团超管权限验证测试', 'preconditions': ['系统已部署并正常运行', '存在集团超管账号和普通用户账号', '一键退回功能已配置权限控制'], 'steps': ['使用集团超管账号登录系统', '访问一键退回功能页面', '执行退回操作'], 'expected_results': ['集团超管能够正常访问一键退回功能', '退回操作执行成功，系统返回操作成功提示', '权限控制机制正常工作，未出现权限绕过'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-权限控制风险：可能存在权限绕过漏洞-002', 'title': '权限控制风险：可能存在权限绕过漏洞 - 权限控制风险：普通用户权限绕过测试', 'preconditions': ['系统已部署并正常运行', '存在普通用户账号', '一键退回功能权限控制已配置'], 'steps': ['使用普通用户账号登录系统', '尝试直接访问一键退回功能URL', '尝试通过修改请求参数绕过权限检查'], 'expected_results': ['系统拒绝访问，返回权限不足提示', '无法执行退回操作，权限控制有效', '系统记录非法访问尝试日志'], 'priority': 'P0', 'category': '渗透测试', 'description': ''}, {'id': 'TC-权限控制风险：可能存在权限绕过漏洞-003', 'title': '权限控制风险：可能存在权限绕过漏洞 - 权限控制风险：API接口权限绕过测试', 'preconditions': ['系统API接口已暴露', 'Postman工具已配置', '普通用户token已获取'], 'steps': ['使用Postman构造一键退回API请求', '使用普通用户token尝试调用退回API', '尝试修改请求头或参数绕过权限验证'], 'expected_results': ['API接口返回403 Forbidden错误', '权限验证机制有效阻止非法调用', '系统记录API权限违规访问日志'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-权限控制风险：可能存在权限绕过漏洞-004', 'title': '权限控制风险：可能存在权限绕过漏洞 - 权限控制风险：会话劫持权限测试', 'preconditions': ['OWASP ZAP工具已配置', '正常用户会话已建立', '系统会话管理机制正常运行'], 'steps': ['使用OWASP ZAP拦截集团超管会话', '尝试在普通用户会话中重用超管会话token', '验证会话权限隔离机制'], 'expected_results': ['系统检测到会话异常并强制登出', '无法通过会话劫持获得超管权限', '会话管理机制有效防止权限提升'], 'priority': 'P0', 'category': '渗透测试', 'description': ''}, {'id': 'TC-数据一致性风险：退回操作可能导致数据不一致-001', 'title': '数据一致性风险：退回操作可能导致数据不一致 - 验证退回操作的事务原子性 - 确保数据一致性', 'preconditions': ['系统中有待审批的流程实例', '用户具有集团超管权限', '数据库连接正常'], 'steps': ['登录系统并导航到待审批流程页面', '选择一条待审批记录执行一键退回操作', '在执行过程中模拟数据库连接中断', '检查系统状态和数据完整性'], 'expected_results': ['退回操作要么完全成功，要么完全失败，不存在中间状态', '系统自动回滚所有相关数据变更', '流程状态保持退回前的状态，无数据损坏', '系统记录详细的事务日志和错误信息'], 'priority': 'P0', 'category': '事务测试', 'description': ''}, {'id': 'TC-数据一致性风险：退回操作可能导致数据不一致-002', 'title': '数据一致性风险：退回操作可能导致数据不一致 - 验证退回操作的多表数据一致性', 'preconditions': ['系统中有包含多个关联表的审批流程', '关联表之间存在外键约束关系', '用户具有执行退回操作的权限'], 'steps': ['执行一键退回操作', '检查主表和所有关联表的数据状态', '验证数据关联关系的完整性'], 'expected_results': ['所有相关表的数据状态同步更新', '外键约束关系保持完整，无孤立记录', '数据版本号或时间戳保持一致', '业务逻辑关联数据保持一致性'], 'priority': 'P0', 'category': '数据完整性测试', 'description': ''}, {'id': 'TC-数据一致性风险：退回操作可能导致数据不一致-003', 'title': '数据一致性风险：退回操作可能导致数据不一致 - 验证高并发场景下的退回操作数据一致性', 'preconditions': ['系统中有多个待退回的流程实例', '配置并发测试环境', '启用数据库事务监控'], 'steps': ['使用JMeter模拟多个用户同时执行退回操作', '监控数据库锁状态和事务冲突', '检查操作完成后的数据一致性'], 'expected_results': ['系统正确处理并发请求，无数据竞争', '数据库锁机制有效防止脏数据', '所有操作完成后数据保持一致性', '系统性能指标在合理范围内'], 'priority': 'P1', 'category': '事务测试', 'description': ''}, {'id': 'TC-数据一致性风险：退回操作可能导致数据不一致-004', 'title': '数据一致性风险：退回操作可能导致数据不一致 - 验证退回操作后的审批流程数据完整性', 'preconditions': ['系统中有已完成部分审批步骤的流程', '流程包含多个审批节点和历史记录'], 'steps': ['执行一键退回操作', '检查审批流程历史记录的完整性', '验证退回后流程状态的正确性', '确认相关业务数据的完整性'], 'expected_results': ['审批历史记录完整保存，无数据丢失', '流程状态正确回退到指定节点', '业务关联数据保持一致性', '退回操作记录完整记录在审计日志中'], 'priority': 'P1', 'category': '数据完整性测试', 'description': ''}, {'id': 'TC-并发操作风险：多用户同时操作可能产生冲突-001', 'title': '并发操作风险：多用户同时操作可能产生冲突 - 并发操作风险：多用户同时执行一键退回操作的数据一致性验证', 'preconditions': ['系统中有多个有效的集团超管账号', '存在至少一个待审批流程实例', '所有测试用户都有执行一键退回操作的权限', '测试环境已部署监控工具用于检测数据一致性'], 'steps': ['使用JMeter配置并发测试脚本，模拟5个集团超管用户同时执行一键退回操作', '设置并发请求在同一毫秒内发送到服务器', '执行并发测试并记录所有响应结果', '检查数据库中的流程状态和数据完整性', '验证审批流程是否按照预期状态转换'], 'expected_results': ['系统正确处理并发请求，无系统崩溃或死锁发生', '所有并发操作要么全部成功执行，要么只有一个操作成功执行（根据业务规则）', '数据库数据保持一致性，无数据损坏或丢失', '流程状态正确转换，无状态混乱或异常', '系统返回适当的响应码和提示信息'], 'priority': 'P0', 'category': '并发测试', 'description': ''}, {'id': 'TC-并发操作风险：多用户同时操作可能产生冲突-002', 'title': '并发操作风险：多用户同时操作可能产生冲突 - 并发操作风险：高并发压力下一键退回操作的系统稳定性测试', 'preconditions': ['系统中有足够的测试用户账号', '准备大量待审批流程实例用于测试', '性能监控工具已部署（如JMeter、系统资源监控）', '测试环境具备处理高并发请求的能力'], 'steps': ['使用JMeter模拟100个用户同时执行一键退回操作', '监控系统CPU、内存、网络带宽等资源使用情况', '记录系统响应时间和吞吐量指标', '逐步增加并发用户数至系统极限', '分析系统在高并发下的性能表现和稳定性'], 'expected_results': ['系统在高并发下保持稳定，无崩溃或服务不可用', '响应时间在可接受范围内（如<3秒）', '系统资源消耗在合理范围内，无内存泄漏', '错误率低于1%，大部分请求成功处理', '系统能够优雅降级或提供适当的错误提示'], 'priority': 'P0', 'category': '压力测试', 'description': ''}, {'id': 'TC-并发操作风险：多用户同时操作可能产生冲突-003', 'title': '并发操作风险：多用户同时操作可能产生冲突 - 并发操作风险：混合操作类型并发执行的功能正确性测试', 'preconditions': ['系统中有多个不同类型的用户账号（超管、普通用户等）', '存在多个处于不同状态的流程实例', '测试工具支持模拟混合类型的并发操作'], 'steps': ['配置并发测试场景：模拟超管执行退回操作的同时，普通用户执行查看、搜索等操作', '同时发送混合类型的并发请求', '监控系统对各类型请求的处理情况', '验证数据一致性和操作结果的正确性', '检查权限控制是否在并发环境下正常工作'], 'expected_results': ['系统正确处理混合类型的并发请求', '权限控制机制在并发环境下正常工作，无权限绕过', '各操作结果正确，无数据交叉污染', '系统响应符合各操作的业务逻辑要求', '无死锁或资源竞争导致的系统异常'], 'priority': 'P1', 'category': '并发测试', 'description': ''}, {'id': 'TC-并发操作风险：多用户同时操作可能产生冲突-004', 'title': '并发操作风险：多用户同时操作可能产生冲突 - 并发操作风险：长时间高负载下的系统耐久性测试', 'preconditions': ['系统准备大量测试数据和用户账号', '性能监控和日志记录工具已配置完成', '测试环境能够模拟长时间运行场景'], 'steps': ['使用JMeter模拟持续30分钟的中等并发负载（50个用户/秒）', '每隔5分钟执行一次一键退回操作的并发测试', '监控系统资源使用趋势和性能指标变化', '检查系统在长时间运行下的稳定性和性能衰减情况', '分析日志中的错误和异常信息'], 'expected_results': ['系统在长时间高负载下保持稳定运行', '性能指标无明显衰减，响应时间保持稳定', '系统资源使用率在合理范围内波动', '无内存泄漏或资源耗尽问题', '错误率保持在较低水平（<0.5%）'], 'priority': 'P1', 'category': '压力测试', 'description': ''}, {'id': 'TC-流程状态管理风险：状态转换可能出错-001', 'title': '流程状态管理风险：状态转换可能出错 - 集团超管权限下状态转换正确性验证', 'preconditions': ['系统已部署并正常运行', '存在一个处于审批中的流程实例', '当前用户为集团超级管理员角色', '用户已登录系统并拥有相应权限'], 'steps': ['导航到流程管理页面', '选择目标审批流程实例', '执行一键退回操作', '确认退回操作完成'], 'expected_results': ["流程状态从'审批中'正确转换为'已退回'", '流程数据完整性得到保持，无数据丢失或损坏', '系统显示操作成功的提示信息', '流程可重新启动进入审批流程'], 'priority': 'P0', 'category': '状态转换测试', 'description': ''}, {'id': 'TC-流程状态管理风险：状态转换可能出错-002', 'title': '流程状态管理风险：状态转换可能出错 - 非授权用户状态转换权限控制', 'preconditions': ['系统已部署并正常运行', '存在一个处于审批中的流程实例', '当前用户为普通用户角色（非集团超管）', '用户已登录系统'], 'steps': ['导航到流程管理页面', '尝试选择目标审批流程实例', '尝试执行一键退回操作'], 'expected_results': ['系统拒绝执行退回操作并显示权限不足提示', '流程状态保持原状，未发生异常转换', '无权限绕过漏洞，操作被正确拦截'], 'priority': 'P0', 'category': '状态转换测试', 'description': ''}, {'id': 'TC-流程状态管理风险：状态转换可能出错-003', 'title': '流程状态管理风险：状态转换可能出错 - 多流程实例并发状态转换测试', 'preconditions': ['系统已部署并正常运行', '存在多个处于不同状态的流程实例', '当前用户为集团超级管理员角色', '系统支持并发操作'], 'steps': ['同时选择多个流程实例', '并发执行一键退回操作', '监控系统资源消耗和响应时间'], 'expected_results': ["所有选中的流程实例状态正确转换为'已退回'", '系统响应时间在合理范围内（如<3秒）', '无数据竞争或状态转换冲突发生', '系统资源消耗在正常范围内'], 'priority': 'P1', 'category': '流程测试', 'description': ''}, {'id': 'TC-流程状态管理风险：状态转换可能出错-004', 'title': '流程状态管理风险：状态转换可能出错 - 异常流程状态转换边界测试', 'preconditions': ['系统已部署并正常运行', '存在处于终态（如已完成、已终止）的流程实例', '当前用户为集团超级管理员角色'], 'steps': ['选择处于终态的流程实例', '尝试执行一键退回操作', '观察系统响应和行为'], 'expected_results': ['系统拒绝从终态执行退回操作', "显示适当的错误提示信息（如'该流程已结束，无法退回'）", '流程状态保持原终态不变', '无系统异常或崩溃发生'], 'priority': 'P2', 'category': '状态转换测试', 'description': ''}, {'id': 'TC-流程状态管理风险：状态转换可能出错-005', 'title': '流程状态管理风险：状态转换可能出错 - 流程重启后状态一致性验证', 'preconditions': ['系统已部署并正常运行', '存在一个已退回的流程实例', '当前用户有权限重新启动流程'], 'steps': ['选择已退回的流程实例', '执行流程重启操作', '验证重启后的流程状态和数据'], 'expected_results': ["流程成功从'已退回'状态转换为'审批中'", '所有流程相关数据完整恢复', '审批流程可正常继续进行', '历史记录正确记录状态转换过程'], 'priority': 'P1', 'category': '流程测试', 'description': ''}, {'id': 'TC-用户体验风险：操作流程复杂可能导致用户误操作-001', 'title': '用户体验风险：操作流程复杂可能导致用户误操作 - 权限控制验证', 'preconditions': ['系统已部署并正常运行', '存在不同权限级别的用户账户（普通用户、管理员、集团超管）', '测试环境已配置好权限管理系统'], 'steps': ['使用普通用户账户登录系统', '尝试执行一键退回操作', '使用管理员账户登录系统', '再次尝试执行一键退回操作', '使用集团超管账户登录系统', '执行一键退回操作'], 'expected_results': ['普通用户无法看到或执行退回操作按钮', '管理员用户无法执行退回操作或收到权限不足提示', '只有集团超管能够成功执行退回操作', '所有权限验证操作都应有明确的错误提示信息'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-用户体验风险：操作流程复杂可能导致用户误操作-002', 'title': '用户体验风险：操作流程复杂可能导致用户误操作 - 操作流程简化验证', 'preconditions': ['系统已部署并正常运行', '用户已登录系统并具有相应权限', '存在可执行退回操作的业务流程实例'], 'steps': ['导航到业务流程管理页面', '选择需要退回的业务流程实例', '点击一键退回操作按钮', '观察操作确认对话框的显示内容', '确认执行退回操作', '观察操作完成后的反馈信息'], 'expected_results': ['一键退回操作按钮位置明显且易于识别', '操作步骤不超过3步即可完成退回操作', '确认对话框提供清晰的风险提示和操作说明', '操作完成后有明确的成功或失败状态提示', '整个操作流程流畅，无明显等待或卡顿'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-用户体验风险：操作流程复杂可能导致用户误操作-003', 'title': '用户体验风险：操作流程复杂可能导致用户误操作 - 防误操作机制验证', 'preconditions': ['系统已部署并正常运行', '用户已登录系统并具有退回操作权限', '存在多个业务流程实例'], 'steps': ['选择业务流程实例准备执行退回操作', '在确认对话框出现时点击取消按钮', '重新选择业务流程实例执行退回操作', '在确认对话框中输入错误的确认信息', '最后正确执行退回操作'], 'expected_results': ['取消操作后系统应返回原页面，不执行任何退回操作', '输入错误确认信息时应提示错误并不执行操作', '系统应提供二次确认机制防止误操作', '关键操作应有操作日志记录', '误操作防护机制不应影响正常操作的执行效率'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-用户体验风险：操作流程复杂可能导致用户误操作-004', 'title': '用户体验风险：操作流程复杂可能导致用户误操作 - 用户验收测试', 'preconditions': ['系统测试环境已准备就绪', '招募的代表性用户组已就位', '测试场景和任务清单已准备完成'], 'steps': ['向测试用户介绍一键退回功能的基本概念', '让用户自行尝试发现并执行退回操作', '观察用户操作过程中的困惑点和错误操作', '记录用户完成操作所需时间和步骤数', '收集用户对操作流程复杂度的反馈意见', '让用户评价提示信息的清晰度和帮助性'], 'expected_results': ['90%以上的用户能够在3分钟内独立完成退回操作', '用户误操作率低于5%', '用户对操作流程的满意度评分达到4分以上（5分制）', '收集到具体的用户体验改进建议', '确认操作流程符合用户心理模型和操作习惯'], 'priority': 'P3', 'category': '用户验收测试', 'description': ''}, {'id': 'TC-用户体验风险：操作流程复杂可能导致用户误操作-005', 'title': '用户体验风险：操作流程复杂可能导致用户误操作 - 响应性能测试', 'preconditions': ['性能测试环境已配置完成', 'JMeter测试脚本已准备就绪', '系统基线性能数据已收集'], 'steps': ['使用JMeter模拟10个用户同时执行退回操作', '逐渐增加并发用户数至50个', '监控系统响应时间和资源消耗情况', '记录操作成功率和错误率', '分析性能瓶颈和优化点'], 'expected_results': ['单个退回操作响应时间小于2秒', '并发50用户时系统响应时间小于5秒', 'CPU和内存使用率在合理范围内（CPU<80%，内存<70%）', '操作成功率保持在99.9%以上', '系统在高并发下仍能保持稳定的用户体验'], 'priority': 'P1', 'category': '性能测试', 'description': ''}], 'review_comments': []}
2025-08-28 17:14:25 - src.agents.test_case_writer - WARNING - 未找到有效的反馈内容
2025-08-28 17:14:25 - src.agents.assistant - INFO - 测试用例已根据质量审查意见进行改进
2025-08-28 17:14:25 - src.utils.agent_io - INFO - 已保存test_case_writer的执行结果到agent_results/test_case_writer_result.json
2025-08-28 17:14:25 - src.agents.assistant - INFO - 改进后的测试用例已保存到agent_results目录
2025-08-28 17:14:25 - src.agents.assistant - INFO - 当前进度: 4/4 - 当前阶段: completed
2025-08-28 17:14:25 - src.agents.assistant - INFO - 协调结果是字典类型: {'content': '正确', 'role': 'assistant', 'name': 'coordinator'}
2025-08-28 17:14:25 - __main__ - INFO - 工作流程协调结果：{'status': 'completed', 'current_phase': 'completed', 'assigned_tasks': [], 'completed_tasks': ['需求分析', '测试设计', '测试用例编写', '质量保证'], 'next_steps': []}
2025-08-28 17:14:25 - src.utils.agent_io - INFO - 已加载test_case_writer的执行结果
2025-08-28 17:14:25 - __main__ - INFO - 从test_case_writer的持久化存储中加载最终的测试用例
2025-08-28 17:14:25 - __main__ - ERROR - 处理需求时出错：name 'instance' is not defined
2025-08-28 17:21:06 - root - INFO - Logging configured with level: INFO, file: logs/ai_test.log
2025-08-28 17:21:06 - src.utils.agent_io - INFO - 已加载test_designer的执行结果
2025-08-28 17:21:06 - src.agents.test_designer - INFO - 成功加载之前的测试设计结果
2025-08-28 17:21:06 - src.agents.test_case_writer - INFO - 测试用例编写代理初始化，设置并发工作线程数为: 1
2025-08-28 17:21:07 - src.utils.agent_io - INFO - 已加载test_case_writer的执行结果
2025-08-28 17:21:07 - src.agents.test_case_writer - INFO - 成功加载之前的测试用例结果
2025-08-28 17:21:07 - src.agents.quality_assurance - INFO - 质量保证代理初始化，并发工作线程数: 1
2025-08-28 17:21:07 - src.utils.agent_io - INFO - 已加载quality_assurance的执行结果
2025-08-28 17:21:07 - src.agents.quality_assurance - INFO - 成功加载之前的质量审查结果
2025-08-28 17:21:07 - __main__ - INFO - 已处理需求文档：docs/荣耀0827退回重填方案.pdf
2025-08-28 17:21:07 - __main__ - INFO - 开始协调测试用例生成工作流程
2025-08-28 17:21:07 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:21:32 - src.agents.assistant - INFO - 开始协调测试任务流程
2025-08-28 17:21:32 - src.agents.assistant - INFO - 开始需求分析
2025-08-28 17:21:32 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:22:03 - src.agents.requirement_analyst - INFO - AI响应内容: {
    "functional_requirements": [
        "集团用户可执行一键退回操作",
        "一键退回按钮在状态=审批通过且当前用户=超管时显示",
        "退回时必须填写退回原因并清空历史审批意见",
        "退回后状态变为上级驳回，填报人修改后重新提交",
        "流程从退回→上级审批中开始新一轮审批",
       ...
2025-08-28 17:22:03 - src.agents.requirement_analyst - INFO - 成功从JSON响应中提取分析结果
2025-08-28 17:22:03 - src.utils.agent_io - INFO - 已保存requirement_analyst的执行结果到agent_results/requirement_analyst_result.json
2025-08-28 17:22:03 - src.agents.assistant - INFO - 需求分析完成，结果: {'msg_type': 'requirement_analysis_response', 'version': '1.0', 'timestamp': None, 'functional_requirements': ['集团用户可执行一键退回操作', '一键退回按钮在状态=审批通过且当前用户=超管时显示', '退回时必须填写退回原因并清空历史审批意见', '退回后状态变为上级驳回，填报人修改后重新提交', '流程从退回→上级审批中开始新一轮审批', '一键退回只在叶子节点展示入口'], 'non_functional_requirements': ['权限控制：仅集团超管可执行退回操作', '数据一致性：退回时清空历史审批意见', '状态管理：审批通过非终态，支持流程重走'], 'test_scenarios': [{'id': 'TS001', 'description': '需要提供具体的测试场景', 'test_steps': []}], 'risk_areas': ['权限控制风险：非授权用户可能执行退回操作', '数据一致性风险：退回时历史数据清理不彻底', '流程状态风险：审批状态转换异常导致流程中断', '界面展示风险：退回按钮显示条件判断错误']}
2025-08-28 17:22:03 - src.agents.assistant - INFO - 当前进度: 4/4 - 当前阶段: completed
2025-08-28 17:22:03 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:22:06 - src.agents.assistant - INFO - 用户确认消息: {'content': '正确', 'role': 'user', 'name': 'coordinator'}
2025-08-28 17:22:06 - src.agents.assistant - INFO - 需求分析结果已确认正确，开始进行测试设计和用例编写
2025-08-28 17:22:06 - src.agents.assistant - INFO - 开始测试设计
2025-08-28 17:22:06 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:22:49 - src.agents.test_designer - INFO - AI响应内容: {'content': '\n```json\n{\n    "test_approach": {\n        "methodology": [\n            "功能测试：验证一键退回操作的所有功能需求，包括按钮显示条件、退回流程、状态转换和数据清理",\n            "安全测试：验证权限控制机制，确保只有集团超管可以执行退回操作",\n            "兼容...
2025-08-28 17:22:49 - src.agents.test_designer - INFO - 成功从JSON响应中提取测试策略
2025-08-28 17:22:49 - src.utils.agent_io - INFO - 已保存test_designer的执行结果到agent_results/test_designer_result.json
2025-08-28 17:22:49 - src.agents.test_designer - INFO - 测试设计完成
2025-08-28 17:22:49 - src.agents.assistant - INFO - 测试设计原始结果: {'test_approach': {'methodology': ['功能测试：验证一键退回操作的所有功能需求，包括按钮显示条件、退回流程、状态转换和数据清理', '安全测试：验证权限控制机制，确保只有集团超管可以执行退回操作', '兼容性测试：验证系统在不同浏览器和设备上的兼容性', '可用性测试：验证用户界面友好性和操作流程的直观性'], 'tools': ['Selenium WebDriver', 'Postman', 'JMeter', 'OWASP ZAP'], 'frameworks': ['TestNG', 'JUnit', 'Cucumber']}, 'coverage_matrix': [{'feature': '集团用户可执行一键退回操作', 'test_type': '功能测试、安全测试'}, {'feature': '一键退回按钮在状态=审批通过且当前用户=超管时显示', 'test_type': '功能测试、UI测试'}, {'feature': '退回时必须填写退回原因并清空历史审批意见', 'test_type': '功能测试、数据完整性测试'}, {'feature': '退回后状态变为上级驳回，填报人修改后重新提交', 'test_type': '功能测试、流程测试'}, {'feature': '流程从退回→上级审批中开始新一轮审批', 'test_type': '功能测试、流程测试'}, {'feature': '一键退回只在叶子节点展示入口', 'test_type': '功能测试、UI测试'}, {'feature': '权限控制：仅集团超管可执行退回操作', 'test_type': '安全测试、权限测试'}, {'feature': '数据一致性：退回时清空历史审批意见', 'test_type': '数据完整性测试'}, {'feature': '状态管理：审批通过非终态，支持流程重走', 'test_type': '流程测试、状态转换测试'}], 'priorities': [{'level': 'P0', 'description': '权限控制验证：确保只有集团超管可以执行退回操作，防止未授权访问'}, {'level': 'P0', 'description': '一键退回功能核心流程：验证从审批通过状态到退回再到重新提交的完整流程'}, {'level': 'P1', 'description': '数据一致性验证：确保退回时正确清空历史审批意见'}, {'level': 'P1', 'description': '状态转换验证：确保审批状态正确转换'}, {'level': 'P2', 'description': 'UI界面验证：退回按钮显示条件正确性'}, {'level': 'P3', 'description': '兼容性测试：在不同浏览器和设备上的表现'}], 'resource_estimation': {'time': '3-4周', 'personnel': '2名测试工程师，1名业务分析师', 'tools': ['Selenium', 'JMeter', 'Postman', 'OWASP ZAP', 'JIRA'], 'additional_resources': ['测试环境服务器', '不同浏览器和设备用于兼容性测试', '测试数据准备工具']}}
2025-08-28 17:22:49 - src.agents.assistant - INFO - 测试设计完成，结果: {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'test_approach': {'methodology': ['功能测试：验证一键退回操作的所有功能需求，包括按钮显示条件、退回流程、状态转换和数据清理', '安全测试：验证权限控制机制，确保只有集团超管可以执行退回操作', '兼容性测试：验证系统在不同浏览器和设备上的兼容性', '可用性测试：验证用户界面友好性和操作流程的直观性'], 'tools': ['Selenium WebDriver', 'Postman', 'JMeter', 'OWASP ZAP'], 'frameworks': ['TestNG', 'JUnit', 'Cucumber']}, 'coverage_matrix': [{'feature': '集团用户可执行一键退回操作', 'test_type': '功能测试、安全测试'}, {'feature': '一键退回按钮在状态=审批通过且当前用户=超管时显示', 'test_type': '功能测试、UI测试'}, {'feature': '退回时必须填写退回原因并清空历史审批意见', 'test_type': '功能测试、数据完整性测试'}, {'feature': '退回后状态变为上级驳回，填报人修改后重新提交', 'test_type': '功能测试、流程测试'}, {'feature': '流程从退回→上级审批中开始新一轮审批', 'test_type': '功能测试、流程测试'}, {'feature': '一键退回只在叶子节点展示入口', 'test_type': '功能测试、UI测试'}, {'feature': '权限控制：仅集团超管可执行退回操作', 'test_type': '安全测试、权限测试'}, {'feature': '数据一致性：退回时清空历史审批意见', 'test_type': '数据完整性测试'}, {'feature': '状态管理：审批通过非终态，支持流程重走', 'test_type': '流程测试、状态转换测试'}], 'priorities': [{'level': 'P0', 'description': '权限控制验证：确保只有集团超管可以执行退回操作，防止未授权访问'}, {'level': 'P0', 'description': '一键退回功能核心流程：验证从审批通过状态到退回再到重新提交的完整流程'}, {'level': 'P1', 'description': '数据一致性验证：确保退回时正确清空历史审批意见'}, {'level': 'P1', 'description': '状态转换验证：确保审批状态正确转换'}, {'level': 'P2', 'description': 'UI界面验证：退回按钮显示条件正确性'}, {'level': 'P3', 'description': '兼容性测试：在不同浏览器和设备上的表现'}], 'resource_estimation': {'time': '3-4周', 'personnel': '2名测试工程师，1名业务分析师', 'tools': ['Selenium', 'JMeter', 'Postman', 'OWASP ZAP', 'JIRA'], 'additional_resources': ['测试环境服务器', '不同浏览器和设备用于兼容性测试', '测试数据准备工具']}}
2025-08-28 17:22:49 - src.agents.assistant - INFO - 测试设计结果已保存到代理实例中
2025-08-28 17:22:49 - src.agents.assistant - INFO - 当前进度: 4/4 - 当前阶段: completed
2025-08-28 17:22:49 - src.agents.assistant - INFO - 传递给测试用例编写者的测试策略: {'test_strategy': {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'test_approach': {'methodology': ['功能测试：验证一键退回操作的所有功能需求，包括按钮显示条件、退回流程、状态转换和数据清理', '安全测试：验证权限控制机制，确保只有集团超管可以执行退回操作', '兼容性测试：验证系统在不同浏览器和设备上的兼容性', '可用性测试：验证用户界面友好性和操作流程的直观性'], 'tools': ['Selenium WebDriver', 'Postman', 'JMeter', 'OWASP ZAP'], 'frameworks': ['TestNG', 'JUnit', 'Cucumber']}, 'coverage_matrix': [{'feature': '集团用户可执行一键退回操作', 'test_type': '功能测试、安全测试'}, {'feature': '一键退回按钮在状态=审批通过且当前用户=超管时显示', 'test_type': '功能测试、UI测试'}, {'feature': '退回时必须填写退回原因并清空历史审批意见', 'test_type': '功能测试、数据完整性测试'}, {'feature': '退回后状态变为上级驳回，填报人修改后重新提交', 'test_type': '功能测试、流程测试'}, {'feature': '流程从退回→上级审批中开始新一轮审批', 'test_type': '功能测试、流程测试'}, {'feature': '一键退回只在叶子节点展示入口', 'test_type': '功能测试、UI测试'}, {'feature': '权限控制：仅集团超管可执行退回操作', 'test_type': '安全测试、权限测试'}, {'feature': '数据一致性：退回时清空历史审批意见', 'test_type': '数据完整性测试'}, {'feature': '状态管理：审批通过非终态，支持流程重走', 'test_type': '流程测试、状态转换测试'}], 'priorities': [{'level': 'P0', 'description': '权限控制验证：确保只有集团超管可以执行退回操作，防止未授权访问'}, {'level': 'P0', 'description': '一键退回功能核心流程：验证从审批通过状态到退回再到重新提交的完整流程'}, {'level': 'P1', 'description': '数据一致性验证：确保退回时正确清空历史审批意见'}, {'level': 'P1', 'description': '状态转换验证：确保审批状态正确转换'}, {'level': 'P2', 'description': 'UI界面验证：退回按钮显示条件正确性'}, {'level': 'P3', 'description': '兼容性测试：在不同浏览器和设备上的表现'}], 'resource_estimation': {'time': '3-4周', 'personnel': '2名测试工程师，1名业务分析师', 'tools': ['Selenium', 'JMeter', 'Postman', 'OWASP ZAP', 'JIRA'], 'additional_resources': ['测试环境服务器', '不同浏览器和设备用于兼容性测试', '测试数据准备工具']}}}
2025-08-28 17:22:49 - src.agents.assistant - INFO - 开始测试用例编写
2025-08-28 17:22:49 - src.agents.test_case_writer - INFO - 将按9个功能点分配生成测试用例
2025-08-28 17:22:49 - src.agents.test_case_writer - INFO - 使用顺序方式处理功能点
2025-08-28 17:22:49 - src.agents.test_case_writer - INFO - 开始为功能点'集团用户可执行一键退回操作'生成测试用例，第1/9个
2025-08-28 17:22:49 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:24:00 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-28 17:24:00 - src.agents.test_case_writer - INFO - 成功为功能点 '集团用户可执行一键退回操作' 生成 6 个测试用例
2025-08-28 17:24:00 - src.agents.test_case_writer - INFO - 为功能点'集团用户可执行一键退回操作'生成了 6 个测试用例
2025-08-28 17:24:00 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_1的执行结果到agent_results/test_case_writer_feature_1_result.json
2025-08-28 17:24:00 - src.agents.test_case_writer - INFO - 已保存功能点：'集团用户可执行一键退回操作'的测试用例生成结果
2025-08-28 17:24:00 - src.agents.test_case_writer - INFO - 开始为功能点'一键退回按钮在状态=审批通过且当前用户=超管时显示'生成测试用例，第2/9个
2025-08-28 17:24:00 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:25:12 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 7 个测试用例
2025-08-28 17:25:12 - src.agents.test_case_writer - INFO - 成功为功能点 '一键退回按钮在状态=审批通过且当前用户=超管时显示' 生成 7 个测试用例
2025-08-28 17:25:12 - src.agents.test_case_writer - INFO - 为功能点'一键退回按钮在状态=审批通过且当前用户=超管时显示'生成了 7 个测试用例
2025-08-28 17:25:12 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_2的执行结果到agent_results/test_case_writer_feature_2_result.json
2025-08-28 17:25:12 - src.agents.test_case_writer - INFO - 已保存功能点：'一键退回按钮在状态=审批通过且当前用户=超管时显示'的测试用例生成结果
2025-08-28 17:25:12 - src.agents.test_case_writer - INFO - 开始为功能点'退回时必须填写退回原因并清空历史审批意见'生成测试用例，第3/9个
2025-08-28 17:25:12 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:26:11 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-28 17:26:11 - src.agents.test_case_writer - INFO - 成功为功能点 '退回时必须填写退回原因并清空历史审批意见' 生成 6 个测试用例
2025-08-28 17:26:11 - src.agents.test_case_writer - INFO - 为功能点'退回时必须填写退回原因并清空历史审批意见'生成了 6 个测试用例
2025-08-28 17:26:11 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_3的执行结果到agent_results/test_case_writer_feature_3_result.json
2025-08-28 17:26:11 - src.agents.test_case_writer - INFO - 已保存功能点：'退回时必须填写退回原因并清空历史审批意见'的测试用例生成结果
2025-08-28 17:26:11 - src.agents.test_case_writer - INFO - 开始为功能点'退回后状态变为上级驳回，填报人修改后重新提交'生成测试用例，第4/9个
2025-08-28 17:26:11 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:27:19 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-28 17:27:19 - src.agents.test_case_writer - INFO - 成功为功能点 '退回后状态变为上级驳回，填报人修改后重新提交' 生成 6 个测试用例
2025-08-28 17:27:19 - src.agents.test_case_writer - INFO - 为功能点'退回后状态变为上级驳回，填报人修改后重新提交'生成了 6 个测试用例
2025-08-28 17:27:19 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_4的执行结果到agent_results/test_case_writer_feature_4_result.json
2025-08-28 17:27:19 - src.agents.test_case_writer - INFO - 已保存功能点：'退回后状态变为上级驳回，填报人修改后重新提交'的测试用例生成结果
2025-08-28 17:27:19 - src.agents.test_case_writer - INFO - 开始为功能点'流程从退回→上级审批中开始新一轮审批'生成测试用例，第5/9个
2025-08-28 17:27:19 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:28:34 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 7 个测试用例
2025-08-28 17:28:34 - src.agents.test_case_writer - INFO - 成功为功能点 '流程从退回→上级审批中开始新一轮审批' 生成 7 个测试用例
2025-08-28 17:28:34 - src.agents.test_case_writer - INFO - 为功能点'流程从退回→上级审批中开始新一轮审批'生成了 7 个测试用例
2025-08-28 17:28:34 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_5的执行结果到agent_results/test_case_writer_feature_5_result.json
2025-08-28 17:28:34 - src.agents.test_case_writer - INFO - 已保存功能点：'流程从退回→上级审批中开始新一轮审批'的测试用例生成结果
2025-08-28 17:28:34 - src.agents.test_case_writer - INFO - 开始为功能点'一键退回只在叶子节点展示入口'生成测试用例，第6/9个
2025-08-28 17:28:34 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:29:35 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 7 个测试用例
2025-08-28 17:29:35 - src.agents.test_case_writer - INFO - 成功为功能点 '一键退回只在叶子节点展示入口' 生成 7 个测试用例
2025-08-28 17:29:35 - src.agents.test_case_writer - INFO - 为功能点'一键退回只在叶子节点展示入口'生成了 7 个测试用例
2025-08-28 17:29:35 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_6的执行结果到agent_results/test_case_writer_feature_6_result.json
2025-08-28 17:29:35 - src.agents.test_case_writer - INFO - 已保存功能点：'一键退回只在叶子节点展示入口'的测试用例生成结果
2025-08-28 17:29:35 - src.agents.test_case_writer - INFO - 开始为功能点'权限控制：仅集团超管可执行退回操作'生成测试用例，第7/9个
2025-08-28 17:29:35 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:30:59 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 8 个测试用例
2025-08-28 17:30:59 - src.agents.test_case_writer - INFO - 成功为功能点 '权限控制：仅集团超管可执行退回操作' 生成 8 个测试用例
2025-08-28 17:30:59 - src.agents.test_case_writer - INFO - 为功能点'权限控制：仅集团超管可执行退回操作'生成了 8 个测试用例
2025-08-28 17:30:59 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_7的执行结果到agent_results/test_case_writer_feature_7_result.json
2025-08-28 17:30:59 - src.agents.test_case_writer - INFO - 已保存功能点：'权限控制：仅集团超管可执行退回操作'的测试用例生成结果
2025-08-28 17:30:59 - src.agents.test_case_writer - INFO - 开始为功能点'数据一致性：退回时清空历史审批意见'生成测试用例，第8/9个
2025-08-28 17:30:59 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:31:59 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 5 个测试用例
2025-08-28 17:31:59 - src.agents.test_case_writer - INFO - 成功为功能点 '数据一致性：退回时清空历史审批意见' 生成 5 个测试用例
2025-08-28 17:31:59 - src.agents.test_case_writer - INFO - 为功能点'数据一致性：退回时清空历史审批意见'生成了 5 个测试用例
2025-08-28 17:31:59 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_8的执行结果到agent_results/test_case_writer_feature_8_result.json
2025-08-28 17:31:59 - src.agents.test_case_writer - INFO - 已保存功能点：'数据一致性：退回时清空历史审批意见'的测试用例生成结果
2025-08-28 17:31:59 - src.agents.test_case_writer - INFO - 开始为功能点'状态管理：审批通过非终态，支持流程重走'生成测试用例，第9/9个
2025-08-28 17:31:59 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 成功为功能点 '状态管理：审批通过非终态，支持流程重走' 生成 6 个测试用例
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 为功能点'状态管理：审批通过非终态，支持流程重走'生成了 6 个测试用例
2025-08-28 17:33:07 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_9的执行结果到agent_results/test_case_writer_feature_9_result.json
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已保存功能点：'状态管理：审批通过非终态，支持流程重走'的测试用例生成结果
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 测试覆盖矩阵测试点总数: 9
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已覆盖测试点数量: 9
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 测试用例生成完成，共生成 58 个测试用例
2025-08-28 17:33:07 - src.utils.agent_io - INFO - 已保存test_case_writer的执行结果到agent_results/test_case_writer_result.json
2025-08-28 17:33:07 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_1的执行结果
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已加载功能点 1 的测试用例，共 6 个
2025-08-28 17:33:07 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_2的执行结果
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已加载功能点 2 的测试用例，共 7 个
2025-08-28 17:33:07 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_3的执行结果
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已加载功能点 3 的测试用例，共 6 个
2025-08-28 17:33:07 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_4的执行结果
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已加载功能点 4 的测试用例，共 6 个
2025-08-28 17:33:07 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_5的执行结果
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已加载功能点 5 的测试用例，共 7 个
2025-08-28 17:33:07 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_6的执行结果
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已加载功能点 6 的测试用例，共 7 个
2025-08-28 17:33:07 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_7的执行结果
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已加载功能点 7 的测试用例，共 8 个
2025-08-28 17:33:07 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_8的执行结果
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已加载功能点 8 的测试用例，共 5 个
2025-08-28 17:33:07 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_9的执行结果
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已加载功能点 9 的测试用例，共 6 个
2025-08-28 17:33:07 - src.utils.agent_io - INFO - 已保存test_case_writer的执行结果到agent_results/test_case_writer_result.json
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已合并所有功能点的测试用例，共 58 个
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_1_result.json
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_2_result.json
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_3_result.json
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_4_result.json
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_5_result.json
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_6_result.json
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_7_result.json
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_8_result.json
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_9_result.json
2025-08-28 17:33:07 - src.agents.test_case_writer - INFO - 所有临时测试用例文件已清理完毕
2025-08-28 17:33:07 - src.agents.assistant - INFO - 测试用例生成完成，结果: {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'test_cases': [{'id': 'TC-集团用户可执行一键退回操作-001', 'title': '集团用户可执行一键退回操作 - 验证集团超管权限下的一键退回操作功能', 'preconditions': ['系统已登录集团超管账户', '存在审批通过状态的待处理项目', '项目详情页面已加载完成'], 'steps': ['导航至项目审批管理页面', '选择审批通过状态的项目进入详情页', '点击一键退回按钮', '确认退回操作', '验证项目状态变化'], 'expected_results': ['一键退回按钮可见且可点击', '系统弹出确认退回对话框', '项目状态从审批通过变为已退回', '系统显示退回成功提示信息'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-集团用户可执行一键退回操作-002', 'title': '集团用户可执行一键退回操作 - 验证非集团超管用户无法执行一键退回操作', 'preconditions': ['系统已登录普通用户账户', '存在审批通过状态的待处理项目', '项目详情页面已加载完成'], 'steps': ['导航至项目审批管理页面', '选择审批通过状态的项目进入详情页', '检查页面元素', '尝试通过URL直接访问退回接口'], 'expected_results': ['一键退回按钮不可见或禁用', '直接接口访问返回403权限拒绝错误', '系统记录未授权访问尝试日志'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-集团用户可执行一键退回操作-003', 'title': '集团用户可执行一键退回操作 - 验证一键退回操作的数据清理完整性', 'preconditions': ['系统已登录集团超管账户', '存在包含历史审批意见的审批通过项目', '数据库备份已完成'], 'steps': ['执行一键退回操作', '查询数据库审批意见表', '验证项目状态历史记录', '检查系统日志记录'], 'expected_results': ['历史审批意见被正确清空', '项目状态历史记录新增退回记录', '数据库无残留审批数据', '系统日志完整记录退回操作'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-集团用户可执行一键退回操作-004', 'title': '集团用户可执行一键退回操作 - 验证一键退回操作的状态转换正确性', 'preconditions': ['系统已登录集团超管账户', '存在不同状态的项目（审批中、审批通过、已拒绝）', '状态机配置正确'], 'steps': ['对审批通过状态项目执行退回操作', '对审批中状态项目尝试执行退回操作', '对已拒绝状态项目尝试执行退回操作', '验证各状态转换结果'], 'expected_results': ['仅审批通过状态项目可执行退回操作', '退回后状态正确转换为已退回', '其他状态项目显示相应错误提示', '状态转换符合业务规则定义'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-集团用户可执行一键退回操作-005', 'title': '集团用户可执行一键退回操作 - 验证退回按钮在不同条件下的显示逻辑', 'preconditions': ['系统已登录不同权限用户', '存在多种状态的项目', 'UI界面加载完成'], 'steps': ['使用集团超管查看审批通过项目', '使用集团超管查看非审批通过项目', '使用普通用户查看审批通过项目', '记录按钮显示状态'], 'expected_results': ['集团超管+审批通过：按钮可见可用', '集团超管+其他状态：按钮隐藏或禁用', '普通用户+任何状态：按钮不可见', '按钮样式符合UI设计规范'], 'priority': 'P2', 'category': '功能测试'}, {'id': 'TC-集团用户可执行一键退回操作-006', 'title': '集团用户可执行一键退回操作 - 验证一键退回功能在不同浏览器下的兼容性', 'preconditions': ['Chrome、Firefox、Safari、Edge浏览器可用', '系统已登录集团超管账户', '存在审批通过状态项目'], 'steps': ['在各浏览器中登录系统', '执行一键退回操作流程', '验证功能正常性', '检查界面显示一致性'], 'expected_results': ['所有浏览器功能正常可用', '操作流程一致无差异', '界面元素显示正常无错位', '响应时间符合性能要求'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-001', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证集团超管在审批通过状态下显示一键退回按钮', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批通过'的审批单", '当前页面显示该审批单详情'], 'steps': ['导航至审批单详情页面', '检查页面UI元素', '确认一键退回按钮是否可见'], 'expected_results': ['一键退回按钮在页面中正确显示', '按钮状态为可点击', '按钮位置和样式符合UI设计规范'], 'priority': 'P2', 'category': 'UI测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-002', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证非超管用户在审批通过状态下不显示一键退回按钮', 'preconditions': ['系统已登录普通用户账号', "存在状态为'审批通过'的审批单", '当前页面显示该审批单详情'], 'steps': ['导航至审批单详情页面', '检查页面UI元素', '确认一键退回按钮是否显示'], 'expected_results': ['一键退回按钮在页面中不可见', '页面无退回相关操作选项', '用户无法执行退回操作'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-003', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证超管在非审批通过状态下不显示一键退回按钮', 'preconditions': ['系统已登录集团超管账号', "存在状态不为'审批通过'的审批单（如待审批、已驳回等）", '当前页面显示该审批单详情'], 'steps': ['导航至审批单详情页面', '检查页面UI元素', '确认一键退回按钮是否显示'], 'expected_results': ['一键退回按钮在页面中不可见', '页面显示与当前状态相符的操作按钮', '超管无法在非审批通过状态下执行退回操作'], 'priority': 'P2', 'category': '功能测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-004', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证一键退回操作执行后的状态转换和数据清理', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批通过'的审批单", '审批单包含历史审批意见数据'], 'steps': ['点击一键退回按钮', '确认退回操作', '检查审批单状态变化', '验证历史审批意见数据'], 'expected_results': ["审批单状态从'审批通过'正确转换为'已退回'", '历史审批意见数据被正确清空', '系统记录退回操作日志', '相关用户收到退回通知'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-005', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证退回后重新提交的完整流程', 'preconditions': ["审批单已被超管退回至'已退回'状态", '原提交用户已登录系统'], 'steps': ['原提交用户重新编辑审批单', '提交审批单', '验证审批流程重新开始'], 'expected_results': ['审批单可被重新编辑和提交', "提交后状态转换为'待审批'", '审批流程正常启动', '系统记录完整的流程历史'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-006', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证不同浏览器下退回按钮显示和功能一致性', 'preconditions': ['准备Chrome、Firefox、Edge等主流浏览器', '系统已登录集团超管账号', "存在状态为'审批通过'的审批单"], 'steps': ['在不同浏览器中登录系统', '导航至审批单详情页面', '检查一键退回按钮显示', '执行退回操作并验证功能'], 'expected_results': ['所有浏览器中一键退回按钮正常显示', '按钮样式和位置保持一致', '退回功能在所有浏览器中正常工作', '无浏览器兼容性问题'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-007', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证移动设备上退回按钮的可用性和操作流程', 'preconditions': ['准备iOS和Android移动设备', '系统已登录集团超管账号', "存在状态为'审批通过'的审批单"], 'steps': ['在移动设备浏览器中访问系统', '导航至审批单详情页面', '检查一键退回按钮的触摸友好性', '执行退回操作流程'], 'expected_results': ['移动设备上按钮大小适合触摸操作', '页面布局适配移动屏幕', '操作流程直观易用', '退回功能在移动端正常工作'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-001', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证集团超管执行退回操作时填写退回原因并清空历史审批意见', 'preconditions': ['系统已登录集团超管账号', '存在处于审批通过状态的审批单', '审批单包含历史审批意见数据'], 'steps': ['进入审批单详情页面', '点击一键退回按钮', '在弹出的退回原因输入框中填写退回原因', '确认执行退回操作', '查看审批单状态和历史审批意见'], 'expected_results': ['退回操作成功执行', "审批状态从'审批通过'变更为'已退回'", '历史审批意见被正确清空', '退回原因被正确记录'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-002', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证非集团超管用户无法执行退回操作', 'preconditions': ['系统已登录普通用户账号', '存在处于审批通过状态的审批单'], 'steps': ['进入审批单详情页面', '检查页面是否存在一键退回按钮', '尝试通过URL直接访问退回功能接口'], 'expected_results': ['页面不显示一键退回按钮', '直接访问退回接口返回权限不足错误', '无法执行退回操作'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-003', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证退回时必须填写退回原因的强制要求', 'preconditions': ['系统已登录集团超管账号', '存在处于审批通过状态的审批单'], 'steps': ['进入审批单详情页面', '点击一键退回按钮', '不填写退回原因直接确认', '尝试不填写原因执行退回操作'], 'expected_results': ['系统提示必须填写退回原因', '退回操作无法执行', '审批状态保持不变'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-004', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证退回操作后历史审批意见数据完整性', 'preconditions': ['系统已登录集团超管账号', '存在包含多条历史审批意见的审批单', '审批单处于审批通过状态'], 'steps': ['执行退回操作并填写退回原因', '检查数据库中的历史审批意见表', '验证数据清理的完整性'], 'expected_results': ['数据库中的历史审批意见记录被正确删除', '退回原因记录被正确保存', '无数据残留或部分清理的情况'], 'priority': 'P1', 'category': '数据完整性测试'}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-005', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证退回按钮在不同状态下的显示条件', 'preconditions': ['系统已登录集团超管账号', '准备不同状态的审批单（待审批、审批中、审批通过、已退回）'], 'steps': ['分别查看不同状态审批单的详情页面', '检查一键退回按钮的显示状态'], 'expected_results': ['仅在审批通过状态的审批单显示退回按钮', '其他状态的审批单不显示退回按钮', '按钮状态显示正确'], 'priority': 'P2', 'category': '功能测试'}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-006', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证退回功能在不同浏览器上的兼容性', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器环境', '系统已登录集团超管账号', '存在处于审批通过状态的审批单'], 'steps': ['在不同浏览器中执行退回操作', '验证退回原因填写和确认功能', '检查历史审批意见清理效果'], 'expected_results': ['所有浏览器中退回功能正常工作', '退回原因填写和保存功能一致', '历史审批意见清理效果相同'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-001', 'title': '验证集团超管权限控制 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录普通用户账号', '存在审批通过状态的填报记录', '用户无集团超管权限'], 'steps': ['导航至审批通过状态的填报记录详情页面', '检查页面是否显示一键退回按钮', '尝试通过URL直接访问退回功能接口'], 'expected_results': ['页面不显示一键退回按钮', '直接接口访问返回403权限拒绝错误', '系统记录未授权访问尝试日志'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-002', 'title': '验证一键退回核心流程 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录集团超管账号', '存在审批通过状态的填报记录', '填报记录包含审批意见和历史数据'], 'steps': ['导航至审批通过状态的填报记录详情页面', '点击一键退回按钮', '确认退回操作', '以填报人账号登录系统', '查看退回记录的状态', '修改填报内容并重新提交'], 'expected_results': ['退回操作成功执行', "记录状态变为'上级驳回'", '历史审批意见被正确清空', '填报人可正常修改并重新提交', '重新提交后状态变为待审批'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-003', 'title': '验证数据一致性 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录集团超管账号', '存在审批通过状态的填报记录', '填报记录包含多条审批意见'], 'steps': ['执行一键退回操作', '查询数据库中的审批意见表', '检查退回记录的相关数据字段', '验证填报基础数据的完整性'], 'expected_results': ['审批意见表中相关记录被正确标记为已清空', '填报基础数据保持完整未受影响', "状态字段正确更新为'上级驳回'", '退回操作时间戳被正确记录'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-004', 'title': '验证状态转换逻辑 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录集团超管账号', '存在不同审批状态的测试记录'], 'steps': ['对审批通过状态的记录执行退回操作', '验证状态转换结果', '尝试对非审批通过状态的记录执行退回操作', '观察系统响应和行为'], 'expected_results': ['仅审批通过状态的记录可执行退回操作', "退回后状态正确变为'上级驳回'", '非审批通过状态的记录显示退回按钮不可用', '系统提示正确的状态转换错误信息'], 'priority': 'P1', 'category': '流程测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-005', 'title': '验证UI界面显示条件 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录不同权限的用户账号', '存在多种状态的填报记录'], 'steps': ['使用集团超管账号查看不同状态的记录', '验证退回按钮的显示条件', '使用普通用户账号查看审批通过状态的记录', '检查按钮显示状态'], 'expected_results': ['仅集团超管在审批通过状态的记录页面看到退回按钮', '按钮状态和样式符合设计规范', '普通用户在任何状态下都不显示退回按钮', '按钮提示信息清晰准确'], 'priority': 'P2', 'category': '功能测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-006', 'title': '验证跨浏览器兼容性 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器环境', '系统可正常访问'], 'steps': ['在不同浏览器中登录集团超管账号', '执行完整的退回和重新提交流程', '验证界面显示和功能操作的一致性', '检查各浏览器下的响应时间和性能表现'], 'expected_results': ['所有主流浏览器功能正常可用', '界面布局和样式保持一致', '操作响应时间在可接受范围内', '无浏览器特定的功能缺陷'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-001', 'title': '流程从退回→上级审批中开始新一轮审批 - 集团超管权限验证 - 只有集团超管可以执行退回操作', 'preconditions': ['系统已登录', '审批流程处于审批通过状态', '存在不同权限级别的用户账号（集团超管、普通用户、部门管理员）'], 'steps': ['使用非集团超管账号登录系统', '导航到审批详情页面', '检查页面是否显示退回按钮', '尝试通过API直接调用退回功能（使用Postman）'], 'expected_results': ['非集团超管用户界面不显示退回按钮', 'API调用返回权限错误（403 Forbidden）', '系统记录未授权访问尝试日志'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-002', 'title': '流程从退回→上级审批中开始新一轮审批 - 一键退回核心流程验证 - 从审批通过到重新提交的完整流程', 'preconditions': ['系统已使用集团超管账号登录', '审批流程处于审批通过状态', '存在完整的审批层级结构'], 'steps': ['导航到审批详情页面', '点击退回按钮', '确认退回操作', '验证流程状态变化', '重新提交审批申请', '验证新一轮审批流程启动'], 'expected_results': ['退回操作成功执行', "流程状态从'审批通过'变为'已退回'", "重新提交后流程状态变为'上级审批中'", '新一轮审批流程正常启动'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-003', 'title': '流程从退回→上级审批中开始新一轮审批 - 数据一致性验证 - 退回时清空历史审批意见', 'preconditions': ['系统已使用集团超管账号登录', '审批流程处于审批通过状态且包含历史审批意见', '数据库访问权限'], 'steps': ['执行退回操作前记录当前审批意见数据', '执行退回操作', '检查数据库中的审批意见表', '重新提交审批并验证新审批流程'], 'expected_results': ['退回操作后历史审批意见被正确清空', '数据库相关字段被重置为初始状态', '新一轮审批流程开始时审批意见为空'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-004', 'title': '流程从退回→上级审批中开始新一轮审批 - 状态转换验证 - 审批状态正确转换流程', 'preconditions': ['系统已使用集团超管账号登录', '审批流程处于审批通过状态', '状态监控工具已就绪'], 'steps': ['执行退回操作', '监控系统状态变化', '验证状态转换序列', '重新提交审批并监控新一轮状态转换'], 'expected_results': ['状态正确转换：审批通过 → 已退回 → 上级审批中', '状态转换时间戳正确记录', '状态历史记录完整无误'], 'priority': 'P1', 'category': '流程测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-005', 'title': '流程从退回→上级审批中开始新一轮审批 - UI界面验证 - 退回按钮显示条件正确性', 'preconditions': ['系统已登录', '审批流程处于不同状态（审批中、审批通过、已拒绝、已退回）'], 'steps': ['在不同审批状态下访问审批详情页面', '检查退回按钮的显示状态', '验证按钮在不同状态下的可见性和可用性'], 'expected_results': ['退回按钮仅在审批通过状态且用户为集团超管时显示', '按钮在其他状态下正确隐藏', '按钮状态与用户权限正确关联'], 'priority': 'P2', 'category': '功能测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-006', 'title': '流程从退回→上级审批中开始新一轮审批 - 兼容性测试 - 跨浏览器和设备的功能一致性', 'preconditions': ['准备不同浏览器（Chrome, Firefox, Safari, Edge）', '准备不同设备（桌面、平板、手机）', '系统测试环境就绪'], 'steps': ['在不同浏览器中执行退回操作流程', '在不同设备上验证界面布局和功能', '比较各环境下的操作结果一致性'], 'expected_results': ['所有浏览器中退回功能正常工作', '各设备界面布局合理且功能完整', '操作结果在所有环境中保持一致'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-007', 'title': '流程从退回→上级审批中开始新一轮审批 - 可用性测试 - 用户界面友好性和操作流程直观性', 'preconditions': ['系统已使用集团超管账号登录', '审批流程处于审批通过状态', '可用性测试脚本准备就绪'], 'steps': ['执行退回操作并记录操作步骤', '验证操作提示和确认对话框的清晰度', '检查错误处理和成功反馈机制', '评估整体操作流程的直观性'], 'expected_results': ['操作流程直观易懂', '系统提供清晰的操作指引和反馈', '错误信息明确且有助于用户理解', '成功操作后有明确的状态提示'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-一键退回只在叶子节点展示入口-001', 'title': '一键退回只在叶子节点展示入口 - 验证集团超管在叶子节点可见一键退回按钮', 'preconditions': ['系统已登录集团超管账号', '当前节点为审批流程的叶子节点', '审批状态为审批通过'], 'steps': ['导航至审批详情页面', '检查页面是否显示一键退回按钮'], 'expected_results': ['一键退回按钮正常显示在页面中', '按钮状态为可点击'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-一键退回只在叶子节点展示入口-002', 'title': '一键退回只在叶子节点展示入口 - 验证非叶子节点不显示一键退回按钮', 'preconditions': ['系统已登录集团超管账号', '当前节点为非叶子节点', '审批状态为审批通过'], 'steps': ['导航至审批详情页面', '检查页面是否显示一键退回按钮'], 'expected_results': ['页面中不显示一键退回按钮', '无退回相关操作入口'], 'priority': 'P2', 'category': 'UI测试'}, {'id': 'TC-一键退回只在叶子节点展示入口-003', 'title': '一键退回只在叶子节点展示入口 - 验证非集团超管用户无法看到一键退回按钮', 'preconditions': ['系统已登录普通用户账号', '当前节点为审批流程的叶子节点', '审批状态为审批通过'], 'steps': ['导航至审批详情页面', '检查页面是否显示一键退回按钮'], 'expected_results': ['页面中不显示一键退回按钮', '用户无退回操作权限'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-一键退回只在叶子节点展示入口-004', 'title': '一键退回只在叶子节点展示入口 - 验证一键退回操作完整流程', 'preconditions': ['系统已登录集团超管账号', '当前节点为叶子节点且审批通过', '存在历史审批意见数据'], 'steps': ['点击一键退回按钮', '确认退回操作', '检查审批状态变化', '验证历史审批意见是否清空'], 'expected_results': ['退回操作成功执行', "审批状态从'审批通过'变为'已退回'", '历史审批意见被正确清空', '系统显示退回成功提示'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-一键退回只在叶子节点展示入口-005', 'title': '一键退回只在叶子节点展示入口 - 验证退回后重新提交流程', 'preconditions': ['审批单处于已退回状态', '原提交用户已登录系统'], 'steps': ['用户重新编辑审批内容', '提交审批申请', '检查审批状态变化'], 'expected_results': ['重新提交操作成功', "审批状态从'已退回'变为'待审批'", '流程重新开始审批'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-一键退回只在叶子节点展示入口-006', 'title': '一键退回只在叶子节点展示入口 - 验证不同浏览器下退回按钮显示兼容性', 'preconditions': ['系统已登录集团超管账号', '当前节点为叶子节点且审批通过', '使用不同浏览器访问系统'], 'steps': ['在Chrome浏览器中访问审批详情页', '在Firefox浏览器中访问审批详情页', '在Safari浏览器中访问审批详情页', '检查各浏览器中退回按钮显示情况'], 'expected_results': ['所有浏览器中退回按钮正常显示', '按钮样式和位置保持一致', '按钮功能正常工作'], 'priority': 'P3', 'category': 'UI测试'}, {'id': 'TC-一键退回只在叶子节点展示入口-007', 'title': '一键退回只在叶子节点展示入口 - 验证移动设备上一键退回功能可用性', 'preconditions': ['系统已登录集团超管账号', '使用移动设备访问系统', '当前节点为叶子节点且审批通过'], 'steps': ['在移动设备浏览器中打开审批详情页', '检查退回按钮显示和布局', '执行退回操作', '验证操作结果'], 'expected_results': ['移动设备上退回按钮清晰可见', '按钮大小适合触屏操作', '退回功能正常执行', '页面布局适配移动设备'], 'priority': 'P3', 'category': 'UI测试'}, {'id': 'TC-权限控制：仅集团超管可执行退回操作-001', 'title': '权限控制：仅集团超管可执行退回操作 - 权限控制验证：集团超管执行退回操作成功', 'preconditions': ['系统已登录集团超管账号', '存在审批通过状态的待处理数据', '退回功能按钮可见'], 'steps': ['导航到待处理数据列表页面', '选择一条审批通过状态的数据记录', '点击退回操作按钮', '确认退回操作'], 'expected_results': ['退回操作执行成功', '数据状态正确转换为退回状态', '系统显示操作成功提示信息'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-权限控制：仅集团超管可执行退回操作-002', 'title': '权限控制：仅集团超管可执行退回操作 - 权限控制验证：普通用户无法执行退回操作', 'preconditions': ['系统已登录普通用户账号', '存在审批通过状态的待处理数据'], 'steps': ['导航到待处理数据列表页面', '选择一条审批通过状态的数据记录', '检查页面是否存在退回操作按钮', '尝试通过URL直接访问退回功能接口'], 'expected_results': ['退回操作按钮在页面上不可见', '直接接口访问返回权限不足错误（403状态码）', '系统显示无权限操作提示信息'], 'priority': 'P0', 'category': '权限测试'}, {'id': 'TC-权限控制：仅集团超管可执行退回操作-003', 'title': '权限控制：仅集团超管可执行退回操作 - 权限控制验证：部门管理员无法执行退回操作', 'preconditions': ['系统已登录部门管理员账号', '存在审批通过状态的待处理数据'], 'steps': ['导航到待处理数据列表页面', '选择一条审批通过状态的数据记录', '检查页面是否存在退回操作按钮', '尝试执行退回操作（如果按钮可见）'], 'expected_results': ['退回操作按钮在页面上不可见或禁用', '系统阻止退回操作执行并显示权限不足提示', '数据状态保持原审批通过状态不变'], 'priority': 'P0', 'category': '权限测试'}, {'id': 'TC-权限控制：仅集团超管可执行退回操作-004', 'title': '权限控制：仅集团超管可执行退回操作 - 一键退回功能核心流程验证：完整退回流程', 'preconditions': ['系统已登录集团超管账号', '存在多条审批通过状态的待处理数据'], 'steps': ['导航到待处理数据列表页面', '选择多条审批通过状态的数据记录', '点击一键退回操作按钮', '确认批量退回操作', '验证退回后数据状态', '重新提交退回的数据'], 'expected_results': ['批量退回操作执行成功', '所有选中数据状态正确转换为退回状态', '重新提交功能正常工作，数据可重新进入审批流程', '系统记录完整的操作日志'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-权限控制：仅集团超管可执行退回操作-005', 'title': '权限控制：仅集团超管可执行退回操作 - 数据一致性验证：退回操作清空历史审批意见', 'preconditions': ['系统已登录集团超管账号', '存在包含历史审批意见的审批通过数据'], 'steps': ['查看数据的历史审批意见记录', '执行退回操作', '验证退回后数据的审批意见状态', '检查数据库中的相关数据表'], 'expected_results': ['退回操作后历史审批意见被正确清空', '数据库中的审批意见字段被置为空或初始状态', '系统保留退回操作记录但不保留原审批意见'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-权限控制：仅集团超管可执行退回操作-006', 'title': '权限控制：仅集团超管可执行退回操作 - 状态转换验证：退回操作状态流转正确性', 'preconditions': ['系统已登录集团超管账号', '存在不同状态的数据记录（审批中、审批通过、已退回等）'], 'steps': ['尝试对非审批通过状态的数据执行退回操作', '对审批通过状态数据执行退回操作', '验证状态转换后的数据属性', '检查状态历史记录'], 'expected_results': ['只有审批通过状态的数据允许执行退回操作', "退回操作后状态正确转换为'已退回'", '状态历史记录完整记录状态转换过程', '非审批通过状态的数据显示不允许退回的提示'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-权限控制：仅集团超管可执行退回操作-007', 'title': '权限控制：仅集团超管可执行退回操作 - UI界面验证：退回按钮显示条件正确性', 'preconditions': ['使用不同权限账号登录系统', '存在各种状态的数据记录'], 'steps': ['使用集团超管账号登录，查看不同状态数据的按钮显示', '使用普通用户账号登录，查看按钮显示情况', '使用部门管理员账号登录，查看按钮显示情况', '验证按钮在不同状态下的启用/禁用状态'], 'expected_results': ['仅集团超管在审批通过状态数据下显示退回按钮', '其他权限用户在任何状态下都不显示退回按钮', '按钮状态正确反映操作可行性（启用/禁用）', '按钮文本和提示信息准确清晰'], 'priority': 'P2', 'category': '功能测试'}, {'id': 'TC-权限控制：仅集团超管可执行退回操作-008', 'title': '权限控制：仅集团超管可执行退回操作 - 兼容性测试：退回功能在不同浏览器表现一致性', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器环境', '系统已登录集团超管账号', '存在审批通过状态的待处理数据'], 'steps': ['在不同浏览器中登录系统', '执行退回操作流程', '验证操作结果和界面显示', '检查各浏览器下的功能一致性'], 'expected_results': ['所有浏览器中退回功能正常工作', '界面布局和样式在各浏览器中保持一致', '操作响应时间和用户体验基本一致', '无浏览器特定的功能缺陷'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-数据一致性：退回时清空历史审批意见-001', 'title': '数据一致性：退回时清空历史审批意见 - 数据一致性验证：集团超管执行退回操作时清空历史审批意见', 'preconditions': ['系统已登录集团超管账户', '存在已审批通过的业务单据', '该单据包含多条历史审批意见记录'], 'steps': ['导航到目标业务单据详情页面', "确认页面显示'退回'按钮", "点击'退回'按钮执行退回操作", '确认退回操作成功完成', '重新进入该业务单据详情页面', '查看审批意见历史记录'], 'expected_results': ['退回操作执行成功，系统提示退回成功', "业务单据状态从'审批通过'变为'已退回'", '历史审批意见记录被完全清空，显示无审批意见', "审批意见区域显示为空或提示'暂无审批意见'"], 'priority': 'P1', 'category': '数据完整性测试'}, {'id': 'TC-数据一致性：退回时清空历史审批意见-002', 'title': '数据一致性：退回时清空历史审批意见 - 权限控制验证：非集团超管用户无法执行退回操作', 'preconditions': ['系统已登录普通用户账户', '存在已审批通过的业务单据', '该单据包含历史审批意见记录'], 'steps': ['导航到目标业务单据详情页面', "检查页面是否显示'退回'按钮", '尝试通过URL直接访问退回接口', '确认操作结果'], 'expected_results': ["页面不显示'退回'按钮", '直接接口访问返回权限不足错误（HTTP 403）', '历史审批意见记录保持不变，未被清空', "业务单据状态保持'审批通过'不变"], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-数据一致性：退回时清空历史审批意见-003', 'title': '数据一致性：退回时清空历史审批意见 - 状态转换验证：退回操作后状态正确转换且数据一致性', 'preconditions': ['系统已登录集团超管账户', '存在已审批通过的业务单据', '该单据包含完整的审批流程历史记录'], 'steps': ['执行退回操作', '验证业务单据状态变化', '检查数据库审批意见表相关记录', '验证重新提交流程的完整性'], 'expected_results': ["业务单据状态正确从'审批通过'转换为'已退回'", '数据库审批意见表中该单据的所有记录被标记为已删除或物理删除', '重新提交后可正常开始新的审批流程', '新的审批意见记录与历史记录完全隔离'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-数据一致性：退回时清空历史审批意见-004', 'title': '数据一致性：退回时清空历史审批意见 - UI界面验证：退回按钮显示条件正确性', 'preconditions': ['系统已登录不同权限用户账户', '存在不同状态的业务单据（审批中、审批通过、已退回）'], 'steps': ['使用集团超管账户登录', '查看不同状态单据的详情页面', '使用普通用户账户登录', '查看相同单据的详情页面', '记录按钮显示情况'], 'expected_results': ['集团超管仅在审批通过状态的单据页面看到退回按钮', '普通用户在所有状态下均看不到退回按钮', '已退回状态的单据不显示退回按钮', '审批中状态的单据不显示退回按钮'], 'priority': 'P2', 'category': '可用性测试'}, {'id': 'TC-数据一致性：退回时清空历史审批意见-005', 'title': '数据一致性：退回时清空历史审批意见 - 兼容性测试：退回功能在不同浏览器设备的数据一致性', 'preconditions': ['准备不同浏览器（Chrome, Firefox, Safari, Edge）', '准备移动设备（iOS, Android）', '系统已登录集团超管账户', '存在已审批通过的业务单据'], 'steps': ['在不同浏览器和设备上执行退回操作', '验证操作结果一致性', '检查审批意见清空效果', '验证状态转换一致性'], 'expected_results': ['所有浏览器和设备上退回操作均能成功执行', '所有环境下历史审批意见均被正确清空', '状态转换在所有环境下保持一致', '界面显示和交互在不同设备上适配良好'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-状态管理：审批通过非终态，支持流程重走-001', 'title': '状态管理：审批通过非终态，支持流程重走 - 集团超管权限验证', 'preconditions': ['系统存在已审批通过的流程实例', '测试用户已登录系统', '流程实例处于审批通过状态'], 'steps': ['使用集团超管账号登录系统', '访问已审批通过的流程详情页面', '验证退回按钮是否可见', '使用非集团超管账号登录系统', '访问相同的流程详情页面', '验证退回按钮是否不可见'], 'expected_results': ['集团超管账号可见退回按钮', '非集团超管账号不可见退回按钮', '非授权用户无法执行退回操作'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-状态管理：审批通过非终态，支持流程重走-002', 'title': '状态管理：审批通过非终态，支持流程重走 - 一键退回核心流程验证', 'preconditions': ['系统存在已审批通过的流程实例', '集团超管账号已登录系统', '流程实例处于审批通过状态'], 'steps': ['访问已审批通过的流程详情页面', '点击退回按钮', '确认退回操作', '验证流程状态变化', '重新提交流程申请', '验证流程重新开始审批'], 'expected_results': ['退回操作执行成功', '流程状态从审批通过变为待审批', '可以重新提交流程申请', '流程重新进入审批流程'], 'priority': 'P0', 'category': '流程测试'}, {'id': 'TC-状态管理：审批通过非终态，支持流程重走-003', 'title': '状态管理：审批通过非终态，支持流程重走 - 数据一致性验证', 'preconditions': ['系统存在已审批通过的流程实例', '流程包含历史审批意见数据', '集团超管账号已登录系统'], 'steps': ['执行退回操作前记录当前审批意见', '执行一键退回操作', '验证退回后审批意见是否清空', '重新提交流程申请', '验证新审批流程开始时无历史审批意见'], 'expected_results': ['退回操作后历史审批意见被正确清空', '重新提交后审批意见区域为空', '无残留历史数据影响新审批流程'], 'priority': 'P1', 'category': '流程测试'}, {'id': 'TC-状态管理：审批通过非终态，支持流程重走-004', 'title': '状态管理：审批通过非终态，支持流程重走 - 状态转换验证', 'preconditions': ['系统存在已审批通过的流程实例', '集团超管账号已登录系统', '具备状态监控工具'], 'steps': ['监控流程当前状态为审批通过', '执行一键退回操作', '验证状态转换为待审批', '重新提交流程申请', '验证状态转换为审批中'], 'expected_results': ['状态从审批通过正确转换为待审批', '重新提交后状态正确转换为审批中', '状态转换符合业务流程定义'], 'priority': 'P1', 'category': '状态转换测试'}, {'id': 'TC-状态管理：审批通过非终态，支持流程重走-005', 'title': '状态管理：审批通过非终态，支持流程重走 - UI界面验证', 'preconditions': ['系统存在不同状态的流程实例', '集团超管账号已登录系统'], 'steps': ['访问审批通过状态的流程详情页面', '验证退回按钮显示状态', '访问非审批通过状态的流程详情页面', '验证退回按钮显示状态', '访问未完成审批的流程详情页面', '验证退回按钮显示状态'], 'expected_results': ['仅在审批通过状态显示退回按钮', '非审批通过状态不显示退回按钮', '按钮样式和位置符合UI设计规范'], 'priority': 'P2', 'category': '可用性测试'}, {'id': 'TC-状态管理：审批通过非终态，支持流程重走-006', 'title': '状态管理：审批通过非终态，支持流程重走 - 跨浏览器兼容性验证', 'preconditions': ['系统存在已审批通过的流程实例', '准备Chrome、Firefox、Safari、Edge浏览器环境'], 'steps': ['在不同浏览器中使用集团超管账号登录', '访问已审批通过的流程详情页面', '执行退回操作', '验证操作结果一致性', '验证界面显示一致性'], 'expected_results': ['所有浏览器中退回功能正常工作', '界面显示一致无错位', '操作流程在各浏览器中表现一致'], 'priority': 'P3', 'category': '兼容性测试'}]}
2025-08-28 17:33:07 - src.agents.assistant - INFO - 当前进度: 4/4 - 当前阶段: completed
2025-08-28 17:33:07 - src.agents.assistant - INFO - 开始质量保证审查
2025-08-28 17:33:08 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 使用顺序方式处理测试用例
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 将58个测试用例分成4批进行处理，每批约19个用例
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 开始处理第1批测试用例，共19个
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 第1批测试用例处理完成
2025-08-28 17:33:35 - src.utils.agent_io - INFO - 已保存quality_assurance_batch_1的执行结果到agent_results/quality_assurance_batch_1_result.json
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 已保存第1批质量审查结果
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 开始处理第2批测试用例，共19个
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 第2批测试用例处理完成
2025-08-28 17:33:35 - src.utils.agent_io - INFO - 已保存quality_assurance_batch_2的执行结果到agent_results/quality_assurance_batch_2_result.json
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 已保存第2批质量审查结果
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 开始处理第3批测试用例，共19个
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 第3批测试用例处理完成
2025-08-28 17:33:35 - src.utils.agent_io - INFO - 已保存quality_assurance_batch_3的执行结果到agent_results/quality_assurance_batch_3_result.json
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 已保存第3批质量审查结果
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 开始处理第4批测试用例，共1个
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 第4批测试用例处理完成
2025-08-28 17:33:35 - src.utils.agent_io - INFO - 已保存quality_assurance_batch_4的执行结果到agent_results/quality_assurance_batch_4_result.json
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 已保存第4批质量审查结果
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 所有测试用例处理完成，共改进58个测试用例
2025-08-28 17:33:35 - src.utils.agent_io - INFO - 已保存quality_assurance的执行结果到agent_results/quality_assurance_result.json
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 质量审查结果已成功保存
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 测试用例审查完成，共审查 58 个测试用例
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 已删除临时质量审查批次文件: agent_results/quality_assurance_batch_3_result.json
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 已删除临时质量审查批次文件: agent_results/quality_assurance_batch_2_result.json
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 已删除临时质量审查批次文件: agent_results/quality_assurance_batch_4_result.json
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 已删除临时质量审查批次文件: agent_results/quality_assurance_batch_1_result.json
2025-08-28 17:33:35 - src.agents.quality_assurance - INFO - 所有临时质量审查批次文件已清理完毕，共删除 4 个文件
2025-08-28 17:33:35 - src.agents.assistant - INFO - 质量保证审查完成，结果: {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'reviewed_cases': [{'id': 'TC-集团用户可执行一键退回操作-001', 'title': '集团用户可执行一键退回操作 - 验证集团超管权限下的一键退回操作功能', 'preconditions': ['系统已登录集团超管账户', '存在审批通过状态的待处理项目', '项目详情页面已加载完成'], 'steps': ['导航至项目审批管理页面', '选择审批通过状态的项目进入详情页', '点击一键退回按钮', '确认退回操作', '验证项目状态变化'], 'expected_results': ['一键退回按钮可见且可点击', '系统弹出确认退回对话框', '项目状态从审批通过变为已退回', '系统显示退回成功提示信息'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-集团用户可执行一键退回操作-002', 'title': '集团用户可执行一键退回操作 - 验证非集团超管用户无法执行一键退回操作', 'preconditions': ['系统已登录普通用户账户', '存在审批通过状态的待处理项目', '项目详情页面已加载完成'], 'steps': ['导航至项目审批管理页面', '选择审批通过状态的项目进入详情页', '检查页面元素', '尝试通过URL直接访问退回接口'], 'expected_results': ['一键退回按钮不可见或禁用', '直接接口访问返回403权限拒绝错误', '系统记录未授权访问尝试日志'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-集团用户可执行一键退回操作-003', 'title': '集团用户可执行一键退回操作 - 验证一键退回操作的数据清理完整性', 'preconditions': ['系统已登录集团超管账户', '存在包含历史审批意见的审批通过项目', '数据库备份已完成'], 'steps': ['执行一键退回操作', '查询数据库审批意见表', '验证项目状态历史记录', '检查系统日志记录'], 'expected_results': ['历史审批意见被正确清空', '项目状态历史记录新增退回记录', '数据库无残留审批数据', '系统日志完整记录退回操作'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-集团用户可执行一键退回操作-004', 'title': '集团用户可执行一键退回操作 - 验证一键退回操作的状态转换正确性', 'preconditions': ['系统已登录集团超管账户', '存在不同状态的项目（审批中、审批通过、已拒绝）', '状态机配置正确'], 'steps': ['对审批通过状态项目执行退回操作', '对审批中状态项目尝试执行退回操作', '对已拒绝状态项目尝试执行退回操作', '验证各状态转换结果'], 'expected_results': ['仅审批通过状态项目可执行退回操作', '退回后状态正确转换为已退回', '其他状态项目显示相应错误提示', '状态转换符合业务规则定义'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-集团用户可执行一键退回操作-005', 'title': '集团用户可执行一键退回操作 - 验证退回按钮在不同条件下的显示逻辑', 'preconditions': ['系统已登录不同权限用户', '存在多种状态的项目', 'UI界面加载完成'], 'steps': ['使用集团超管查看审批通过项目', '使用集团超管查看非审批通过项目', '使用普通用户查看审批通过项目', '记录按钮显示状态'], 'expected_results': ['集团超管+审批通过：按钮可见可用', '集团超管+其他状态：按钮隐藏或禁用', '普通用户+任何状态：按钮不可见', '按钮样式符合UI设计规范'], 'priority': 'P2', 'category': '功能测试', 'description': ''}, {'id': 'TC-集团用户可执行一键退回操作-006', 'title': '集团用户可执行一键退回操作 - 验证一键退回功能在不同浏览器下的兼容性', 'preconditions': ['Chrome、Firefox、Safari、Edge浏览器可用', '系统已登录集团超管账户', '存在审批通过状态项目'], 'steps': ['在各浏览器中登录系统', '执行一键退回操作流程', '验证功能正常性', '检查界面显示一致性'], 'expected_results': ['所有浏览器功能正常可用', '操作流程一致无差异', '界面元素显示正常无错位', '响应时间符合性能要求'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-001', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证集团超管在审批通过状态下显示一键退回按钮', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批通过'的审批单", '当前页面显示该审批单详情'], 'steps': ['导航至审批单详情页面', '检查页面UI元素', '确认一键退回按钮是否可见'], 'expected_results': ['一键退回按钮在页面中正确显示', '按钮状态为可点击', '按钮位置和样式符合UI设计规范'], 'priority': 'P2', 'category': 'UI测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-002', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证非超管用户在审批通过状态下不显示一键退回按钮', 'preconditions': ['系统已登录普通用户账号', "存在状态为'审批通过'的审批单", '当前页面显示该审批单详情'], 'steps': ['导航至审批单详情页面', '检查页面UI元素', '确认一键退回按钮是否显示'], 'expected_results': ['一键退回按钮在页面中不可见', '页面无退回相关操作选项', '用户无法执行退回操作'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-003', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证超管在非审批通过状态下不显示一键退回按钮', 'preconditions': ['系统已登录集团超管账号', "存在状态不为'审批通过'的审批单（如待审批、已驳回等）", '当前页面显示该审批单详情'], 'steps': ['导航至审批单详情页面', '检查页面UI元素', '确认一键退回按钮是否显示'], 'expected_results': ['一键退回按钮在页面中不可见', '页面显示与当前状态相符的操作按钮', '超管无法在非审批通过状态下执行退回操作'], 'priority': 'P2', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-004', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证一键退回操作执行后的状态转换和数据清理', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批通过'的审批单", '审批单包含历史审批意见数据'], 'steps': ['点击一键退回按钮', '确认退回操作', '检查审批单状态变化', '验证历史审批意见数据'], 'expected_results': ["审批单状态从'审批通过'正确转换为'已退回'", '历史审批意见数据被正确清空', '系统记录退回操作日志', '相关用户收到退回通知'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-005', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证退回后重新提交的完整流程', 'preconditions': ["审批单已被超管退回至'已退回'状态", '原提交用户已登录系统'], 'steps': ['原提交用户重新编辑审批单', '提交审批单', '验证审批流程重新开始'], 'expected_results': ['审批单可被重新编辑和提交', "提交后状态转换为'待审批'", '审批流程正常启动', '系统记录完整的流程历史'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-006', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证不同浏览器下退回按钮显示和功能一致性', 'preconditions': ['准备Chrome、Firefox、Edge等主流浏览器', '系统已登录集团超管账号', "存在状态为'审批通过'的审批单"], 'steps': ['在不同浏览器中登录系统', '导航至审批单详情页面', '检查一键退回按钮显示', '执行退回操作并验证功能'], 'expected_results': ['所有浏览器中一键退回按钮正常显示', '按钮样式和位置保持一致', '退回功能在所有浏览器中正常工作', '无浏览器兼容性问题'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-007', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证移动设备上退回按钮的可用性和操作流程', 'preconditions': ['准备iOS和Android移动设备', '系统已登录集团超管账号', "存在状态为'审批通过'的审批单"], 'steps': ['在移动设备浏览器中访问系统', '导航至审批单详情页面', '检查一键退回按钮的触摸友好性', '执行退回操作流程'], 'expected_results': ['移动设备上按钮大小适合触摸操作', '页面布局适配移动屏幕', '操作流程直观易用', '退回功能在移动端正常工作'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-001', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证集团超管执行退回操作时填写退回原因并清空历史审批意见', 'preconditions': ['系统已登录集团超管账号', '存在处于审批通过状态的审批单', '审批单包含历史审批意见数据'], 'steps': ['进入审批单详情页面', '点击一键退回按钮', '在弹出的退回原因输入框中填写退回原因', '确认执行退回操作', '查看审批单状态和历史审批意见'], 'expected_results': ['退回操作成功执行', "审批状态从'审批通过'变更为'已退回'", '历史审批意见被正确清空', '退回原因被正确记录'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-002', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证非集团超管用户无法执行退回操作', 'preconditions': ['系统已登录普通用户账号', '存在处于审批通过状态的审批单'], 'steps': ['进入审批单详情页面', '检查页面是否存在一键退回按钮', '尝试通过URL直接访问退回功能接口'], 'expected_results': ['页面不显示一键退回按钮', '直接访问退回接口返回权限不足错误', '无法执行退回操作'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-003', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证退回时必须填写退回原因的强制要求', 'preconditions': ['系统已登录集团超管账号', '存在处于审批通过状态的审批单'], 'steps': ['进入审批单详情页面', '点击一键退回按钮', '不填写退回原因直接确认', '尝试不填写原因执行退回操作'], 'expected_results': ['系统提示必须填写退回原因', '退回操作无法执行', '审批状态保持不变'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-004', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证退回操作后历史审批意见数据完整性', 'preconditions': ['系统已登录集团超管账号', '存在包含多条历史审批意见的审批单', '审批单处于审批通过状态'], 'steps': ['执行退回操作并填写退回原因', '检查数据库中的历史审批意见表', '验证数据清理的完整性'], 'expected_results': ['数据库中的历史审批意见记录被正确删除', '退回原因记录被正确保存', '无数据残留或部分清理的情况'], 'priority': 'P1', 'category': '数据完整性测试', 'description': ''}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-005', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证退回按钮在不同状态下的显示条件', 'preconditions': ['系统已登录集团超管账号', '准备不同状态的审批单（待审批、审批中、审批通过、已退回）'], 'steps': ['分别查看不同状态审批单的详情页面', '检查一键退回按钮的显示状态'], 'expected_results': ['仅在审批通过状态的审批单显示退回按钮', '其他状态的审批单不显示退回按钮', '按钮状态显示正确'], 'priority': 'P2', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-006', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证退回功能在不同浏览器上的兼容性', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器环境', '系统已登录集团超管账号', '存在处于审批通过状态的审批单'], 'steps': ['在不同浏览器中执行退回操作', '验证退回原因填写和确认功能', '检查历史审批意见清理效果'], 'expected_results': ['所有浏览器中退回功能正常工作', '退回原因填写和保存功能一致', '历史审批意见清理效果相同'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-001', 'title': '验证集团超管权限控制 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录普通用户账号', '存在审批通过状态的填报记录', '用户无集团超管权限'], 'steps': ['导航至审批通过状态的填报记录详情页面', '检查页面是否显示一键退回按钮', '尝试通过URL直接访问退回功能接口'], 'expected_results': ['页面不显示一键退回按钮', '直接接口访问返回403权限拒绝错误', '系统记录未授权访问尝试日志'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-002', 'title': '验证一键退回核心流程 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录集团超管账号', '存在审批通过状态的填报记录', '填报记录包含审批意见和历史数据'], 'steps': ['导航至审批通过状态的填报记录详情页面', '点击一键退回按钮', '确认退回操作', '以填报人账号登录系统', '查看退回记录的状态', '修改填报内容并重新提交'], 'expected_results': ['退回操作成功执行', "记录状态变为'上级驳回'", '历史审批意见被正确清空', '填报人可正常修改并重新提交', '重新提交后状态变为待审批'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-003', 'title': '验证数据一致性 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录集团超管账号', '存在审批通过状态的填报记录', '填报记录包含多条审批意见'], 'steps': ['执行一键退回操作', '查询数据库中的审批意见表', '检查退回记录的相关数据字段', '验证填报基础数据的完整性'], 'expected_results': ['审批意见表中相关记录被正确标记为已清空', '填报基础数据保持完整未受影响', "状态字段正确更新为'上级驳回'", '退回操作时间戳被正确记录'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-004', 'title': '验证状态转换逻辑 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录集团超管账号', '存在不同审批状态的测试记录'], 'steps': ['对审批通过状态的记录执行退回操作', '验证状态转换结果', '尝试对非审批通过状态的记录执行退回操作', '观察系统响应和行为'], 'expected_results': ['仅审批通过状态的记录可执行退回操作', "退回后状态正确变为'上级驳回'", '非审批通过状态的记录显示退回按钮不可用', '系统提示正确的状态转换错误信息'], 'priority': 'P1', 'category': '流程测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-005', 'title': '验证UI界面显示条件 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录不同权限的用户账号', '存在多种状态的填报记录'], 'steps': ['使用集团超管账号查看不同状态的记录', '验证退回按钮的显示条件', '使用普通用户账号查看审批通过状态的记录', '检查按钮显示状态'], 'expected_results': ['仅集团超管在审批通过状态的记录页面看到退回按钮', '按钮状态和样式符合设计规范', '普通用户在任何状态下都不显示退回按钮', '按钮提示信息清晰准确'], 'priority': 'P2', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-006', 'title': '验证跨浏览器兼容性 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器环境', '系统可正常访问'], 'steps': ['在不同浏览器中登录集团超管账号', '执行完整的退回和重新提交流程', '验证界面显示和功能操作的一致性', '检查各浏览器下的响应时间和性能表现'], 'expected_results': ['所有主流浏览器功能正常可用', '界面布局和样式保持一致', '操作响应时间在可接受范围内', '无浏览器特定的功能缺陷'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-001', 'title': '流程从退回→上级审批中开始新一轮审批 - 集团超管权限验证 - 只有集团超管可以执行退回操作', 'preconditions': ['系统已登录', '审批流程处于审批通过状态', '存在不同权限级别的用户账号（集团超管、普通用户、部门管理员）'], 'steps': ['使用非集团超管账号登录系统', '导航到审批详情页面', '检查页面是否显示退回按钮', '尝试通过API直接调用退回功能（使用Postman）'], 'expected_results': ['非集团超管用户界面不显示退回按钮', 'API调用返回权限错误（403 Forbidden）', '系统记录未授权访问尝试日志'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-002', 'title': '流程从退回→上级审批中开始新一轮审批 - 一键退回核心流程验证 - 从审批通过到重新提交的完整流程', 'preconditions': ['系统已使用集团超管账号登录', '审批流程处于审批通过状态', '存在完整的审批层级结构'], 'steps': ['导航到审批详情页面', '点击退回按钮', '确认退回操作', '验证流程状态变化', '重新提交审批申请', '验证新一轮审批流程启动'], 'expected_results': ['退回操作成功执行', "流程状态从'审批通过'变为'已退回'", "重新提交后流程状态变为'上级审批中'", '新一轮审批流程正常启动'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-003', 'title': '流程从退回→上级审批中开始新一轮审批 - 数据一致性验证 - 退回时清空历史审批意见', 'preconditions': ['系统已使用集团超管账号登录', '审批流程处于审批通过状态且包含历史审批意见', '数据库访问权限'], 'steps': ['执行退回操作前记录当前审批意见数据', '执行退回操作', '检查数据库中的审批意见表', '重新提交审批并验证新审批流程'], 'expected_results': ['退回操作后历史审批意见被正确清空', '数据库相关字段被重置为初始状态', '新一轮审批流程开始时审批意见为空'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-004', 'title': '流程从退回→上级审批中开始新一轮审批 - 状态转换验证 - 审批状态正确转换流程', 'preconditions': ['系统已使用集团超管账号登录', '审批流程处于审批通过状态', '状态监控工具已就绪'], 'steps': ['执行退回操作', '监控系统状态变化', '验证状态转换序列', '重新提交审批并监控新一轮状态转换'], 'expected_results': ['状态正确转换：审批通过 → 已退回 → 上级审批中', '状态转换时间戳正确记录', '状态历史记录完整无误'], 'priority': 'P1', 'category': '流程测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-005', 'title': '流程从退回→上级审批中开始新一轮审批 - UI界面验证 - 退回按钮显示条件正确性', 'preconditions': ['系统已登录', '审批流程处于不同状态（审批中、审批通过、已拒绝、已退回）'], 'steps': ['在不同审批状态下访问审批详情页面', '检查退回按钮的显示状态', '验证按钮在不同状态下的可见性和可用性'], 'expected_results': ['退回按钮仅在审批通过状态且用户为集团超管时显示', '按钮在其他状态下正确隐藏', '按钮状态与用户权限正确关联'], 'priority': 'P2', 'category': '功能测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-006', 'title': '流程从退回→上级审批中开始新一轮审批 - 兼容性测试 - 跨浏览器和设备的功能一致性', 'preconditions': ['准备不同浏览器（Chrome, Firefox, Safari, Edge）', '准备不同设备（桌面、平板、手机）', '系统测试环境就绪'], 'steps': ['在不同浏览器中执行退回操作流程', '在不同设备上验证界面布局和功能', '比较各环境下的操作结果一致性'], 'expected_results': ['所有浏览器中退回功能正常工作', '各设备界面布局合理且功能完整', '操作结果在所有环境中保持一致'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-007', 'title': '流程从退回→上级审批中开始新一轮审批 - 可用性测试 - 用户界面友好性和操作流程直观性', 'preconditions': ['系统已使用集团超管账号登录', '审批流程处于审批通过状态', '可用性测试脚本准备就绪'], 'steps': ['执行退回操作并记录操作步骤', '验证操作提示和确认对话框的清晰度', '检查错误处理和成功反馈机制', '评估整体操作流程的直观性'], 'expected_results': ['操作流程直观易懂', '系统提供清晰的操作指引和反馈', '错误信息明确且有助于用户理解', '成功操作后有明确的状态提示'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-一键退回只在叶子节点展示入口-001', 'title': '一键退回只在叶子节点展示入口 - 验证集团超管在叶子节点可见一键退回按钮', 'preconditions': ['系统已登录集团超管账号', '当前节点为审批流程的叶子节点', '审批状态为审批通过'], 'steps': ['导航至审批详情页面', '检查页面是否显示一键退回按钮'], 'expected_results': ['一键退回按钮正常显示在页面中', '按钮状态为可点击'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回只在叶子节点展示入口-002', 'title': '一键退回只在叶子节点展示入口 - 验证非叶子节点不显示一键退回按钮', 'preconditions': ['系统已登录集团超管账号', '当前节点为非叶子节点', '审批状态为审批通过'], 'steps': ['导航至审批详情页面', '检查页面是否显示一键退回按钮'], 'expected_results': ['页面中不显示一键退回按钮', '无退回相关操作入口'], 'priority': 'P2', 'category': 'UI测试', 'description': ''}, {'id': 'TC-一键退回只在叶子节点展示入口-003', 'title': '一键退回只在叶子节点展示入口 - 验证非集团超管用户无法看到一键退回按钮', 'preconditions': ['系统已登录普通用户账号', '当前节点为审批流程的叶子节点', '审批状态为审批通过'], 'steps': ['导航至审批详情页面', '检查页面是否显示一键退回按钮'], 'expected_results': ['页面中不显示一键退回按钮', '用户无退回操作权限'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回只在叶子节点展示入口-004', 'title': '一键退回只在叶子节点展示入口 - 验证一键退回操作完整流程', 'preconditions': ['系统已登录集团超管账号', '当前节点为叶子节点且审批通过', '存在历史审批意见数据'], 'steps': ['点击一键退回按钮', '确认退回操作', '检查审批状态变化', '验证历史审批意见是否清空'], 'expected_results': ['退回操作成功执行', "审批状态从'审批通过'变为'已退回'", '历史审批意见被正确清空', '系统显示退回成功提示'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回只在叶子节点展示入口-005', 'title': '一键退回只在叶子节点展示入口 - 验证退回后重新提交流程', 'preconditions': ['审批单处于已退回状态', '原提交用户已登录系统'], 'steps': ['用户重新编辑审批内容', '提交审批申请', '检查审批状态变化'], 'expected_results': ['重新提交操作成功', "审批状态从'已退回'变为'待审批'", '流程重新开始审批'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回只在叶子节点展示入口-006', 'title': '一键退回只在叶子节点展示入口 - 验证不同浏览器下退回按钮显示兼容性', 'preconditions': ['系统已登录集团超管账号', '当前节点为叶子节点且审批通过', '使用不同浏览器访问系统'], 'steps': ['在Chrome浏览器中访问审批详情页', '在Firefox浏览器中访问审批详情页', '在Safari浏览器中访问审批详情页', '检查各浏览器中退回按钮显示情况'], 'expected_results': ['所有浏览器中退回按钮正常显示', '按钮样式和位置保持一致', '按钮功能正常工作'], 'priority': 'P3', 'category': 'UI测试', 'description': ''}, {'id': 'TC-一键退回只在叶子节点展示入口-007', 'title': '一键退回只在叶子节点展示入口 - 验证移动设备上一键退回功能可用性', 'preconditions': ['系统已登录集团超管账号', '使用移动设备访问系统', '当前节点为叶子节点且审批通过'], 'steps': ['在移动设备浏览器中打开审批详情页', '检查退回按钮显示和布局', '执行退回操作', '验证操作结果'], 'expected_results': ['移动设备上退回按钮清晰可见', '按钮大小适合触屏操作', '退回功能正常执行', '页面布局适配移动设备'], 'priority': 'P3', 'category': 'UI测试', 'description': ''}, {'id': 'TC-权限控制：仅集团超管可执行退回操作-001', 'title': '权限控制：仅集团超管可执行退回操作 - 权限控制验证：集团超管执行退回操作成功', 'preconditions': ['系统已登录集团超管账号', '存在审批通过状态的待处理数据', '退回功能按钮可见'], 'steps': ['导航到待处理数据列表页面', '选择一条审批通过状态的数据记录', '点击退回操作按钮', '确认退回操作'], 'expected_results': ['退回操作执行成功', '数据状态正确转换为退回状态', '系统显示操作成功提示信息'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-权限控制：仅集团超管可执行退回操作-002', 'title': '权限控制：仅集团超管可执行退回操作 - 权限控制验证：普通用户无法执行退回操作', 'preconditions': ['系统已登录普通用户账号', '存在审批通过状态的待处理数据'], 'steps': ['导航到待处理数据列表页面', '选择一条审批通过状态的数据记录', '检查页面是否存在退回操作按钮', '尝试通过URL直接访问退回功能接口'], 'expected_results': ['退回操作按钮在页面上不可见', '直接接口访问返回权限不足错误（403状态码）', '系统显示无权限操作提示信息'], 'priority': 'P0', 'category': '权限测试', 'description': ''}, {'id': 'TC-权限控制：仅集团超管可执行退回操作-003', 'title': '权限控制：仅集团超管可执行退回操作 - 权限控制验证：部门管理员无法执行退回操作', 'preconditions': ['系统已登录部门管理员账号', '存在审批通过状态的待处理数据'], 'steps': ['导航到待处理数据列表页面', '选择一条审批通过状态的数据记录', '检查页面是否存在退回操作按钮', '尝试执行退回操作（如果按钮可见）'], 'expected_results': ['退回操作按钮在页面上不可见或禁用', '系统阻止退回操作执行并显示权限不足提示', '数据状态保持原审批通过状态不变'], 'priority': 'P0', 'category': '权限测试', 'description': ''}, {'id': 'TC-权限控制：仅集团超管可执行退回操作-004', 'title': '权限控制：仅集团超管可执行退回操作 - 一键退回功能核心流程验证：完整退回流程', 'preconditions': ['系统已登录集团超管账号', '存在多条审批通过状态的待处理数据'], 'steps': ['导航到待处理数据列表页面', '选择多条审批通过状态的数据记录', '点击一键退回操作按钮', '确认批量退回操作', '验证退回后数据状态', '重新提交退回的数据'], 'expected_results': ['批量退回操作执行成功', '所有选中数据状态正确转换为退回状态', '重新提交功能正常工作，数据可重新进入审批流程', '系统记录完整的操作日志'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-权限控制：仅集团超管可执行退回操作-005', 'title': '权限控制：仅集团超管可执行退回操作 - 数据一致性验证：退回操作清空历史审批意见', 'preconditions': ['系统已登录集团超管账号', '存在包含历史审批意见的审批通过数据'], 'steps': ['查看数据的历史审批意见记录', '执行退回操作', '验证退回后数据的审批意见状态', '检查数据库中的相关数据表'], 'expected_results': ['退回操作后历史审批意见被正确清空', '数据库中的审批意见字段被置为空或初始状态', '系统保留退回操作记录但不保留原审批意见'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-权限控制：仅集团超管可执行退回操作-006', 'title': '权限控制：仅集团超管可执行退回操作 - 状态转换验证：退回操作状态流转正确性', 'preconditions': ['系统已登录集团超管账号', '存在不同状态的数据记录（审批中、审批通过、已退回等）'], 'steps': ['尝试对非审批通过状态的数据执行退回操作', '对审批通过状态数据执行退回操作', '验证状态转换后的数据属性', '检查状态历史记录'], 'expected_results': ['只有审批通过状态的数据允许执行退回操作', "退回操作后状态正确转换为'已退回'", '状态历史记录完整记录状态转换过程', '非审批通过状态的数据显示不允许退回的提示'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-权限控制：仅集团超管可执行退回操作-007', 'title': '权限控制：仅集团超管可执行退回操作 - UI界面验证：退回按钮显示条件正确性', 'preconditions': ['使用不同权限账号登录系统', '存在各种状态的数据记录'], 'steps': ['使用集团超管账号登录，查看不同状态数据的按钮显示', '使用普通用户账号登录，查看按钮显示情况', '使用部门管理员账号登录，查看按钮显示情况', '验证按钮在不同状态下的启用/禁用状态'], 'expected_results': ['仅集团超管在审批通过状态数据下显示退回按钮', '其他权限用户在任何状态下都不显示退回按钮', '按钮状态正确反映操作可行性（启用/禁用）', '按钮文本和提示信息准确清晰'], 'priority': 'P2', 'category': '功能测试', 'description': ''}, {'id': 'TC-权限控制：仅集团超管可执行退回操作-008', 'title': '权限控制：仅集团超管可执行退回操作 - 兼容性测试：退回功能在不同浏览器表现一致性', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器环境', '系统已登录集团超管账号', '存在审批通过状态的待处理数据'], 'steps': ['在不同浏览器中登录系统', '执行退回操作流程', '验证操作结果和界面显示', '检查各浏览器下的功能一致性'], 'expected_results': ['所有浏览器中退回功能正常工作', '界面布局和样式在各浏览器中保持一致', '操作响应时间和用户体验基本一致', '无浏览器特定的功能缺陷'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-数据一致性：退回时清空历史审批意见-001', 'title': '数据一致性：退回时清空历史审批意见 - 数据一致性验证：集团超管执行退回操作时清空历史审批意见', 'preconditions': ['系统已登录集团超管账户', '存在已审批通过的业务单据', '该单据包含多条历史审批意见记录'], 'steps': ['导航到目标业务单据详情页面', "确认页面显示'退回'按钮", "点击'退回'按钮执行退回操作", '确认退回操作成功完成', '重新进入该业务单据详情页面', '查看审批意见历史记录'], 'expected_results': ['退回操作执行成功，系统提示退回成功', "业务单据状态从'审批通过'变为'已退回'", '历史审批意见记录被完全清空，显示无审批意见', "审批意见区域显示为空或提示'暂无审批意见'"], 'priority': 'P1', 'category': '数据完整性测试', 'description': ''}, {'id': 'TC-数据一致性：退回时清空历史审批意见-002', 'title': '数据一致性：退回时清空历史审批意见 - 权限控制验证：非集团超管用户无法执行退回操作', 'preconditions': ['系统已登录普通用户账户', '存在已审批通过的业务单据', '该单据包含历史审批意见记录'], 'steps': ['导航到目标业务单据详情页面', "检查页面是否显示'退回'按钮", '尝试通过URL直接访问退回接口', '确认操作结果'], 'expected_results': ["页面不显示'退回'按钮", '直接接口访问返回权限不足错误（HTTP 403）', '历史审批意见记录保持不变，未被清空', "业务单据状态保持'审批通过'不变"], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-数据一致性：退回时清空历史审批意见-003', 'title': '数据一致性：退回时清空历史审批意见 - 状态转换验证：退回操作后状态正确转换且数据一致性', 'preconditions': ['系统已登录集团超管账户', '存在已审批通过的业务单据', '该单据包含完整的审批流程历史记录'], 'steps': ['执行退回操作', '验证业务单据状态变化', '检查数据库审批意见表相关记录', '验证重新提交流程的完整性'], 'expected_results': ["业务单据状态正确从'审批通过'转换为'已退回'", '数据库审批意见表中该单据的所有记录被标记为已删除或物理删除', '重新提交后可正常开始新的审批流程', '新的审批意见记录与历史记录完全隔离'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-数据一致性：退回时清空历史审批意见-004', 'title': '数据一致性：退回时清空历史审批意见 - UI界面验证：退回按钮显示条件正确性', 'preconditions': ['系统已登录不同权限用户账户', '存在不同状态的业务单据（审批中、审批通过、已退回）'], 'steps': ['使用集团超管账户登录', '查看不同状态单据的详情页面', '使用普通用户账户登录', '查看相同单据的详情页面', '记录按钮显示情况'], 'expected_results': ['集团超管仅在审批通过状态的单据页面看到退回按钮', '普通用户在所有状态下均看不到退回按钮', '已退回状态的单据不显示退回按钮', '审批中状态的单据不显示退回按钮'], 'priority': 'P2', 'category': '可用性测试', 'description': ''}, {'id': 'TC-数据一致性：退回时清空历史审批意见-005', 'title': '数据一致性：退回时清空历史审批意见 - 兼容性测试：退回功能在不同浏览器设备的数据一致性', 'preconditions': ['准备不同浏览器（Chrome, Firefox, Safari, Edge）', '准备移动设备（iOS, Android）', '系统已登录集团超管账户', '存在已审批通过的业务单据'], 'steps': ['在不同浏览器和设备上执行退回操作', '验证操作结果一致性', '检查审批意见清空效果', '验证状态转换一致性'], 'expected_results': ['所有浏览器和设备上退回操作均能成功执行', '所有环境下历史审批意见均被正确清空', '状态转换在所有环境下保持一致', '界面显示和交互在不同设备上适配良好'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-状态管理：审批通过非终态，支持流程重走-001', 'title': '状态管理：审批通过非终态，支持流程重走 - 集团超管权限验证', 'preconditions': ['系统存在已审批通过的流程实例', '测试用户已登录系统', '流程实例处于审批通过状态'], 'steps': ['使用集团超管账号登录系统', '访问已审批通过的流程详情页面', '验证退回按钮是否可见', '使用非集团超管账号登录系统', '访问相同的流程详情页面', '验证退回按钮是否不可见'], 'expected_results': ['集团超管账号可见退回按钮', '非集团超管账号不可见退回按钮', '非授权用户无法执行退回操作'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-状态管理：审批通过非终态，支持流程重走-002', 'title': '状态管理：审批通过非终态，支持流程重走 - 一键退回核心流程验证', 'preconditions': ['系统存在已审批通过的流程实例', '集团超管账号已登录系统', '流程实例处于审批通过状态'], 'steps': ['访问已审批通过的流程详情页面', '点击退回按钮', '确认退回操作', '验证流程状态变化', '重新提交流程申请', '验证流程重新开始审批'], 'expected_results': ['退回操作执行成功', '流程状态从审批通过变为待审批', '可以重新提交流程申请', '流程重新进入审批流程'], 'priority': 'P0', 'category': '流程测试', 'description': ''}, {'id': 'TC-状态管理：审批通过非终态，支持流程重走-003', 'title': '状态管理：审批通过非终态，支持流程重走 - 数据一致性验证', 'preconditions': ['系统存在已审批通过的流程实例', '流程包含历史审批意见数据', '集团超管账号已登录系统'], 'steps': ['执行退回操作前记录当前审批意见', '执行一键退回操作', '验证退回后审批意见是否清空', '重新提交流程申请', '验证新审批流程开始时无历史审批意见'], 'expected_results': ['退回操作后历史审批意见被正确清空', '重新提交后审批意见区域为空', '无残留历史数据影响新审批流程'], 'priority': 'P1', 'category': '流程测试', 'description': ''}, {'id': 'TC-状态管理：审批通过非终态，支持流程重走-004', 'title': '状态管理：审批通过非终态，支持流程重走 - 状态转换验证', 'preconditions': ['系统存在已审批通过的流程实例', '集团超管账号已登录系统', '具备状态监控工具'], 'steps': ['监控流程当前状态为审批通过', '执行一键退回操作', '验证状态转换为待审批', '重新提交流程申请', '验证状态转换为审批中'], 'expected_results': ['状态从审批通过正确转换为待审批', '重新提交后状态正确转换为审批中', '状态转换符合业务流程定义'], 'priority': 'P1', 'category': '状态转换测试', 'description': ''}, {'id': 'TC-状态管理：审批通过非终态，支持流程重走-005', 'title': '状态管理：审批通过非终态，支持流程重走 - UI界面验证', 'preconditions': ['系统存在不同状态的流程实例', '集团超管账号已登录系统'], 'steps': ['访问审批通过状态的流程详情页面', '验证退回按钮显示状态', '访问非审批通过状态的流程详情页面', '验证退回按钮显示状态', '访问未完成审批的流程详情页面', '验证退回按钮显示状态'], 'expected_results': ['仅在审批通过状态显示退回按钮', '非审批通过状态不显示退回按钮', '按钮样式和位置符合UI设计规范'], 'priority': 'P2', 'category': '可用性测试', 'description': ''}, {'id': 'TC-状态管理：审批通过非终态，支持流程重走-006', 'title': '状态管理：审批通过非终态，支持流程重走 - 跨浏览器兼容性验证', 'preconditions': ['系统存在已审批通过的流程实例', '准备Chrome、Firefox、Safari、Edge浏览器环境'], 'steps': ['在不同浏览器中使用集团超管账号登录', '访问已审批通过的流程详情页面', '执行退回操作', '验证操作结果一致性', '验证界面显示一致性'], 'expected_results': ['所有浏览器中退回功能正常工作', '界面显示一致无错位', '操作流程在各浏览器中表现一致'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}], 'review_comments': ['缺少对退回原因字符长度限制的测试用例，建议添加测试最大长度、特殊字符、空格的边界情况', '缺少并发退回操作的测试用例，建议添加多用户同时执行退回操作的场景测试', '缺少网络异常或系统故障时的退回操作恢复测试用例', "部分测试用例标题重复且冗长，建议简化为'验证XX功能在XX条件下的行为'格式", "预期结果描述应更具体，如'系统显示退回成功提示信息'应明确提示信息的具体内容和格式", "步骤描述中'验证XX'、'检查XX'等模糊表述应改为具体的验证动作和检查点", "多个测试用例的前置条件要求'数据库备份已完成'，但未说明如何执行备份和恢复操作", "步骤中'尝试通过URL直接访问退回接口'需要明确具体的URL格式和测试工具使用方法", '需要明确测试数据的具体准备方法，如如何创建包含历史审批意见的审批通过项目', '缺少对退回原因输入边界值的测试，如空字符串、最大长度、特殊字符、emoji等', '缺少大量数据同时退回的性能测试用例，建议添加批量退回操作的性能验证', '缺少时间边界测试，如审批刚刚通过立即执行退回操作的场景', '缺少服务器异常时的退回操作测试，如数据库连接失败、服务宕机等情况', '缺少权限突然变化的测试场景，如执行退回操作时用户权限被管理员撤销', '缺少数据一致性异常测试，如审批意见已被其他操作修改时的退回操作处理']}
2025-08-28 17:33:35 - src.agents.test_case_writer - INFO - 使用顺序方式处理测试用例改进
2025-08-28 17:33:35 - src.agents.test_case_writer - INFO - 将58个测试用例分成12批进行处理，每批约5个用例
2025-08-28 17:33:35 - src.agents.test_case_writer - INFO - 开始处理第1批测试用例，共5个
2025-08-28 17:33:35 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:35:57 - src.agents.test_case_writer - ERROR - 尝试 1/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 17:35:57 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:38:27 - src.agents.test_case_writer - ERROR - 尝试 2/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 17:38:27 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:41:05 - src.agents.test_case_writer - ERROR - 尝试 3/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 17:41:05 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-28 17:41:05 - src.agents.test_case_writer - INFO - 第1批测试用例改进完成
2025-08-28 17:41:05 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_1的执行结果到agent_results/test_case_writer_improved_batch_1_result.json
2025-08-28 17:41:05 - src.agents.test_case_writer - INFO - 已保存第1批改进后的测试用例
2025-08-28 17:41:05 - src.agents.test_case_writer - INFO - 开始处理第2批测试用例，共5个
2025-08-28 17:41:05 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:43:37 - src.agents.test_case_writer - ERROR - 尝试 1/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 17:43:37 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:46:52 - src.agents.test_case_writer - ERROR - 尝试 2/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 17:46:52 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:49:17 - src.agents.test_case_writer - ERROR - 尝试 3/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 17:49:17 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-28 17:49:17 - src.agents.test_case_writer - INFO - 第2批测试用例改进完成
2025-08-28 17:49:17 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_2的执行结果到agent_results/test_case_writer_improved_batch_2_result.json
2025-08-28 17:49:17 - src.agents.test_case_writer - INFO - 已保存第2批改进后的测试用例
2025-08-28 17:49:17 - src.agents.test_case_writer - INFO - 开始处理第3批测试用例，共5个
2025-08-28 17:49:18 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:52:25 - src.agents.test_case_writer - ERROR - 尝试 1/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 17:52:25 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:55:57 - src.agents.test_case_writer - ERROR - 尝试 2/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 17:55:57 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 17:58:57 - src.agents.test_case_writer - ERROR - 尝试 3/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 17:58:57 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-28 17:58:57 - src.agents.test_case_writer - INFO - 第3批测试用例改进完成
2025-08-28 17:58:57 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_3的执行结果到agent_results/test_case_writer_improved_batch_3_result.json
2025-08-28 17:58:57 - src.agents.test_case_writer - INFO - 已保存第3批改进后的测试用例
2025-08-28 17:58:57 - src.agents.test_case_writer - INFO - 开始处理第4批测试用例，共5个
2025-08-28 17:58:57 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:01:32 - src.agents.test_case_writer - ERROR - 尝试 1/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:01:32 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:04:10 - src.agents.test_case_writer - ERROR - 尝试 2/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:04:10 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:06:51 - src.agents.test_case_writer - ERROR - 尝试 3/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:06:51 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-28 18:06:51 - src.agents.test_case_writer - INFO - 第4批测试用例改进完成
2025-08-28 18:06:51 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_4的执行结果到agent_results/test_case_writer_improved_batch_4_result.json
2025-08-28 18:06:51 - src.agents.test_case_writer - INFO - 已保存第4批改进后的测试用例
2025-08-28 18:06:51 - src.agents.test_case_writer - INFO - 开始处理第5批测试用例，共5个
2025-08-28 18:06:51 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:09:16 - src.agents.test_case_writer - ERROR - 尝试 1/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:09:16 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:11:49 - src.agents.test_case_writer - ERROR - 尝试 2/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:11:49 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:14:33 - src.agents.test_case_writer - ERROR - 尝试 3/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:14:33 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-28 18:14:33 - src.agents.test_case_writer - INFO - 第5批测试用例改进完成
2025-08-28 18:14:33 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_5的执行结果到agent_results/test_case_writer_improved_batch_5_result.json
2025-08-28 18:14:33 - src.agents.test_case_writer - INFO - 已保存第5批改进后的测试用例
2025-08-28 18:14:33 - src.agents.test_case_writer - INFO - 开始处理第6批测试用例，共5个
2025-08-28 18:14:33 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:17:06 - src.agents.test_case_writer - ERROR - 尝试 1/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:17:07 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:19:50 - src.agents.test_case_writer - ERROR - 尝试 2/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:19:50 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:23:02 - src.agents.test_case_writer - ERROR - 尝试 3/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:23:02 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-28 18:23:02 - src.agents.test_case_writer - INFO - 第6批测试用例改进完成
2025-08-28 18:23:02 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_6的执行结果到agent_results/test_case_writer_improved_batch_6_result.json
2025-08-28 18:23:02 - src.agents.test_case_writer - INFO - 已保存第6批改进后的测试用例
2025-08-28 18:23:02 - src.agents.test_case_writer - INFO - 开始处理第7批测试用例，共5个
2025-08-28 18:23:02 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:26:20 - src.agents.test_case_writer - ERROR - 尝试 1/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:26:20 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:29:09 - src.agents.test_case_writer - ERROR - 尝试 2/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:29:09 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:32:27 - src.agents.test_case_writer - ERROR - 尝试 3/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:32:27 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-28 18:32:27 - src.agents.test_case_writer - INFO - 第7批测试用例改进完成
2025-08-28 18:32:27 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_7的执行结果到agent_results/test_case_writer_improved_batch_7_result.json
2025-08-28 18:32:27 - src.agents.test_case_writer - INFO - 已保存第7批改进后的测试用例
2025-08-28 18:32:27 - src.agents.test_case_writer - INFO - 开始处理第8批测试用例，共5个
2025-08-28 18:32:27 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:35:13 - src.agents.test_case_writer - ERROR - 尝试 1/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:35:13 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:38:16 - src.agents.test_case_writer - ERROR - 尝试 2/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:38:16 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:41:09 - src.agents.test_case_writer - ERROR - 尝试 3/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:41:09 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-28 18:41:09 - src.agents.test_case_writer - INFO - 第8批测试用例改进完成
2025-08-28 18:41:09 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_8的执行结果到agent_results/test_case_writer_improved_batch_8_result.json
2025-08-28 18:41:09 - src.agents.test_case_writer - INFO - 已保存第8批改进后的测试用例
2025-08-28 18:41:09 - src.agents.test_case_writer - INFO - 开始处理第9批测试用例，共5个
2025-08-28 18:41:09 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:43:49 - src.agents.test_case_writer - ERROR - 尝试 1/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:43:49 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:46:26 - src.agents.test_case_writer - ERROR - 尝试 2/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:46:26 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:49:06 - src.agents.test_case_writer - ERROR - 尝试 3/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:49:06 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-28 18:49:06 - src.agents.test_case_writer - INFO - 第9批测试用例改进完成
2025-08-28 18:49:06 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_9的执行结果到agent_results/test_case_writer_improved_batch_9_result.json
2025-08-28 18:49:06 - src.agents.test_case_writer - INFO - 已保存第9批改进后的测试用例
2025-08-28 18:49:06 - src.agents.test_case_writer - INFO - 开始处理第10批测试用例，共5个
2025-08-28 18:49:06 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:51:24 - src.agents.test_case_writer - ERROR - 尝试 1/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:51:24 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:54:08 - src.agents.test_case_writer - ERROR - 尝试 2/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:54:08 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:56:43 - src.agents.test_case_writer - ERROR - 尝试 3/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:56:43 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-28 18:56:43 - src.agents.test_case_writer - INFO - 第10批测试用例改进完成
2025-08-28 18:56:43 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_10的执行结果到agent_results/test_case_writer_improved_batch_10_result.json
2025-08-28 18:56:43 - src.agents.test_case_writer - INFO - 已保存第10批改进后的测试用例
2025-08-28 18:56:43 - src.agents.test_case_writer - INFO - 开始处理第11批测试用例，共5个
2025-08-28 18:56:43 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 18:59:42 - src.agents.test_case_writer - ERROR - 尝试 1/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 18:59:42 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-28 19:02:58 - src.agents.test_case_writer - ERROR - 尝试 2/3: 使用大模型改进测试用例错误: 'TestCaseWriterAgent' object has no attribute '_parse_llm_response'
2025-08-28 19:02:58 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:11:06 - root - INFO - Logging configured with level: INFO, file: logs/ai_test.log
2025-08-29 09:11:06 - src.utils.agent_io - WARNING - 找不到test_designer的结果文件: agent_results/test_designer_result.json
2025-08-29 09:11:06 - src.agents.test_case_writer - INFO - 测试用例编写代理初始化，设置并发工作线程数为: 1
2025-08-29 09:11:06 - src.utils.agent_io - WARNING - 找不到test_case_writer的结果文件: agent_results/test_case_writer_result.json
2025-08-29 09:11:06 - src.agents.quality_assurance - INFO - 质量保证代理初始化，并发工作线程数: 1
2025-08-29 09:11:06 - src.utils.agent_io - WARNING - 找不到quality_assurance的结果文件: agent_results/quality_assurance_result.json
2025-08-29 09:11:06 - __main__ - INFO - 已处理需求文档：docs/荣耀0827退回重填方案.pdf
2025-08-29 09:11:06 - __main__ - INFO - 开始协调测试用例生成工作流程
2025-08-29 09:11:06 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:11:39 - src.agents.assistant - INFO - 开始协调测试任务流程
2025-08-29 09:11:39 - src.agents.assistant - INFO - 开始需求分析
2025-08-29 09:11:39 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:12:08 - src.agents.requirement_analyst - INFO - AI响应内容: ```json
{
    "functional_requirements": [
        "仅集团用户可执行一键退回操作",
        "一键退回按钮在状态=审批通过且当前用户=超管时显示",
        "退回操作必须填写退回原因",
        "退回时清空历史审批意见，流程重新开始",
        "退回后状态变为上级驳回，填报人修改后重新提交",
      ...
2025-08-29 09:12:08 - src.agents.requirement_analyst - INFO - 成功从JSON响应中提取分析结果
2025-08-29 09:12:08 - src.utils.agent_io - INFO - 已保存requirement_analyst的执行结果到agent_results/requirement_analyst_result.json
2025-08-29 09:12:08 - src.agents.assistant - INFO - 需求分析完成，结果: {'msg_type': 'requirement_analysis_response', 'version': '1.0', 'timestamp': None, 'functional_requirements': ['仅集团用户可执行一键退回操作', '一键退回按钮在状态=审批通过且当前用户=超管时显示', '退回操作必须填写退回原因', '退回时清空历史审批意见，流程重新开始', '退回后状态变为上级驳回，填报人修改后重新提交', '退回操作只在叶子节点展示入口', '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过'], 'non_functional_requirements': ['权限控制：确保只有集团超管才能执行退回操作', '数据一致性：退回操作需确保数据完整性和一致性', '性能要求：退回操作响应时间应在合理范围内', '用户体验：退回操作应有明确的确认提示和操作反馈'], 'test_scenarios': [{'id': 'TS001', 'description': '需要提供具体的测试场景', 'test_steps': []}], 'risk_areas': ['权限控制风险：非授权用户可能执行退回操作', '数据一致性风险：退回操作可能导致数据不一致', '流程中断风险：退回后重新提交流程可能出现异常', '性能风险：大量数据退回操作可能影响系统性能', '用户体验风险：退回操作缺乏足够确认提示可能导致误操作']}
2025-08-29 09:12:08 - src.agents.assistant - INFO - 当前进度: 1/4 - 当前阶段: 测试设计
2025-08-29 09:12:08 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:12:11 - src.agents.assistant - INFO - 用户确认消息: {'content': '正确', 'role': 'user', 'name': 'coordinator'}
2025-08-29 09:12:11 - src.agents.assistant - INFO - 需求分析结果已确认正确，开始进行测试设计和用例编写
2025-08-29 09:12:11 - src.agents.assistant - INFO - 开始测试设计
2025-08-29 09:12:11 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:13:00 - src.agents.test_designer - INFO - AI响应内容: {'content': '\n```json\n{\n    "test_approach": {\n        "methodology": [\n            "功能测试：验证一键退回功能的所有业务逻辑和流程正确性，包括权限控制、状态转换、数据清空和流程重启",\n            "安全测试：重点测试权限控制机制，确保只有集团超管才能执行退回操作，防止未授权访问和操作",...
2025-08-29 09:13:00 - src.agents.test_designer - INFO - 成功从JSON响应中提取测试策略
2025-08-29 09:13:00 - src.utils.agent_io - INFO - 已保存test_designer的执行结果到agent_results/test_designer_result.json
2025-08-29 09:13:00 - src.agents.test_designer - INFO - 测试设计完成
2025-08-29 09:13:00 - src.agents.assistant - INFO - 测试设计原始结果: {'test_approach': {'methodology': ['功能测试：验证一键退回功能的所有业务逻辑和流程正确性，包括权限控制、状态转换、数据清空和流程重启', '安全测试：重点测试权限控制机制，确保只有集团超管才能执行退回操作，防止未授权访问和操作', '性能测试：评估退回操作在不同数据量下的响应时间，确保在合理范围内，特别是大量数据退回时的性能表现', '兼容性测试：验证系统在不同浏览器、操作系统和设备上的兼容性，确保退回功能正常运作', '可用性测试：评估用户界面和操作流程的易用性，包括确认提示、错误处理和操作反馈'], 'tools': ['Selenium WebDriver：用于自动化功能测试和兼容性测试', 'JMeter：用于性能测试，模拟多用户并发执行退回操作', 'OWASP ZAP：用于安全测试，检测权限控制漏洞', 'Postman：用于API接口测试，验证后端逻辑', 'BrowserStack：用于跨浏览器兼容性测试'], 'frameworks': ['TestNG：作为主要测试框架，支持数据驱动测试和并行执行', 'Cucumber：用于行为驱动开发（BDD），编写可读性强的测试场景', 'JUnit：用于单元测试和集成测试', 'Allure：用于测试报告生成和分析']}, 'coverage_matrix': [{'feature': '仅集团用户可执行一键退回操作', 'test_type': '功能测试、安全测试'}, {'feature': '一键退回按钮在状态=审批通过且当前用户=超管时显示', 'test_type': '功能测试、UI测试'}, {'feature': '退回操作必须填写退回原因', 'test_type': '功能测试、验证测试'}, {'feature': '退回时清空历史审批意见，流程重新开始', 'test_type': '功能测试、数据完整性测试'}, {'feature': '退回后状态变为上级驳回，填报人修改后重新提交', 'test_type': '功能测试、流程测试'}, {'feature': '退回操作只在叶子节点展示入口', 'test_type': '功能测试、UI测试'}, {'feature': '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过', 'test_type': '功能测试、条件测试'}, {'feature': '权限控制：确保只有集团超管才能执行退回操作', 'test_type': '安全测试、权限测试'}, {'feature': '数据一致性：退回操作需确保数据完整性和一致性', 'test_type': '数据完整性测试、数据库测试'}, {'feature': '性能要求：退回操作响应时间应在合理范围内', 'test_type': '性能测试、负载测试'}, {'feature': '用户体验：退回操作应有明确的确认提示和操作反馈', 'test_type': '可用性测试、UI测试'}, {'feature': '测试场景TS001：需要提供具体的测试场景', 'test_type': '场景测试、端到端测试'}], 'priorities': [{'level': 'P0', 'description': '权限控制验证：确保只有集团超管能执行退回操作，防止未授权访问'}, {'level': 'P0', 'description': '数据一致性验证：退回操作必须确保数据完整性和一致性，避免数据丢失或损坏'}, {'level': 'P1', 'description': '核心业务流程验证：包括状态转换、审批意见清空、流程重新开始等关键功能'}, {'level': 'P1', 'description': '退回条件验证：按钮显示条件、叶子节点入口展示等业务规则'}, {'level': 'P2', 'description': '性能测试：退回操作的响应时间性能验证'}, {'level': 'P2', 'description': '兼容性测试：跨浏览器和跨设备兼容性验证'}, {'level': 'P3', 'description': '用户体验测试：确认提示、错误消息和操作反馈的可用性'}], 'resource_estimation': {'time': '3-4周（包括测试计划、用例设计、执行和报告）', 'personnel': '2名功能测试工程师、1名性能测试工程师、1名安全测试专家', 'tools': ['Selenium WebDriver', 'JMeter', 'OWASP ZAP', 'Postman', 'BrowserStack'], 'additional_resources': ['测试环境服务器', '测试数据库实例', '多种浏览器和设备用于兼容性测试']}}
2025-08-29 09:13:00 - src.agents.assistant - INFO - 测试设计完成，结果: {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'test_approach': {'methodology': ['功能测试：验证一键退回功能的所有业务逻辑和流程正确性，包括权限控制、状态转换、数据清空和流程重启', '安全测试：重点测试权限控制机制，确保只有集团超管才能执行退回操作，防止未授权访问和操作', '性能测试：评估退回操作在不同数据量下的响应时间，确保在合理范围内，特别是大量数据退回时的性能表现', '兼容性测试：验证系统在不同浏览器、操作系统和设备上的兼容性，确保退回功能正常运作', '可用性测试：评估用户界面和操作流程的易用性，包括确认提示、错误处理和操作反馈'], 'tools': ['Selenium WebDriver：用于自动化功能测试和兼容性测试', 'JMeter：用于性能测试，模拟多用户并发执行退回操作', 'OWASP ZAP：用于安全测试，检测权限控制漏洞', 'Postman：用于API接口测试，验证后端逻辑', 'BrowserStack：用于跨浏览器兼容性测试'], 'frameworks': ['TestNG：作为主要测试框架，支持数据驱动测试和并行执行', 'Cucumber：用于行为驱动开发（BDD），编写可读性强的测试场景', 'JUnit：用于单元测试和集成测试', 'Allure：用于测试报告生成和分析']}, 'coverage_matrix': [{'feature': '仅集团用户可执行一键退回操作', 'test_type': '功能测试、安全测试'}, {'feature': '一键退回按钮在状态=审批通过且当前用户=超管时显示', 'test_type': '功能测试、UI测试'}, {'feature': '退回操作必须填写退回原因', 'test_type': '功能测试、验证测试'}, {'feature': '退回时清空历史审批意见，流程重新开始', 'test_type': '功能测试、数据完整性测试'}, {'feature': '退回后状态变为上级驳回，填报人修改后重新提交', 'test_type': '功能测试、流程测试'}, {'feature': '退回操作只在叶子节点展示入口', 'test_type': '功能测试、UI测试'}, {'feature': '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过', 'test_type': '功能测试、条件测试'}, {'feature': '权限控制：确保只有集团超管才能执行退回操作', 'test_type': '安全测试、权限测试'}, {'feature': '数据一致性：退回操作需确保数据完整性和一致性', 'test_type': '数据完整性测试、数据库测试'}, {'feature': '性能要求：退回操作响应时间应在合理范围内', 'test_type': '性能测试、负载测试'}, {'feature': '用户体验：退回操作应有明确的确认提示和操作反馈', 'test_type': '可用性测试、UI测试'}, {'feature': '测试场景TS001：需要提供具体的测试场景', 'test_type': '场景测试、端到端测试'}], 'priorities': [{'level': 'P0', 'description': '权限控制验证：确保只有集团超管能执行退回操作，防止未授权访问'}, {'level': 'P0', 'description': '数据一致性验证：退回操作必须确保数据完整性和一致性，避免数据丢失或损坏'}, {'level': 'P1', 'description': '核心业务流程验证：包括状态转换、审批意见清空、流程重新开始等关键功能'}, {'level': 'P1', 'description': '退回条件验证：按钮显示条件、叶子节点入口展示等业务规则'}, {'level': 'P2', 'description': '性能测试：退回操作的响应时间性能验证'}, {'level': 'P2', 'description': '兼容性测试：跨浏览器和跨设备兼容性验证'}, {'level': 'P3', 'description': '用户体验测试：确认提示、错误消息和操作反馈的可用性'}], 'resource_estimation': {'time': '3-4周（包括测试计划、用例设计、执行和报告）', 'personnel': '2名功能测试工程师、1名性能测试工程师、1名安全测试专家', 'tools': ['Selenium WebDriver', 'JMeter', 'OWASP ZAP', 'Postman', 'BrowserStack'], 'additional_resources': ['测试环境服务器', '测试数据库实例', '多种浏览器和设备用于兼容性测试']}}
2025-08-29 09:13:00 - src.agents.assistant - INFO - 测试设计结果已保存到代理实例中
2025-08-29 09:13:00 - src.agents.assistant - INFO - 当前进度: 2/4 - 当前阶段: 测试用例编写
2025-08-29 09:13:00 - src.agents.assistant - INFO - 传递给测试用例编写者的测试策略: {'test_strategy': {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'test_approach': {'methodology': ['功能测试：验证一键退回功能的所有业务逻辑和流程正确性，包括权限控制、状态转换、数据清空和流程重启', '安全测试：重点测试权限控制机制，确保只有集团超管才能执行退回操作，防止未授权访问和操作', '性能测试：评估退回操作在不同数据量下的响应时间，确保在合理范围内，特别是大量数据退回时的性能表现', '兼容性测试：验证系统在不同浏览器、操作系统和设备上的兼容性，确保退回功能正常运作', '可用性测试：评估用户界面和操作流程的易用性，包括确认提示、错误处理和操作反馈'], 'tools': ['Selenium WebDriver：用于自动化功能测试和兼容性测试', 'JMeter：用于性能测试，模拟多用户并发执行退回操作', 'OWASP ZAP：用于安全测试，检测权限控制漏洞', 'Postman：用于API接口测试，验证后端逻辑', 'BrowserStack：用于跨浏览器兼容性测试'], 'frameworks': ['TestNG：作为主要测试框架，支持数据驱动测试和并行执行', 'Cucumber：用于行为驱动开发（BDD），编写可读性强的测试场景', 'JUnit：用于单元测试和集成测试', 'Allure：用于测试报告生成和分析']}, 'coverage_matrix': [{'feature': '仅集团用户可执行一键退回操作', 'test_type': '功能测试、安全测试'}, {'feature': '一键退回按钮在状态=审批通过且当前用户=超管时显示', 'test_type': '功能测试、UI测试'}, {'feature': '退回操作必须填写退回原因', 'test_type': '功能测试、验证测试'}, {'feature': '退回时清空历史审批意见，流程重新开始', 'test_type': '功能测试、数据完整性测试'}, {'feature': '退回后状态变为上级驳回，填报人修改后重新提交', 'test_type': '功能测试、流程测试'}, {'feature': '退回操作只在叶子节点展示入口', 'test_type': '功能测试、UI测试'}, {'feature': '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过', 'test_type': '功能测试、条件测试'}, {'feature': '权限控制：确保只有集团超管才能执行退回操作', 'test_type': '安全测试、权限测试'}, {'feature': '数据一致性：退回操作需确保数据完整性和一致性', 'test_type': '数据完整性测试、数据库测试'}, {'feature': '性能要求：退回操作响应时间应在合理范围内', 'test_type': '性能测试、负载测试'}, {'feature': '用户体验：退回操作应有明确的确认提示和操作反馈', 'test_type': '可用性测试、UI测试'}, {'feature': '测试场景TS001：需要提供具体的测试场景', 'test_type': '场景测试、端到端测试'}], 'priorities': [{'level': 'P0', 'description': '权限控制验证：确保只有集团超管能执行退回操作，防止未授权访问'}, {'level': 'P0', 'description': '数据一致性验证：退回操作必须确保数据完整性和一致性，避免数据丢失或损坏'}, {'level': 'P1', 'description': '核心业务流程验证：包括状态转换、审批意见清空、流程重新开始等关键功能'}, {'level': 'P1', 'description': '退回条件验证：按钮显示条件、叶子节点入口展示等业务规则'}, {'level': 'P2', 'description': '性能测试：退回操作的响应时间性能验证'}, {'level': 'P2', 'description': '兼容性测试：跨浏览器和跨设备兼容性验证'}, {'level': 'P3', 'description': '用户体验测试：确认提示、错误消息和操作反馈的可用性'}], 'resource_estimation': {'time': '3-4周（包括测试计划、用例设计、执行和报告）', 'personnel': '2名功能测试工程师、1名性能测试工程师、1名安全测试专家', 'tools': ['Selenium WebDriver', 'JMeter', 'OWASP ZAP', 'Postman', 'BrowserStack'], 'additional_resources': ['测试环境服务器', '测试数据库实例', '多种浏览器和设备用于兼容性测试']}}}
2025-08-29 09:13:00 - src.agents.assistant - INFO - 开始测试用例编写
2025-08-29 09:13:00 - src.agents.test_case_writer - INFO - 将按12个功能点分配生成测试用例
2025-08-29 09:13:00 - src.agents.test_case_writer - INFO - 使用顺序方式处理功能点
2025-08-29 09:13:00 - src.agents.test_case_writer - INFO - 开始为功能点'仅集团用户可执行一键退回操作'生成测试用例，第1/12个
2025-08-29 09:13:00 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:14:12 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 9 个测试用例
2025-08-29 09:14:12 - src.agents.test_case_writer - INFO - 成功为功能点 '仅集团用户可执行一键退回操作' 生成 9 个测试用例
2025-08-29 09:14:12 - src.agents.test_case_writer - INFO - 为功能点'仅集团用户可执行一键退回操作'生成了 9 个测试用例
2025-08-29 09:14:12 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_1的执行结果到agent_results/test_case_writer_feature_1_result.json
2025-08-29 09:14:12 - src.agents.test_case_writer - INFO - 已保存功能点：'仅集团用户可执行一键退回操作'的测试用例生成结果
2025-08-29 09:14:12 - src.agents.test_case_writer - INFO - 开始为功能点'一键退回按钮在状态=审批通过且当前用户=超管时显示'生成测试用例，第2/12个
2025-08-29 09:14:12 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:15:03 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-29 09:15:03 - src.agents.test_case_writer - INFO - 成功为功能点 '一键退回按钮在状态=审批通过且当前用户=超管时显示' 生成 6 个测试用例
2025-08-29 09:15:03 - src.agents.test_case_writer - INFO - 为功能点'一键退回按钮在状态=审批通过且当前用户=超管时显示'生成了 6 个测试用例
2025-08-29 09:15:03 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_2的执行结果到agent_results/test_case_writer_feature_2_result.json
2025-08-29 09:15:03 - src.agents.test_case_writer - INFO - 已保存功能点：'一键退回按钮在状态=审批通过且当前用户=超管时显示'的测试用例生成结果
2025-08-29 09:15:03 - src.agents.test_case_writer - INFO - 开始为功能点'退回操作必须填写退回原因'生成测试用例，第3/12个
2025-08-29 09:15:03 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:15:56 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-29 09:15:56 - src.agents.test_case_writer - INFO - 成功为功能点 '退回操作必须填写退回原因' 生成 6 个测试用例
2025-08-29 09:15:56 - src.agents.test_case_writer - INFO - 为功能点'退回操作必须填写退回原因'生成了 6 个测试用例
2025-08-29 09:15:56 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_3的执行结果到agent_results/test_case_writer_feature_3_result.json
2025-08-29 09:15:56 - src.agents.test_case_writer - INFO - 已保存功能点：'退回操作必须填写退回原因'的测试用例生成结果
2025-08-29 09:15:56 - src.agents.test_case_writer - INFO - 开始为功能点'退回时清空历史审批意见，流程重新开始'生成测试用例，第4/12个
2025-08-29 09:15:56 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:16:46 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-29 09:16:46 - src.agents.test_case_writer - INFO - 成功为功能点 '退回时清空历史审批意见，流程重新开始' 生成 6 个测试用例
2025-08-29 09:16:46 - src.agents.test_case_writer - INFO - 为功能点'退回时清空历史审批意见，流程重新开始'生成了 6 个测试用例
2025-08-29 09:16:46 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_4的执行结果到agent_results/test_case_writer_feature_4_result.json
2025-08-29 09:16:46 - src.agents.test_case_writer - INFO - 已保存功能点：'退回时清空历史审批意见，流程重新开始'的测试用例生成结果
2025-08-29 09:16:46 - src.agents.test_case_writer - INFO - 开始为功能点'退回后状态变为上级驳回，填报人修改后重新提交'生成测试用例，第5/12个
2025-08-29 09:16:46 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:17:49 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 7 个测试用例
2025-08-29 09:17:49 - src.agents.test_case_writer - INFO - 成功为功能点 '退回后状态变为上级驳回，填报人修改后重新提交' 生成 7 个测试用例
2025-08-29 09:17:49 - src.agents.test_case_writer - INFO - 为功能点'退回后状态变为上级驳回，填报人修改后重新提交'生成了 7 个测试用例
2025-08-29 09:17:49 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_5的执行结果到agent_results/test_case_writer_feature_5_result.json
2025-08-29 09:17:49 - src.agents.test_case_writer - INFO - 已保存功能点：'退回后状态变为上级驳回，填报人修改后重新提交'的测试用例生成结果
2025-08-29 09:17:49 - src.agents.test_case_writer - INFO - 开始为功能点'退回操作只在叶子节点展示入口'生成测试用例，第6/12个
2025-08-29 09:17:49 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:18:33 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-29 09:18:33 - src.agents.test_case_writer - INFO - 成功为功能点 '退回操作只在叶子节点展示入口' 生成 6 个测试用例
2025-08-29 09:18:33 - src.agents.test_case_writer - INFO - 为功能点'退回操作只在叶子节点展示入口'生成了 6 个测试用例
2025-08-29 09:18:33 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_6的执行结果到agent_results/test_case_writer_feature_6_result.json
2025-08-29 09:18:33 - src.agents.test_case_writer - INFO - 已保存功能点：'退回操作只在叶子节点展示入口'的测试用例生成结果
2025-08-29 09:18:33 - src.agents.test_case_writer - INFO - 开始为功能点'触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过'生成测试用例，第7/12个
2025-08-29 09:18:33 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:19:31 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-29 09:19:31 - src.agents.test_case_writer - INFO - 成功为功能点 '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过' 生成 6 个测试用例
2025-08-29 09:19:31 - src.agents.test_case_writer - INFO - 为功能点'触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过'生成了 6 个测试用例
2025-08-29 09:19:31 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_7的执行结果到agent_results/test_case_writer_feature_7_result.json
2025-08-29 09:19:31 - src.agents.test_case_writer - INFO - 已保存功能点：'触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过'的测试用例生成结果
2025-08-29 09:19:31 - src.agents.test_case_writer - INFO - 开始为功能点'权限控制：确保只有集团超管才能执行退回操作'生成测试用例，第8/12个
2025-08-29 09:19:31 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:20:08 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 5 个测试用例
2025-08-29 09:20:08 - src.agents.test_case_writer - INFO - 成功为功能点 '权限控制：确保只有集团超管才能执行退回操作' 生成 5 个测试用例
2025-08-29 09:20:08 - src.agents.test_case_writer - INFO - 为功能点'权限控制：确保只有集团超管才能执行退回操作'生成了 5 个测试用例
2025-08-29 09:20:08 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_8的执行结果到agent_results/test_case_writer_feature_8_result.json
2025-08-29 09:20:08 - src.agents.test_case_writer - INFO - 已保存功能点：'权限控制：确保只有集团超管才能执行退回操作'的测试用例生成结果
2025-08-29 09:20:08 - src.agents.test_case_writer - INFO - 开始为功能点'数据一致性：退回操作需确保数据完整性和一致性'生成测试用例，第9/12个
2025-08-29 09:20:08 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:20:48 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 4 个测试用例
2025-08-29 09:20:48 - src.agents.test_case_writer - INFO - 成功为功能点 '数据一致性：退回操作需确保数据完整性和一致性' 生成 4 个测试用例
2025-08-29 09:20:48 - src.agents.test_case_writer - INFO - 为功能点'数据一致性：退回操作需确保数据完整性和一致性'生成了 4 个测试用例
2025-08-29 09:20:48 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_9的执行结果到agent_results/test_case_writer_feature_9_result.json
2025-08-29 09:20:48 - src.agents.test_case_writer - INFO - 已保存功能点：'数据一致性：退回操作需确保数据完整性和一致性'的测试用例生成结果
2025-08-29 09:20:48 - src.agents.test_case_writer - INFO - 开始为功能点'性能要求：退回操作响应时间应在合理范围内'生成测试用例，第10/12个
2025-08-29 09:20:48 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:21:31 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 4 个测试用例
2025-08-29 09:21:31 - src.agents.test_case_writer - INFO - 成功为功能点 '性能要求：退回操作响应时间应在合理范围内' 生成 4 个测试用例
2025-08-29 09:21:31 - src.agents.test_case_writer - INFO - 为功能点'性能要求：退回操作响应时间应在合理范围内'生成了 4 个测试用例
2025-08-29 09:21:31 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_10的执行结果到agent_results/test_case_writer_feature_10_result.json
2025-08-29 09:21:31 - src.agents.test_case_writer - INFO - 已保存功能点：'性能要求：退回操作响应时间应在合理范围内'的测试用例生成结果
2025-08-29 09:21:31 - src.agents.test_case_writer - INFO - 开始为功能点'用户体验：退回操作应有明确的确认提示和操作反馈'生成测试用例，第11/12个
2025-08-29 09:21:31 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:22:19 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-29 09:22:19 - src.agents.test_case_writer - INFO - 成功为功能点 '用户体验：退回操作应有明确的确认提示和操作反馈' 生成 6 个测试用例
2025-08-29 09:22:19 - src.agents.test_case_writer - INFO - 为功能点'用户体验：退回操作应有明确的确认提示和操作反馈'生成了 6 个测试用例
2025-08-29 09:22:19 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_11的执行结果到agent_results/test_case_writer_feature_11_result.json
2025-08-29 09:22:19 - src.agents.test_case_writer - INFO - 已保存功能点：'用户体验：退回操作应有明确的确认提示和操作反馈'的测试用例生成结果
2025-08-29 09:22:19 - src.agents.test_case_writer - INFO - 开始为功能点'测试场景TS001：需要提供具体的测试场景'生成测试用例，第12/12个
2025-08-29 09:22:19 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 成功为功能点 '测试场景TS001：需要提供具体的测试场景' 生成 6 个测试用例
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 为功能点'测试场景TS001：需要提供具体的测试场景'生成了 6 个测试用例
2025-08-29 09:23:21 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_12的执行结果到agent_results/test_case_writer_feature_12_result.json
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已保存功能点：'测试场景TS001：需要提供具体的测试场景'的测试用例生成结果
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 测试覆盖矩阵测试点总数: 12
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已覆盖测试点数量: 12
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 测试用例生成完成，共生成 71 个测试用例
2025-08-29 09:23:21 - src.utils.agent_io - INFO - 已保存test_case_writer的执行结果到agent_results/test_case_writer_result.json
2025-08-29 09:23:21 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_1的执行结果
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已加载功能点 1 的测试用例，共 9 个
2025-08-29 09:23:21 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_2的执行结果
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已加载功能点 2 的测试用例，共 6 个
2025-08-29 09:23:21 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_3的执行结果
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已加载功能点 3 的测试用例，共 6 个
2025-08-29 09:23:21 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_4的执行结果
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已加载功能点 4 的测试用例，共 6 个
2025-08-29 09:23:21 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_5的执行结果
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已加载功能点 5 的测试用例，共 7 个
2025-08-29 09:23:21 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_6的执行结果
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已加载功能点 6 的测试用例，共 6 个
2025-08-29 09:23:21 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_7的执行结果
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已加载功能点 7 的测试用例，共 6 个
2025-08-29 09:23:21 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_8的执行结果
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已加载功能点 8 的测试用例，共 5 个
2025-08-29 09:23:21 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_9的执行结果
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已加载功能点 9 的测试用例，共 4 个
2025-08-29 09:23:21 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_10的执行结果
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已加载功能点 10 的测试用例，共 4 个
2025-08-29 09:23:21 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_11的执行结果
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已加载功能点 11 的测试用例，共 6 个
2025-08-29 09:23:21 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_12的执行结果
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已加载功能点 12 的测试用例，共 6 个
2025-08-29 09:23:21 - src.utils.agent_io - INFO - 已保存test_case_writer的执行结果到agent_results/test_case_writer_result.json
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已合并所有功能点的测试用例，共 71 个
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_1_result.json
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_2_result.json
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_3_result.json
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_4_result.json
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_5_result.json
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_6_result.json
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_7_result.json
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_8_result.json
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_9_result.json
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_10_result.json
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_11_result.json
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_12_result.json
2025-08-29 09:23:21 - src.agents.test_case_writer - INFO - 所有临时测试用例文件已清理完毕
2025-08-29 09:23:21 - src.agents.assistant - INFO - 测试用例生成完成，结果: {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'test_cases': [{'id': 'TC-仅集团用户可执行一键退回操作-001', 'title': '仅集团用户可执行一键退回操作 - 验证集团超管用户执行一键退回操作的权限控制', 'preconditions': ['系统已部署并正常运行', '存在有效的集团超管用户账号', '存在待处理的审批流程节点'], 'steps': ['使用集团超管用户账号登录系统', '导航至待处理审批流程页面', '点击一键退回按钮', '确认退回操作'], 'expected_results': ['一键退回按钮对集团超管用户可见且可点击', '退回操作成功执行，流程状态正确转换', '审批意见数据被正确清空', '流程重新开始，相关数据保持一致'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-002', 'title': '仅集团用户可执行一键退回操作 - 验证非集团用户无法执行一键退回操作的权限控制', 'preconditions': ['系统已部署并正常运行', '存在有效的普通用户账号', '存在待处理的审批流程节点'], 'steps': ['使用普通用户账号登录系统', '导航至待处理审批流程页面', '尝试查找一键退回按钮'], 'expected_results': ['一键退回按钮对普通用户不可见或禁用', '无法通过直接URL访问退回功能页面', '系统返回权限不足的错误提示'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-003', 'title': '仅集团用户可执行一键退回操作 - 验证集团超管执行一键退回操作的数据一致性', 'preconditions': ['系统已部署并正常运行', '存在有效的集团超管用户账号', '存在包含完整审批数据的待处理流程'], 'steps': ['使用集团超管用户账号登录系统', '导航至待处理审批流程页面', '记录当前流程的所有相关数据', '执行一键退回操作', '验证退回后的数据状态'], 'expected_results': ['退回操作后所有相关数据保持完整性和一致性', '审批意见数据被正确清空', '流程状态正确重置为初始状态', '无数据丢失或损坏'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-004', 'title': '仅集团用户可执行一键退回操作 - 验证一键退回操作的核心业务流程正确性', 'preconditions': ['系统已部署并正常运行', '存在有效的集团超管用户账号', '存在处于不同状态的审批流程'], 'steps': ['使用集团超管用户账号登录系统', '对不同状态的流程执行一键退回操作', '验证状态转换和流程重启逻辑'], 'expected_results': ['退回操作触发正确的状态转换', '审批意见被正确清空', '流程重新开始，所有必要字段重置', '系统生成正确的操作日志记录'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-005', 'title': '仅集团用户可执行一键退回操作 - 验证一键退回按钮的显示条件和业务规则', 'preconditions': ['系统已部署并正常运行', '存在有效的集团超管用户账号', '存在不同条件下的审批流程节点'], 'steps': ['使用集团超管用户账号登录系统', '查看不同条件下的流程页面', '验证一键退回按钮的显示逻辑'], 'expected_results': ['按钮仅在符合条件的叶子节点显示', '按钮状态根据业务规则正确变化（启用/禁用）', '显示条件符合业务需求文档要求'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-006', 'title': '仅集团用户可执行一键退回操作 - 验证权限控制机制的安全漏洞检测', 'preconditions': ['系统已部署并正常运行', '安全测试工具OWASP ZAP已配置', '存在多种用户角色的测试账号'], 'steps': ['使用OWASP ZAP对一键退回功能进行安全扫描', '尝试使用不同用户角色访问退回功能', '验证API接口的权限控制'], 'expected_results': ['未发现权限绕过漏洞', '后端API接口有严格的权限验证', '非授权用户无法通过任何方式执行退回操作', '安全扫描结果无高危漏洞'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-007', 'title': '仅集团用户可执行一键退回操作 - 验证大量数据退回时的性能表现', 'preconditions': ['性能测试环境已搭建', 'JMeter测试脚本已准备', '存在包含大量数据的测试流程'], 'steps': ['使用JMeter模拟集团超管用户登录', '执行包含大量数据的一键退回操作', '监控系统响应时间和资源消耗'], 'expected_results': ['退回操作响应时间在可接受范围内（如<3秒）', '系统资源消耗在合理范围内', '无内存泄漏或性能下降现象', '并发操作时系统保持稳定'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-008', 'title': '仅集团用户可执行一键退回操作 - 验证跨浏览器兼容性的一键退回功能', 'preconditions': ['BrowserStack测试环境已配置', '多种浏览器版本已准备', '存在有效的集团超管测试账号'], 'steps': ['在不同浏览器中登录集团超管账号', '执行一键退回操作', '验证功能在各浏览器中的表现'], 'expected_results': ['一键退回功能在所有支持的浏览器中正常工作', '界面显示和操作流程一致', '无浏览器特定的功能缺陷', '退回操作结果在所有浏览器中一致'], 'priority': 'P2', 'category': '兼容性测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-009', 'title': '仅集团用户可执行一键退回操作 - 验证一键退回操作的用户体验和操作反馈', 'preconditions': ['系统已部署并正常运行', '存在有效的集团超管用户账号', '存在待处理的审批流程'], 'steps': ['使用集团超管用户账号登录系统', '执行一键退回操作', '观察操作过程中的提示和反馈', '验证错误处理机制'], 'expected_results': ['操作前有明确的确认提示', '操作成功后有清晰的完成反馈', '错误情况下有友好的错误消息', '操作流程符合用户直觉，易于使用'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-001', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证集团超管在审批通过状态下显示一键退回按钮', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批通过'的审批单", '当前页面显示该审批单详情'], 'steps': ['导航至审批单详情页面', '检查页面UI元素', '验证一键退回按钮是否可见'], 'expected_results': ['页面正确加载审批单详情', '一键退回按钮在页面指定位置显示', '按钮状态为可点击'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-002', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证非超管用户在审批通过状态下不显示一键退回按钮', 'preconditions': ['系统已登录普通用户账号', "存在状态为'审批通过'的审批单", '当前页面显示该审批单详情'], 'steps': ['导航至审批单详情页面', '检查页面UI元素', '验证一键退回按钮是否隐藏'], 'expected_results': ['页面正确加载审批单详情', '一键退回按钮在页面中不可见', '无权限相关错误提示显示'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-003', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证审批未通过状态下超管不显示一键退回按钮', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批未通过'的审批单", '当前页面显示该审批单详情'], 'steps': ['导航至审批单详情页面', '检查页面UI元素', '验证一键退回按钮是否隐藏'], 'expected_results': ['页面正确加载审批单详情', '一键退回按钮在页面中不可见', '按钮状态为隐藏或禁用'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-004', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证一键退回按钮在不同浏览器下的显示兼容性', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批通过'的审批单", '使用不同浏览器访问系统'], 'steps': ['在Chrome浏览器中打开审批单详情页面', '验证一键退回按钮显示正常', '在Firefox浏览器中重复上述步骤', '在Safari浏览器中重复上述步骤', '在Edge浏览器中重复上述步骤'], 'expected_results': ['所有浏览器中页面正确加载', '所有浏览器中一键退回按钮正常显示', '按钮位置和样式保持一致', '无浏览器兼容性错误'], 'priority': 'P2', 'category': '兼容性测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-005', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证大量数据时一键退回按钮显示性能', 'preconditions': ['系统已登录集团超管账号', '存在包含大量附件和审批历史的审批通过状态审批单', '性能监控工具已就绪'], 'steps': ['导航至包含大量数据的审批单详情页面', '记录页面加载时间', '验证一键退回按钮显示时间', '检查页面响应性能指标'], 'expected_results': ['页面加载时间在3秒以内', '一键退回按钮在页面加载后立即显示', '无明显的性能延迟或卡顿', 'CPU和内存使用率在正常范围内'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-006', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证一键退回按钮的UI可用性和用户体验', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批通过'的审批单", '当前页面显示该审批单详情'], 'steps': ['观察一键退回按钮的位置布局', '检查按钮的视觉设计（颜色、大小、图标）', '验证按钮的悬停效果和点击反馈', '确认按钮文本清晰易懂'], 'expected_results': ['按钮位置符合用户操作习惯', '按钮设计醒目且符合UI规范', '悬停和点击有明确的视觉反馈', '按钮文本准确描述功能', '整体用户体验良好'], 'priority': 'P3', 'category': 'UI测试'}, {'id': 'TC-退回操作必须填写退回原因-001', 'title': '退回操作必须填写退回原因 - 验证集团超管执行退回操作时必须填写退回原因的功能', 'preconditions': ['用户已登录系统且具有集团超管权限', '存在待处理的审批流程节点', '用户已进入退回操作界面'], 'steps': ['点击退回按钮', '在弹出的退回原因输入框中不填写任何内容', '点击确认按钮'], 'expected_results': ["系统提示'退回原因不能为空'的错误信息", '退回操作未执行，审批流程状态保持不变', '用户停留在当前页面，退回原因输入框保持高亮或错误状态'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-退回操作必须填写退回原因-002', 'title': '退回操作必须填写退回原因 - 验证非集团超管用户无法执行退回操作的权限控制', 'preconditions': ['用户已登录系统且不具有集团超管权限', '存在待处理的审批流程节点', '用户已进入审批详情页面'], 'steps': ['检查页面中是否显示退回按钮', '尝试通过URL直接访问退回操作接口', '观察系统响应'], 'expected_results': ['页面中不显示退回按钮或按钮为禁用状态', '直接接口访问返回权限不足的错误信息（如403状态码）', '系统记录未授权访问尝试的安全日志'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-退回操作必须填写退回原因-003', 'title': '退回操作必须填写退回原因 - 验证退回操作填写原因后的数据一致性', 'preconditions': ['用户已登录系统且具有集团超管权限', '存在待处理的审批流程节点', '审批流程包含多个审批意见和历史数据'], 'steps': ['点击退回按钮', '在退回原因输入框中填写有效的退回原因', '点击确认按钮执行退回操作', '检查审批流程状态和数据变化'], 'expected_results': ['退回操作成功执行，流程状态正确转换为退回状态', '退回原因被正确记录在审批历史中', '之前的审批意见被清空，流程重新开始', '所有相关数据保持完整性和一致性，无数据丢失'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-退回操作必须填写退回原因-004', 'title': '退回操作必须填写退回原因 - 验证大量数据退回时的性能表现', 'preconditions': ['系统存在包含大量审批数据（1000+条记录）的流程', '性能测试环境已搭建完成', 'JMeter测试脚本已配置完成'], 'steps': ['使用JMeter模拟10个并发用户执行退回操作', '每个用户填写不同的退回原因', '记录系统响应时间和资源使用情况', '分析性能测试结果'], 'expected_results': ['平均响应时间在3秒以内', '95%的请求响应时间在5秒以内', '系统CPU和内存使用率在合理范围内', '无超时错误或系统崩溃现象'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-退回操作必须填写退回原因-005', 'title': '退回操作必须填写退回原因 - 验证跨浏览器兼容性下的退回原因填写功能', 'preconditions': ['准备Chrome、Firefox、Safari、Edge等主流浏览器', 'BrowserStack测试环境已配置', '测试账号具有集团超管权限'], 'steps': ['在不同浏览器中登录系统', '执行退回操作并填写退回原因', '验证界面显示和功能正常性', '检查各浏览器下的用户体验一致性'], 'expected_results': ['在所有支持的浏览器中退回原因输入框正常显示', '退回操作功能在所有浏览器中正常工作', '错误提示和成功提示在所有浏览器中一致显示', '界面布局和样式在不同浏览器中保持一致'], 'priority': 'P2', 'category': '兼容性测试'}, {'id': 'TC-退回操作必须填写退回原因-006', 'title': '退回操作必须填写退回原因 - 验证退回操作的用户体验和错误处理', 'preconditions': ['用户已登录系统且具有集团超管权限', '存在待处理的审批流程节点'], 'steps': ['尝试提交空的退回原因', '观察错误提示的清晰度和友好性', '填写超长退回原因（超过限制字符数）', '观察系统如何处理超长输入', '成功填写有效退回原因并提交', '观察成功反馈和后续操作指引'], 'expected_results': ['空原因提交时显示明确、友好的错误提示', '超长输入时系统自动截断或提示字符限制', '成功操作后显示清晰的成功提示和下一步指引', '所有用户交互提供及时和明确的反馈'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-退回时清空历史审批意见，流程重新开始-001', 'title': '退回时清空历史审批意见，流程重新开始 - 验证集团超管权限执行退回操作的功能正确性', 'preconditions': ['系统已登录集团超管账号', '存在一个正在审批中的流程实例', '该流程已有历史审批意见记录'], 'steps': ['进入流程审批详情页面', "点击'退回'按钮", '确认退回操作提示', '查看流程状态和审批意见'], 'expected_results': ['退回操作成功执行', '历史审批意见被清空', '流程状态重置为初始状态', '流程重新开始审批'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-退回时清空历史审批意见，流程重新开始-002', 'title': '退回时清空历史审批意见，流程重新开始 - 验证非集团超管用户无法执行退回操作', 'preconditions': ['系统已登录普通用户账号', '存在一个正在审批中的流程实例'], 'steps': ['进入流程审批详情页面', "检查页面是否显示'退回'按钮", '尝试通过URL直接访问退回接口'], 'expected_results': ["页面不显示'退回'按钮", '直接接口访问返回权限错误', '操作被拒绝，流程状态保持不变'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-退回时清空历史审批意见，流程重新开始-003', 'title': '退回时清空历史审批意见，流程重新开始 - 验证退回操作后的数据完整性', 'preconditions': ['系统已登录集团超管账号', '流程包含多条历史审批意见和附件', '数据库中有完整的流程相关数据记录'], 'steps': ['执行退回操作', '检查数据库中的审批意见表', '验证流程状态字段更新', '检查相关业务数据完整性'], 'expected_results': ['历史审批意见数据被正确清空', '流程状态字段更新为初始状态', '业务核心数据保持完整无丢失', '数据一致性检查通过'], 'priority': 'P0', 'category': '数据完整性测试'}, {'id': 'TC-退回时清空历史审批意见，流程重新开始-004', 'title': '退回时清空历史审批意见，流程重新开始 - 验证大量数据退回时的性能表现', 'preconditions': ['系统已登录集团超管账号', '流程包含大量历史审批意见（1000条以上）', '性能监控工具已就绪'], 'steps': ['执行退回操作', '记录操作响应时间', '监控系统资源使用情况', '检查数据库处理时间'], 'expected_results': ['退回操作响应时间在3秒以内', '系统资源使用在正常范围内', '数据库处理效率符合预期', '无内存泄漏或性能瓶颈'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-退回时清空历史审批意见，流程重新开始-005', 'title': '退回时清空历史审批意见，流程重新开始 - 验证跨浏览器兼容性下的退回功能', 'preconditions': ['在不同浏览器（Chrome、Firefox、Safari、Edge）中登录集团超管账号', '存在可退回的流程实例'], 'steps': ['在各浏览器中进入流程详情页面', '执行退回操作', '验证操作结果和页面显示'], 'expected_results': ['所有浏览器中退回功能正常工作', '页面布局和样式保持一致', '操作反馈和提示信息正确显示', '功能逻辑在各浏览器中一致'], 'priority': 'P2', 'category': '兼容性测试'}, {'id': 'TC-退回时清空历史审批意见，流程重新开始-006', 'title': '退回时清空历史审批意见，流程重新开始 - 验证退回操作的用户体验和确认机制', 'preconditions': ['系统已登录集团超管账号', '存在可退回的流程实例'], 'steps': ["点击'退回'按钮", '观察确认提示对话框', '取消操作验证流程状态', '确认操作验证最终结果'], 'expected_results': ['操作前有明确的确认提示', '取消操作时流程状态保持不变', '成功操作后有明确的结果反馈', '错误情况有友好的错误提示信息'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-001', 'title': '验证集团超管权限控制 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录不同角色的用户账号（集团超管、普通用户、填报人）', "存在待审批的填报数据，状态为'审批中'"], 'steps': ['使用非集团超管账号登录系统', '尝试执行退回操作', '使用集团超管账号登录系统', '执行退回操作'], 'expected_results': ['非集团超管用户无法看到退回按钮或操作被拒绝', '集团超管能够成功执行退回操作', "数据状态正确变更为'上级驳回'"], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-002', 'title': '验证数据一致性 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录集团超管账号', '存在待审批的填报数据，包含完整的业务数据'], 'steps': ['执行退回操作', '检查退回后的数据完整性', '登录填报人账号查看数据', '填报人修改数据后重新提交'], 'expected_results': ['退回操作后所有业务数据保持完整，无数据丢失', '审批意见和相关流程数据被正确清空', '填报人能够查看完整数据并进行修改', '重新提交后流程重新开始，状态正确更新'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-003', 'title': '验证核心业务流程 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录集团超管账号', "存在待审批的填报数据，状态为'审批中'"], 'steps': ['执行退回操作', '验证数据状态变化', '登录填报人账号查看驳回数据', '填报人修改数据内容', '填报人重新提交数据', '验证流程重新开始状态'], 'expected_results': ["数据状态正确变更为'上级驳回'", '填报人收到驳回通知并能查看数据', '填报人能够成功修改数据并重新提交', "重新提交后状态变更为'待审批'，流程重新开始"], 'priority': 'P1', 'category': '流程测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-004', 'title': '验证退回条件业务规则 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录不同权限用户账号', '存在不同状态的填报数据（审批中、已通过、已驳回）'], 'steps': ['在不同数据状态下检查退回按钮显示条件', '验证叶子节点入口展示规则', '测试非审批中状态的退回操作可行性'], 'expected_results': ['退回按钮仅在审批中状态且用户有权限时显示', '叶子节点入口根据业务规则正确展示', '非审批中状态的数据无法执行退回操作'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-005', 'title': '验证性能表现 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['准备不同数据量的测试环境（小数据量、大数据量）', '性能监控工具已就绪'], 'steps': ['执行小数据量退回操作，记录响应时间', '执行大数据量退回操作，记录响应时间', '模拟多用户并发执行退回操作'], 'expected_results': ['小数据量退回操作响应时间在2秒以内', '大数据量退回操作响应时间在合理范围内（如5秒以内）', '并发操作下系统性能稳定，无崩溃或严重延迟'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-006', 'title': '验证跨浏览器兼容性 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['准备不同浏览器测试环境（Chrome、Firefox、Safari、Edge）'], 'steps': ['在不同浏览器中登录系统', '执行退回操作流程', '验证各浏览器下的功能正常性'], 'expected_results': ['所有主流浏览器中退回功能正常工作', '界面显示正常，无布局错乱', '操作流程在各浏览器中一致'], 'priority': 'P2', 'category': '兼容性测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-007', 'title': '验证用户体验 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录相关用户账号', '存在待审批的填报数据'], 'steps': ['执行退回操作，观察确认提示', '验证错误操作时的错误消息', '检查操作成功后的反馈信息', '测试填报人端的通知和引导'], 'expected_results': ['退回操作前有明确的确认提示', '错误操作时有清晰的错误消息指导', '操作成功后有明确的成功反馈', '填报人收到明确的驳回通知和修改指引'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-退回操作只在叶子节点展示入口-001', 'title': '退回操作只在叶子节点展示入口 - 验证只有集团超管在叶子节点能看到退回操作入口', 'preconditions': ['系统已登录', '存在包含叶子节点的审批流程', '当前用户为集团超管角色'], 'steps': ['导航到审批流程页面', '定位到叶子节点', '检查叶子节点操作菜单'], 'expected_results': ['叶子节点显示退回操作入口按钮', '非叶子节点不显示退回操作入口'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-退回操作只在叶子节点展示入口-002', 'title': '退回操作只在叶子节点展示入口 - 验证非集团超管用户在叶子节点看不到退回操作入口', 'preconditions': ['系统已登录', '存在包含叶子节点的审批流程', '当前用户为非集团超管角色（如普通用户）'], 'steps': ['导航到审批流程页面', '定位到叶子节点', '检查叶子节点操作菜单'], 'expected_results': ['叶子节点不显示退回操作入口按钮', '所有节点均无退回操作入口显示'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-退回操作只在叶子节点展示入口-003', 'title': '退回操作只在叶子节点展示入口 - 验证叶子节点退回操作入口的UI显示正确性', 'preconditions': ['系统已登录', '当前用户为集团超管角色', '存在包含叶子节点的审批流程'], 'steps': ['导航到审批流程页面', '检查叶子节点退回按钮的样式和位置', '验证按钮文本和图标显示'], 'expected_results': ['退回按钮样式符合UI设计规范', '按钮位置正确且易于识别', '按钮文本和图标清晰可见'], 'priority': 'P1', 'category': 'UI测试'}, {'id': 'TC-退回操作只在叶子节点展示入口-004', 'title': '退回操作只在叶子节点展示入口 - 验证退回操作入口在不同浏览器中的兼容性', 'preconditions': ['系统已登录', '当前用户为集团超管角色', '存在包含叶子节点的审批流程'], 'steps': ['在Chrome浏览器中访问审批流程页面', '在Firefox浏览器中访问审批流程页面', '在Safari浏览器中访问审批流程页面', '在Edge浏览器中访问审批流程页面'], 'expected_results': ['所有浏览器中叶子节点正确显示退回操作入口', '按钮样式和功能在所有浏览器中保持一致', '无界面错位或显示异常'], 'priority': 'P2', 'category': '兼容性测试'}, {'id': 'TC-退回操作只在叶子节点展示入口-005', 'title': '退回操作只在叶子节点展示入口 - 验证大量数据时叶子节点退回入口的显示性能', 'preconditions': ['系统已登录', '当前用户为集团超管角色', '存在包含大量叶子节点的审批流程（1000+节点）'], 'steps': ['加载包含大量节点的审批流程页面', '记录页面加载完成时间', '滚动到页面底部查看叶子节点'], 'expected_results': ['页面加载时间在3秒以内', '所有叶子节点正确显示退回操作入口', '页面滚动和操作流畅无卡顿'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-退回操作只在叶子节点展示入口-006', 'title': '退回操作只在叶子节点展示入口 - 验证移动设备上叶子节点退回入口的可用性', 'preconditions': ['移动设备已安装系统应用', '当前用户为集团超管角色', '存在包含叶子节点的审批流程'], 'steps': ['在移动设备上登录系统', '访问审批流程页面', '查看叶子节点操作菜单', '尝试点击退回操作入口'], 'expected_results': ['移动设备上叶子节点正确显示退回操作入口', '按钮大小适合触屏操作', '点击操作响应正常'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过-001', 'title': '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过 - 验证集团超管权限下触发条件为审批通过状态的一键退回功能', 'preconditions': ['用户以集团超管身份登录系统', "存在一个年份清单，其所有排放源的任务状态均为'审批通过'", '系统已加载相关年份清单数据'], 'steps': ['导航至年份清单管理页面', "选择状态为'审批通过'的年份清单", '点击一键退回按钮', '确认退回操作'], 'expected_results': ['系统允许集团超管执行退回操作', "清单状态从'审批通过'转换为'待处理'", '所有排放源任务状态重置为初始状态', '审批意见和相关数据被正确清空', '流程重新开始，可重新提交审批'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过-002', 'title': '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过 - 验证非集团超管用户无法执行审批通过状态的一键退回操作', 'preconditions': ['用户以普通用户身份登录系统', "存在一个年份清单，其所有排放源的任务状态均为'审批通过'", '系统已加载相关年份清单数据'], 'steps': ['导航至年份清单管理页面', "选择状态为'审批通过'的年份清单", '尝试执行一键退回操作'], 'expected_results': ['系统拒绝执行退回操作', '显示权限不足的错误提示', "清单状态保持'审批通过'不变", '所有排放源任务状态保持不变', '数据完整性未受影响'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过-003', 'title': '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过 - 验证审批通过状态下大量数据退回的性能表现', 'preconditions': ['用户以集团超管身份登录系统', "存在包含大量排放源（1000+）的年份清单，状态为'审批通过'", '系统已加载大数据量的年份清单'], 'steps': ['导航至年份清单管理页面', '选择包含大量排放源的审批通过清单', '执行一键退回操作', '记录操作响应时间'], 'expected_results': ['退回操作在30秒内完成', '系统响应时间符合性能要求（<5秒）', '所有数据正确处理，无数据丢失', '系统资源使用在合理范围内', '操作完成后清单状态正确转换'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过-004', 'title': '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过 - 验证跨浏览器环境下审批通过状态退回功能的兼容性', 'preconditions': ['在不同浏览器（Chrome, Firefox, Safari, Edge）中打开系统', '用户以集团超管身份登录', "存在状态为'审批通过'的年份清单"], 'steps': ['在各浏览器中导航至年份清单管理页面', '选择审批通过的清单', '执行一键退回操作', '验证操作结果和界面显示'], 'expected_results': ['在所有支持的浏览器中功能正常运作', '界面元素正确显示，无布局错乱', '退回操作执行成功', '状态转换和数据清空功能正常', '错误提示和确认对话框显示正常'], 'priority': 'P2', 'category': '兼容性测试'}, {'id': 'TC-触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过-005', 'title': '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过 - 验证审批通过状态退回操作的用户体验和确认流程', 'preconditions': ['用户以集团超管身份登录系统', "存在状态为'审批通过'的年份清单", '系统界面正常显示'], 'steps': ['导航至年份清单管理页面', '选择审批通过的清单', '点击一键退回按钮', '观察确认提示对话框', '确认执行退回操作', '观察操作完成后的反馈信息'], 'expected_results': ['退回按钮清晰可见且可用', '操作前显示明确的确认提示', '操作过程中显示进度指示', '操作完成后显示成功反馈信息', '错误情况下显示友好的错误提示', '用户能够清晰了解操作结果和后续步骤'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过-006', 'title': '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过 - 验证部分审批通过状态下退回按钮的显示条件', 'preconditions': ['用户以集团超管身份登录系统', "存在年份清单，部分排放源状态为'审批通过'，部分为其他状态"], 'steps': ['导航至年份清单管理页面', '查看非全部审批通过的清单', '检查一键退回按钮的显示状态'], 'expected_results': ["当清单中并非所有排放源都为'审批通过'状态时", '一键退回按钮应禁用或隐藏', '系统应提供明确的状态提示', '不允许执行退回操作', '数据完整性保持不受影响'], 'priority': 'P1', 'category': '条件测试'}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-001', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证集团超管执行退回操作的权限控制', 'preconditions': ['系统已登录集团超管账号', '存在可退回的业务流程实例', '退回功能按钮可见且可操作'], 'steps': ['登录系统使用集团超管账号', '导航到需要退回的业务流程页面', '点击退回操作按钮', '确认执行退回操作'], 'expected_results': ['退回操作成功执行', '业务流程状态正确转换为退回状态', '系统显示操作成功的提示信息'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-002', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证普通用户无法执行退回操作的权限控制', 'preconditions': ['系统已登录普通用户账号', '存在可退回的业务流程实例'], 'steps': ['登录系统使用普通用户账号', '导航到需要退回的业务流程页面', '检查退回操作按钮是否显示'], 'expected_results': ['退回操作按钮不可见或禁用状态', '无法通过直接URL访问退回功能页面', '系统返回权限不足的错误提示'], 'priority': 'P0', 'category': '权限测试'}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-003', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证管理员但非集团超管无法执行退回操作', 'preconditions': ['系统已登录普通管理员账号（非集团超管）', '存在可退回的业务流程实例'], 'steps': ['登录系统使用普通管理员账号', '导航到需要退回的业务流程页面', '尝试执行退回操作'], 'expected_results': ['退回操作被系统拒绝', '显示权限不足的错误消息', '业务流程状态保持不变'], 'priority': 'P0', 'category': '权限测试'}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-004', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证未登录用户无法执行退回操作的安全控制', 'preconditions': ['用户处于未登录状态', '已知退回操作的API端点或页面URL'], 'steps': ['直接访问退回操作API端点或页面URL', '尝试执行退回操作请求'], 'expected_results': ['系统重定向到登录页面', '退回操作请求被拒绝并返回401未授权状态码', '业务流程状态未发生任何变化'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-005', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证会话过期后无法执行退回操作的安全机制', 'preconditions': ['集团超管已登录系统', '会话已过期或token失效', '存在可退回的业务流程实例'], 'steps': ['等待会话超时或手动使token失效', '尝试执行退回操作', '观察系统响应'], 'expected_results': ['系统提示会话已过期需要重新登录', '退回操作被拒绝执行', '业务流程状态保持原状'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-数据一致性：退回操作需确保数据完整性和一致性-001', 'title': '数据一致性：退回操作需确保数据完整性和一致性 - 数据一致性验证-退回操作后数据完整性检查', 'preconditions': ['系统已登录集团超管账号', '存在已审批通过的流程实例', '数据库备份已完成'], 'steps': ['执行退回操作前，记录当前流程所有相关数据表的状态和数据量', '执行一键退回操作', '验证退回操作完成后，检查数据库中各相关表的数据完整性', '对比退回前后的数据变化，确认无数据丢失'], 'expected_results': ['退回操作成功执行', '所有相关业务数据保持完整，无数据丢失', '数据表之间的关联关系保持正确', '历史记录被正确保存，无数据损坏'], 'priority': 'P0', 'category': '数据完整性测试'}, {'id': 'TC-数据一致性：退回操作需确保数据完整性和一致性-002', 'title': '数据一致性：退回操作需确保数据完整性和一致性 - 数据库事务一致性验证-退回操作失败时的回滚机制', 'preconditions': ['系统已登录集团超管账号', '存在可退回的流程实例', '数据库监控工具已启动'], 'steps': ['在执行退回操作过程中人为制造数据库异常（如断开数据库连接）', '观察系统对异常的处理行为', '检查数据库状态是否回滚到操作前的状态', '验证事务的一致性保证机制'], 'expected_results': ['系统能够检测到数据库异常并中止操作', '所有已执行的数据操作被正确回滚', '数据库保持事务一致性，无部分提交的数据', '用户收到适当的错误提示信息'], 'priority': 'P0', 'category': '数据完整性测试'}, {'id': 'TC-数据一致性：退回操作需确保数据完整性和一致性-003', 'title': '数据一致性：退回操作需确保数据完整性和一致性 - 数据库约束验证-退回操作后的外键关系完整性', 'preconditions': ['系统已登录集团超管账号', '存在包含多个关联表的复杂流程实例', '数据库外键约束已启用'], 'steps': ['执行退回操作前，验证所有外键约束的有效性', '执行一键退回操作', '检查所有相关表的外键关系是否保持完整', '验证无外键约束冲突或孤儿记录产生'], 'expected_results': ['退回操作完成后，所有外键约束保持有效', '无外键约束冲突错误', '关联表之间的数据关系保持正确', '无孤儿记录或无效引用产生'], 'priority': 'P0', 'category': '数据库测试'}, {'id': 'TC-数据一致性：退回操作需确保数据完整性和一致性-004', 'title': '数据一致性：退回操作需确保数据完整性和一致性 - 数据库日志验证-退回操作的审计追踪完整性', 'preconditions': ['系统已登录集团超管账号', '数据库审计功能已启用', '存在可退回的流程实例'], 'steps': ['执行退回操作', '检查数据库操作日志，记录所有执行的SQL语句', '验证日志中记录了完整的退回操作事务', '确认审计日志包含操作时间、操作人员、受影响数据等完整信息'], 'expected_results': ['数据库审计日志完整记录了退回操作的所有数据变更', '日志包含事务开始和提交的完整记录', '审计信息包含必要的操作元数据（操作者、时间戳等）', '日志格式规范，便于后续审计和分析'], 'priority': 'P1', 'category': '数据库测试'}, {'id': 'TC-性能要求：退回操作响应时间应在合理范围内-001', 'title': '性能要求：退回操作响应时间应在合理范围内 - 性能测试：验证小数据量退回操作的响应时间在合理范围内', 'preconditions': ['系统已部署在测试环境', '集团超管账号已登录系统', '存在包含10条以下待处理数据的流程实例'], 'steps': ['使用JMeter配置单用户并发，执行退回操作', '记录从点击退回到操作完成的响应时间', '重复执行5次操作，计算平均响应时间'], 'expected_results': ['退回操作平均响应时间小于2秒', '所有单次操作响应时间均在3秒以内', '操作完成后系统返回成功状态'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-性能要求：退回操作响应时间应在合理范围内-002', 'title': '性能要求：退回操作响应时间应在合理范围内 - 负载测试：验证大数据量退回操作的响应时间性能', 'preconditions': ['系统已部署在性能测试环境', '集团超管账号已登录系统', '存在包含1000条以上待处理数据的流程实例'], 'steps': ['使用JMeter模拟10个并发用户执行退回操作', '监控系统资源使用情况（CPU、内存、数据库连接）', '记录高并发下的平均响应时间和最大响应时间', '检查操作过程中是否出现超时或错误'], 'expected_results': ['平均响应时间在可接受范围内（根据业务需求定义，如小于10秒）', '最大响应时间不超过设定阈值（如30秒）', '系统资源使用率正常，无内存泄漏或连接池耗尽', '所有并发操作均成功完成，无数据不一致'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-性能要求：退回操作响应时间应在合理范围内-003', 'title': '性能要求：退回操作响应时间应在合理范围内 - 性能测试：验证退回操作在不同网络条件下的响应时间稳定性', 'preconditions': ['系统已部署在测试环境', '集团超管账号已登录系统', '网络模拟工具已配置完成'], 'steps': ['模拟3G网络条件（延迟100ms，带宽1Mbps）', '执行退回操作并记录响应时间', '模拟4G网络条件（延迟50ms，带宽10Mbps）', '再次执行退回操作并记录响应时间', '对比不同网络条件下的性能差异'], 'expected_results': ['在不同网络条件下，退回操作均能正常完成', '响应时间差异在合理范围内（网络延迟差异的2倍以内）', '操作成功率100%，无因网络条件导致的失败'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-性能要求：退回操作响应时间应在合理范围内-004', 'title': '性能要求：退回操作响应时间应在合理范围内 - 负载测试：验证长时间运行退回操作的性能稳定性', 'preconditions': ['系统已部署在性能测试环境', '集团超管账号已登录系统', '存在大量待处理的流程实例'], 'steps': ['使用JMeter持续执行退回操作1小时', '监控系统性能指标随时间的变化趋势', '记录响应时间的标准差和波动范围', '检查是否有性能退化或内存泄漏迹象'], 'expected_results': ['响应时间在整个测试期间保持稳定', '响应时间波动范围小于平均值的20%', '系统资源使用率保持平稳，无持续增长趋势', '无内存泄漏或连接泄漏问题'], 'priority': 'P2', 'category': '负载测试'}, {'id': 'TC-用户体验：退回操作应有明确的确认提示和操作反馈-001', 'title': '用户体验：退回操作应有明确的确认提示和操作反馈 - 用户体验：退回操作确认提示对话框显示验证', 'preconditions': ['用户已登录系统', '用户具有集团超管权限', '存在可退回的审批流程'], 'steps': ['导航至审批流程页面', '选择需要退回的流程记录', '点击退回操作按钮'], 'expected_results': ['系统显示明确的确认提示对话框', '对话框包含清晰的退回操作说明和警告信息', '提供确认和取消两个操作按钮'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-用户体验：退回操作应有明确的确认提示和操作反馈-002', 'title': '用户体验：退回操作应有明确的确认提示和操作反馈 - 用户体验：退回操作成功反馈验证', 'preconditions': ['用户已登录系统', '用户具有集团超管权限', '存在可退回的审批流程', '确认提示对话框已显示'], 'steps': ['在确认提示对话框中选择确认退回', '等待操作完成'], 'expected_results': ['系统显示操作成功提示信息', '提示信息明确指示退回操作已完成', '页面状态相应更新，显示流程已退回状态', '提供明确的视觉反馈（如成功图标或颜色变化）'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-用户体验：退回操作应有明确的确认提示和操作反馈-003', 'title': '用户体验：退回操作应有明确的确认提示和操作反馈 - 用户体验：退回操作取消功能验证', 'preconditions': ['用户已登录系统', '用户具有集团超管权限', '存在可退回的审批流程', '确认提示对话框已显示'], 'steps': ['在确认提示对话框中选择取消操作', '观察系统响应'], 'expected_results': ['确认对话框正常关闭', '退回操作未执行，流程状态保持不变', '系统无异常错误提示', '用户可以继续其他操作'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-用户体验：退回操作应有明确的确认提示和操作反馈-004', 'title': '用户体验：退回操作应有明确的确认提示和操作反馈 - 用户体验：退回操作错误提示验证', 'preconditions': ['用户已登录系统', '用户具有集团超管权限', '尝试退回一个不可退回的流程状态'], 'steps': ['导航至审批流程页面', '选择状态不可退回的流程记录', '尝试执行退回操作'], 'expected_results': ['系统显示明确的错误提示信息', '错误信息清晰说明不可退回的原因', '提供友好的用户指导建议', '界面保持稳定，无系统崩溃'], 'priority': 'P3', 'category': '可用性测试'}, {'id': 'TC-用户体验：退回操作应有明确的确认提示和操作反馈-005', 'title': '用户体验：退回操作应有明确的确认提示和操作反馈 - 用户体验：退回操作UI界面一致性验证', 'preconditions': ['用户已登录系统', '用户具有集团超管权限'], 'steps': ['在不同浏览器中访问系统', '执行退回操作流程', '观察确认提示和操作反馈的UI表现'], 'expected_results': ['确认提示对话框在不同浏览器中显示一致', '操作反馈信息格式和样式保持一致', '按钮和交互元素布局统一', '颜色、字体和图标显示正常'], 'priority': 'P2', 'category': 'UI测试'}, {'id': 'TC-用户体验：退回操作应有明确的确认提示和操作反馈-006', 'title': '用户体验：退回操作应有明确的确认提示和操作反馈 - 用户体验：退回操作响应式设计验证', 'preconditions': ['用户已登录系统', '用户具有集团超管权限'], 'steps': ['在不同设备尺寸上访问系统（桌面、平板、手机）', '执行退回操作流程', '观察界面布局和交互体验'], 'expected_results': ['确认提示对话框在不同设备上自适应显示', '操作按钮大小适合触摸操作', '反馈信息清晰可读，无布局错乱', '移动端操作流程顺畅无卡顿'], 'priority': 'P2', 'category': 'UI测试'}, {'id': 'TC-测试场景TS001-001', 'title': '测试场景TS001：需要提供具体的测试场景 - 测试场景TS001 - 集团超管权限控制验证', 'preconditions': ['系统已部署并正常运行', '存在不同权限级别的测试用户账户（集团超管、普通用户、管理员等）', '测试环境已配置好权限控制系统'], 'steps': ['使用非集团超管账户登录系统', '导航到一键退回功能页面', '尝试执行退回操作', '使用集团超管账户登录系统', '再次尝试执行退回操作'], 'expected_results': ['非集团超管用户无法看到或访问退回功能按钮', '非授权用户尝试执行退回操作时系统返回权限错误提示', '集团超管用户能够正常看到并访问退回功能', '集团超管用户能够成功执行退回操作'], 'priority': 'P0', 'category': '场景测试'}, {'id': 'TC-测试场景TS001-002', 'title': '测试场景TS001：需要提供具体的测试场景 - 测试场景TS001 - 数据一致性端到端验证', 'preconditions': ['系统包含完整的测试数据和工作流程', '数据库备份已完成', '监控工具已配置用于数据完整性检查'], 'steps': ['执行完整的工作流程直到可退回状态', '记录当前所有相关数据的快照', '执行一键退回操作', '验证数据状态转换和清空情况', '检查流程是否重新开始', '对比退回前后的数据完整性'], 'expected_results': ['退回操作后所有相关数据正确清空或重置', '审批意见和历史记录按要求清除', '工作流程正确重启到初始状态', '无数据丢失或损坏发生', '数据一致性检查通过'], 'priority': 'P0', 'category': '端到端测试'}, {'id': 'TC-测试场景TS001-003', 'title': '测试场景TS001：需要提供具体的测试场景 - 测试场景TS001 - 核心业务流程场景验证', 'preconditions': ['系统处于正常工作状态', '测试用例数据已准备就绪', '流程监控工具已启用'], 'steps': ['启动工作流程并推进到可退回节点', '验证退回按钮的显示条件符合业务规则', '执行退回操作', '观察状态转换过程', '验证审批意见是否清空', '确认流程重新开始'], 'expected_results': ['退回按钮仅在符合条件的叶子节点正确显示', '状态转换按照预期业务逻辑执行', '所有审批意见和历史记录正确清空', '工作流程成功重启到初始状态', '业务规则验证通过'], 'priority': 'P1', 'category': '场景测试'}, {'id': 'TC-测试场景TS001-004', 'title': '测试场景TS001：需要提供具体的测试场景 - 测试场景TS001 - 性能压力端到端测试', 'preconditions': ['性能测试环境已搭建', 'JMeter工具配置完成', '不同数据量的测试数据集已准备'], 'steps': ['准备小数据量测试场景（100条记录）', '执行退回操作并记录响应时间', '准备中数据量测试场景（1000条记录）', '执行退回操作并记录响应时间', '准备大数据量测试场景（10000条记录）', '执行退回操作并记录响应时间', '分析性能数据'], 'expected_results': ['小数据量退回操作响应时间在2秒以内', '中数据量退回操作响应时间在5秒以内', '大数据量退回操作响应时间在可接受范围内（根据业务需求定义）', '系统在高负载下保持稳定', '性能指标符合预定义标准'], 'priority': 'P2', 'category': '端到端测试'}, {'id': 'TC-测试场景TS001-005', 'title': '测试场景TS001：需要提供具体的测试场景 - 测试场景TS001 - 跨浏览器兼容性场景测试', 'preconditions': ['BrowserStack或其他兼容性测试平台可用', '不同浏览器版本已准备', '测试脚本已开发完成'], 'steps': ['在Chrome最新版本中执行退回操作', '在Firefox最新版本中执行退回操作', '在Safari最新版本中执行退回操作', '在Edge最新版本中执行退回操作', '在移动端浏览器中执行退回操作（如适用）', '记录各浏览器下的功能表现'], 'expected_results': ['在所有支持的浏览器中退回功能正常工作', '用户界面在各浏览器中显示一致', '操作流程在各浏览器中执行无差异', '无浏览器特定的功能缺陷', '兼容性测试通过率100%'], 'priority': 'P2', 'category': '场景测试'}, {'id': 'TC-测试场景TS001-006', 'title': '测试场景TS001：需要提供具体的测试场景 - 测试场景TS001 - 用户体验端到端验证', 'preconditions': ['系统用户界面可用', '用户体验测试 checklist 已准备', '测试用户账户可用'], 'steps': ['执行退回操作前验证确认提示信息', '执行退回操作并观察操作反馈', '模拟错误场景（如网络中断）', '验证错误处理机制', '检查操作完成后的状态反馈', '评估整体操作流程的易用性'], 'expected_results': ['执行退回前显示明确的确认提示', '操作过程中提供清晰的进度反馈', '错误场景下显示友好的错误消息', '操作完成后提供明确的结果反馈', '整体用户体验评分达到预定标准', '可用性测试通过'], 'priority': 'P3', 'category': '端到端测试'}]}
2025-08-29 09:23:21 - src.agents.assistant - INFO - 当前进度: 3/4 - 当前阶段: 质量保证
2025-08-29 09:23:21 - src.agents.assistant - INFO - 开始质量保证审查
2025-08-29 09:23:21 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:23:49 - src.agents.quality_assurance - WARNING - JSON解析失败，将使用文本解析方式: Expecting ',' delimiter: line 27 column 5 (char 1070)
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 使用顺序方式处理测试用例
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 将71个测试用例分成4批进行处理，每批约23个用例
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 开始处理第1批测试用例，共23个
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 第1批测试用例处理完成
2025-08-29 09:23:49 - src.agents.quality_assurance - WARNING - JSON解析失败，将使用文本解析方式: Expecting ',' delimiter: line 27 column 5 (char 1070)
2025-08-29 09:23:49 - src.utils.agent_io - INFO - 已保存quality_assurance_batch_1的执行结果到agent_results/quality_assurance_batch_1_result.json
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 已保存第1批质量审查结果
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 开始处理第2批测试用例，共23个
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 第2批测试用例处理完成
2025-08-29 09:23:49 - src.agents.quality_assurance - WARNING - JSON解析失败，将使用文本解析方式: Expecting ',' delimiter: line 27 column 5 (char 1070)
2025-08-29 09:23:49 - src.utils.agent_io - INFO - 已保存quality_assurance_batch_2的执行结果到agent_results/quality_assurance_batch_2_result.json
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 已保存第2批质量审查结果
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 开始处理第3批测试用例，共23个
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 第3批测试用例处理完成
2025-08-29 09:23:49 - src.agents.quality_assurance - WARNING - JSON解析失败，将使用文本解析方式: Expecting ',' delimiter: line 27 column 5 (char 1070)
2025-08-29 09:23:49 - src.utils.agent_io - INFO - 已保存quality_assurance_batch_3的执行结果到agent_results/quality_assurance_batch_3_result.json
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 已保存第3批质量审查结果
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 开始处理第4批测试用例，共2个
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 第4批测试用例处理完成
2025-08-29 09:23:49 - src.agents.quality_assurance - WARNING - JSON解析失败，将使用文本解析方式: Expecting ',' delimiter: line 27 column 5 (char 1070)
2025-08-29 09:23:49 - src.utils.agent_io - INFO - 已保存quality_assurance_batch_4的执行结果到agent_results/quality_assurance_batch_4_result.json
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 已保存第4批质量审查结果
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 所有测试用例处理完成，共改进71个测试用例
2025-08-29 09:23:49 - src.utils.agent_io - INFO - 已保存quality_assurance的执行结果到agent_results/quality_assurance_result.json
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 质量审查结果已成功保存
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 测试用例审查完成，共审查 71 个测试用例
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 已删除临时质量审查批次文件: agent_results/quality_assurance_batch_3_result.json
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 已删除临时质量审查批次文件: agent_results/quality_assurance_batch_2_result.json
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 已删除临时质量审查批次文件: agent_results/quality_assurance_batch_4_result.json
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 已删除临时质量审查批次文件: agent_results/quality_assurance_batch_1_result.json
2025-08-29 09:23:49 - src.agents.quality_assurance - INFO - 所有临时质量审查批次文件已清理完毕，共删除 4 个文件
2025-08-29 09:23:49 - src.agents.assistant - INFO - 质量保证审查完成，结果: {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'reviewed_cases': [{'id': 'TC-仅集团用户可执行一键退回操作-001', 'title': '仅集团用户可执行一键退回操作 - 验证集团超管用户执行一键退回操作的权限控制', 'preconditions': ['系统已部署并正常运行', '存在有效的集团超管用户账号', '存在待处理的审批流程节点'], 'steps': ['使用集团超管用户账号登录系统', '导航至待处理审批流程页面', '点击一键退回按钮', '确认退回操作'], 'expected_results': ['一键退回按钮对集团超管用户可见且可点击', '退回操作成功执行，流程状态正确转换', '审批意见数据被正确清空', '流程重新开始，相关数据保持一致'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-002', 'title': '仅集团用户可执行一键退回操作 - 验证非集团用户无法执行一键退回操作的权限控制', 'preconditions': ['系统已部署并正常运行', '存在有效的普通用户账号', '存在待处理的审批流程节点'], 'steps': ['使用普通用户账号登录系统', '导航至待处理审批流程页面', '尝试查找一键退回按钮'], 'expected_results': ['一键退回按钮对普通用户不可见或禁用', '无法通过直接URL访问退回功能页面', '系统返回权限不足的错误提示'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-003', 'title': '仅集团用户可执行一键退回操作 - 验证集团超管执行一键退回操作的数据一致性', 'preconditions': ['系统已部署并正常运行', '存在有效的集团超管用户账号', '存在包含完整审批数据的待处理流程'], 'steps': ['使用集团超管用户账号登录系统', '导航至待处理审批流程页面', '记录当前流程的所有相关数据', '执行一键退回操作', '验证退回后的数据状态'], 'expected_results': ['退回操作后所有相关数据保持完整性和一致性', '审批意见数据被正确清空', '流程状态正确重置为初始状态', '无数据丢失或损坏'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-004', 'title': '仅集团用户可执行一键退回操作 - 验证一键退回操作的核心业务流程正确性', 'preconditions': ['系统已部署并正常运行', '存在有效的集团超管用户账号', '存在处于不同状态的审批流程'], 'steps': ['使用集团超管用户账号登录系统', '对不同状态的流程执行一键退回操作', '验证状态转换和流程重启逻辑'], 'expected_results': ['退回操作触发正确的状态转换', '审批意见被正确清空', '流程重新开始，所有必要字段重置', '系统生成正确的操作日志记录'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-005', 'title': '仅集团用户可执行一键退回操作 - 验证一键退回按钮的显示条件和业务规则', 'preconditions': ['系统已部署并正常运行', '存在有效的集团超管用户账号', '存在不同条件下的审批流程节点'], 'steps': ['使用集团超管用户账号登录系统', '查看不同条件下的流程页面', '验证一键退回按钮的显示逻辑'], 'expected_results': ['按钮仅在符合条件的叶子节点显示', '按钮状态根据业务规则正确变化（启用/禁用）', '显示条件符合业务需求文档要求'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-006', 'title': '仅集团用户可执行一键退回操作 - 验证权限控制机制的安全漏洞检测', 'preconditions': ['系统已部署并正常运行', '安全测试工具OWASP ZAP已配置', '存在多种用户角色的测试账号'], 'steps': ['使用OWASP ZAP对一键退回功能进行安全扫描', '尝试使用不同用户角色访问退回功能', '验证API接口的权限控制'], 'expected_results': ['未发现权限绕过漏洞', '后端API接口有严格的权限验证', '非授权用户无法通过任何方式执行退回操作', '安全扫描结果无高危漏洞'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-007', 'title': '仅集团用户可执行一键退回操作 - 验证大量数据退回时的性能表现', 'preconditions': ['性能测试环境已搭建', 'JMeter测试脚本已准备', '存在包含大量数据的测试流程'], 'steps': ['使用JMeter模拟集团超管用户登录', '执行包含大量数据的一键退回操作', '监控系统响应时间和资源消耗'], 'expected_results': ['退回操作响应时间在可接受范围内（如<3秒）', '系统资源消耗在合理范围内', '无内存泄漏或性能下降现象', '并发操作时系统保持稳定'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-008', 'title': '仅集团用户可执行一键退回操作 - 验证跨浏览器兼容性的一键退回功能', 'preconditions': ['BrowserStack测试环境已配置', '多种浏览器版本已准备', '存在有效的集团超管测试账号'], 'steps': ['在不同浏览器中登录集团超管账号', '执行一键退回操作', '验证功能在各浏览器中的表现'], 'expected_results': ['一键退回功能在所有支持的浏览器中正常工作', '界面显示和操作流程一致', '无浏览器特定的功能缺陷', '退回操作结果在所有浏览器中一致'], 'priority': 'P2', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-009', 'title': '仅集团用户可执行一键退回操作 - 验证一键退回操作的用户体验和操作反馈', 'preconditions': ['系统已部署并正常运行', '存在有效的集团超管用户账号', '存在待处理的审批流程'], 'steps': ['使用集团超管用户账号登录系统', '执行一键退回操作', '观察操作过程中的提示和反馈', '验证错误处理机制'], 'expected_results': ['操作前有明确的确认提示', '操作成功后有清晰的完成反馈', '错误情况下有友好的错误消息', '操作流程符合用户直觉，易于使用'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-001', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证集团超管在审批通过状态下显示一键退回按钮', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批通过'的审批单", '当前页面显示该审批单详情'], 'steps': ['导航至审批单详情页面', '检查页面UI元素', '验证一键退回按钮是否可见'], 'expected_results': ['页面正确加载审批单详情', '一键退回按钮在页面指定位置显示', '按钮状态为可点击'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-002', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证非超管用户在审批通过状态下不显示一键退回按钮', 'preconditions': ['系统已登录普通用户账号', "存在状态为'审批通过'的审批单", '当前页面显示该审批单详情'], 'steps': ['导航至审批单详情页面', '检查页面UI元素', '验证一键退回按钮是否隐藏'], 'expected_results': ['页面正确加载审批单详情', '一键退回按钮在页面中不可见', '无权限相关错误提示显示'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-003', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证审批未通过状态下超管不显示一键退回按钮', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批未通过'的审批单", '当前页面显示该审批单详情'], 'steps': ['导航至审批单详情页面', '检查页面UI元素', '验证一键退回按钮是否隐藏'], 'expected_results': ['页面正确加载审批单详情', '一键退回按钮在页面中不可见', '按钮状态为隐藏或禁用'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-004', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证一键退回按钮在不同浏览器下的显示兼容性', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批通过'的审批单", '使用不同浏览器访问系统'], 'steps': ['在Chrome浏览器中打开审批单详情页面', '验证一键退回按钮显示正常', '在Firefox浏览器中重复上述步骤', '在Safari浏览器中重复上述步骤', '在Edge浏览器中重复上述步骤'], 'expected_results': ['所有浏览器中页面正确加载', '所有浏览器中一键退回按钮正常显示', '按钮位置和样式保持一致', '无浏览器兼容性错误'], 'priority': 'P2', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-005', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证大量数据时一键退回按钮显示性能', 'preconditions': ['系统已登录集团超管账号', '存在包含大量附件和审批历史的审批通过状态审批单', '性能监控工具已就绪'], 'steps': ['导航至包含大量数据的审批单详情页面', '记录页面加载时间', '验证一键退回按钮显示时间', '检查页面响应性能指标'], 'expected_results': ['页面加载时间在3秒以内', '一键退回按钮在页面加载后立即显示', '无明显的性能延迟或卡顿', 'CPU和内存使用率在正常范围内'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-006', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证一键退回按钮的UI可用性和用户体验', 'preconditions': ['系统已登录集团超管账号', "存在状态为'审批通过'的审批单", '当前页面显示该审批单详情'], 'steps': ['观察一键退回按钮的位置布局', '检查按钮的视觉设计（颜色、大小、图标）', '验证按钮的悬停效果和点击反馈', '确认按钮文本清晰易懂'], 'expected_results': ['按钮位置符合用户操作习惯', '按钮设计醒目且符合UI规范', '悬停和点击有明确的视觉反馈', '按钮文本准确描述功能', '整体用户体验良好'], 'priority': 'P3', 'category': 'UI测试', 'description': ''}, {'id': 'TC-退回操作必须填写退回原因-001', 'title': '退回操作必须填写退回原因 - 验证集团超管执行退回操作时必须填写退回原因的功能', 'preconditions': ['用户已登录系统且具有集团超管权限', '存在待处理的审批流程节点', '用户已进入退回操作界面'], 'steps': ['点击退回按钮', '在弹出的退回原因输入框中不填写任何内容', '点击确认按钮'], 'expected_results': ["系统提示'退回原因不能为空'的错误信息", '退回操作未执行，审批流程状态保持不变', '用户停留在当前页面，退回原因输入框保持高亮或错误状态'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回操作必须填写退回原因-002', 'title': '退回操作必须填写退回原因 - 验证非集团超管用户无法执行退回操作的权限控制', 'preconditions': ['用户已登录系统且不具有集团超管权限', '存在待处理的审批流程节点', '用户已进入审批详情页面'], 'steps': ['检查页面中是否显示退回按钮', '尝试通过URL直接访问退回操作接口', '观察系统响应'], 'expected_results': ['页面中不显示退回按钮或按钮为禁用状态', '直接接口访问返回权限不足的错误信息（如403状态码）', '系统记录未授权访问尝试的安全日志'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-退回操作必须填写退回原因-003', 'title': '退回操作必须填写退回原因 - 验证退回操作填写原因后的数据一致性', 'preconditions': ['用户已登录系统且具有集团超管权限', '存在待处理的审批流程节点', '审批流程包含多个审批意见和历史数据'], 'steps': ['点击退回按钮', '在退回原因输入框中填写有效的退回原因', '点击确认按钮执行退回操作', '检查审批流程状态和数据变化'], 'expected_results': ['退回操作成功执行，流程状态正确转换为退回状态', '退回原因被正确记录在审批历史中', '之前的审批意见被清空，流程重新开始', '所有相关数据保持完整性和一致性，无数据丢失'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回操作必须填写退回原因-004', 'title': '退回操作必须填写退回原因 - 验证大量数据退回时的性能表现', 'preconditions': ['系统存在包含大量审批数据（1000+条记录）的流程', '性能测试环境已搭建完成', 'JMeter测试脚本已配置完成'], 'steps': ['使用JMeter模拟10个并发用户执行退回操作', '每个用户填写不同的退回原因', '记录系统响应时间和资源使用情况', '分析性能测试结果'], 'expected_results': ['平均响应时间在3秒以内', '95%的请求响应时间在5秒以内', '系统CPU和内存使用率在合理范围内', '无超时错误或系统崩溃现象'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-退回操作必须填写退回原因-005', 'title': '退回操作必须填写退回原因 - 验证跨浏览器兼容性下的退回原因填写功能', 'preconditions': ['准备Chrome、Firefox、Safari、Edge等主流浏览器', 'BrowserStack测试环境已配置', '测试账号具有集团超管权限'], 'steps': ['在不同浏览器中登录系统', '执行退回操作并填写退回原因', '验证界面显示和功能正常性', '检查各浏览器下的用户体验一致性'], 'expected_results': ['在所有支持的浏览器中退回原因输入框正常显示', '退回操作功能在所有浏览器中正常工作', '错误提示和成功提示在所有浏览器中一致显示', '界面布局和样式在不同浏览器中保持一致'], 'priority': 'P2', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-退回操作必须填写退回原因-006', 'title': '退回操作必须填写退回原因 - 验证退回操作的用户体验和错误处理', 'preconditions': ['用户已登录系统且具有集团超管权限', '存在待处理的审批流程节点'], 'steps': ['尝试提交空的退回原因', '观察错误提示的清晰度和友好性', '填写超长退回原因（超过限制字符数）', '观察系统如何处理超长输入', '成功填写有效退回原因并提交', '观察成功反馈和后续操作指引'], 'expected_results': ['空原因提交时显示明确、友好的错误提示', '超长输入时系统自动截断或提示字符限制', '成功操作后显示清晰的成功提示和下一步指引', '所有用户交互提供及时和明确的反馈'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-退回时清空历史审批意见，流程重新开始-001', 'title': '退回时清空历史审批意见，流程重新开始 - 验证集团超管权限执行退回操作的功能正确性', 'preconditions': ['系统已登录集团超管账号', '存在一个正在审批中的流程实例', '该流程已有历史审批意见记录'], 'steps': ['进入流程审批详情页面', "点击'退回'按钮", '确认退回操作提示', '查看流程状态和审批意见'], 'expected_results': ['退回操作成功执行', '历史审批意见被清空', '流程状态重置为初始状态', '流程重新开始审批'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回时清空历史审批意见，流程重新开始-002', 'title': '退回时清空历史审批意见，流程重新开始 - 验证非集团超管用户无法执行退回操作', 'preconditions': ['系统已登录普通用户账号', '存在一个正在审批中的流程实例'], 'steps': ['进入流程审批详情页面', "检查页面是否显示'退回'按钮", '尝试通过URL直接访问退回接口'], 'expected_results': ["页面不显示'退回'按钮", '直接接口访问返回权限错误', '操作被拒绝，流程状态保持不变'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-退回时清空历史审批意见，流程重新开始-003', 'title': '退回时清空历史审批意见，流程重新开始 - 验证退回操作后的数据完整性', 'preconditions': ['系统已登录集团超管账号', '流程包含多条历史审批意见和附件', '数据库中有完整的流程相关数据记录'], 'steps': ['执行退回操作', '检查数据库中的审批意见表', '验证流程状态字段更新', '检查相关业务数据完整性'], 'expected_results': ['历史审批意见数据被正确清空', '流程状态字段更新为初始状态', '业务核心数据保持完整无丢失', '数据一致性检查通过'], 'priority': 'P0', 'category': '数据完整性测试', 'description': ''}, {'id': 'TC-退回时清空历史审批意见，流程重新开始-004', 'title': '退回时清空历史审批意见，流程重新开始 - 验证大量数据退回时的性能表现', 'preconditions': ['系统已登录集团超管账号', '流程包含大量历史审批意见（1000条以上）', '性能监控工具已就绪'], 'steps': ['执行退回操作', '记录操作响应时间', '监控系统资源使用情况', '检查数据库处理时间'], 'expected_results': ['退回操作响应时间在3秒以内', '系统资源使用在正常范围内', '数据库处理效率符合预期', '无内存泄漏或性能瓶颈'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-退回时清空历史审批意见，流程重新开始-005', 'title': '退回时清空历史审批意见，流程重新开始 - 验证跨浏览器兼容性下的退回功能', 'preconditions': ['在不同浏览器（Chrome、Firefox、Safari、Edge）中登录集团超管账号', '存在可退回的流程实例'], 'steps': ['在各浏览器中进入流程详情页面', '执行退回操作', '验证操作结果和页面显示'], 'expected_results': ['所有浏览器中退回功能正常工作', '页面布局和样式保持一致', '操作反馈和提示信息正确显示', '功能逻辑在各浏览器中一致'], 'priority': 'P2', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-退回时清空历史审批意见，流程重新开始-006', 'title': '退回时清空历史审批意见，流程重新开始 - 验证退回操作的用户体验和确认机制', 'preconditions': ['系统已登录集团超管账号', '存在可退回的流程实例'], 'steps': ["点击'退回'按钮", '观察确认提示对话框', '取消操作验证流程状态', '确认操作验证最终结果'], 'expected_results': ['操作前有明确的确认提示', '取消操作时流程状态保持不变', '成功操作后有明确的结果反馈', '错误情况有友好的错误提示信息'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-001', 'title': '验证集团超管权限控制 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录不同角色的用户账号（集团超管、普通用户、填报人）', "存在待审批的填报数据，状态为'审批中'"], 'steps': ['使用非集团超管账号登录系统', '尝试执行退回操作', '使用集团超管账号登录系统', '执行退回操作'], 'expected_results': ['非集团超管用户无法看到退回按钮或操作被拒绝', '集团超管能够成功执行退回操作', "数据状态正确变更为'上级驳回'"], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-002', 'title': '验证数据一致性 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录集团超管账号', '存在待审批的填报数据，包含完整的业务数据'], 'steps': ['执行退回操作', '检查退回后的数据完整性', '登录填报人账号查看数据', '填报人修改数据后重新提交'], 'expected_results': ['退回操作后所有业务数据保持完整，无数据丢失', '审批意见和相关流程数据被正确清空', '填报人能够查看完整数据并进行修改', '重新提交后流程重新开始，状态正确更新'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-003', 'title': '验证核心业务流程 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录集团超管账号', "存在待审批的填报数据，状态为'审批中'"], 'steps': ['执行退回操作', '验证数据状态变化', '登录填报人账号查看驳回数据', '填报人修改数据内容', '填报人重新提交数据', '验证流程重新开始状态'], 'expected_results': ["数据状态正确变更为'上级驳回'", '填报人收到驳回通知并能查看数据', '填报人能够成功修改数据并重新提交', "重新提交后状态变更为'待审批'，流程重新开始"], 'priority': 'P1', 'category': '流程测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-004', 'title': '验证退回条件业务规则 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录不同权限用户账号', '存在不同状态的填报数据（审批中、已通过、已驳回）'], 'steps': ['在不同数据状态下检查退回按钮显示条件', '验证叶子节点入口展示规则', '测试非审批中状态的退回操作可行性'], 'expected_results': ['退回按钮仅在审批中状态且用户有权限时显示', '叶子节点入口根据业务规则正确展示', '非审批中状态的数据无法执行退回操作'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-005', 'title': '验证性能表现 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['准备不同数据量的测试环境（小数据量、大数据量）', '性能监控工具已就绪'], 'steps': ['执行小数据量退回操作，记录响应时间', '执行大数据量退回操作，记录响应时间', '模拟多用户并发执行退回操作'], 'expected_results': ['小数据量退回操作响应时间在2秒以内', '大数据量退回操作响应时间在合理范围内（如5秒以内）', '并发操作下系统性能稳定，无崩溃或严重延迟'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-006', 'title': '验证跨浏览器兼容性 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['准备不同浏览器测试环境（Chrome、Firefox、Safari、Edge）'], 'steps': ['在不同浏览器中登录系统', '执行退回操作流程', '验证各浏览器下的功能正常性'], 'expected_results': ['所有主流浏览器中退回功能正常工作', '界面显示正常，无布局错乱', '操作流程在各浏览器中一致'], 'priority': 'P2', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-007', 'title': '验证用户体验 - 退回后状态变为上级驳回，填报人修改后重新提交', 'preconditions': ['系统已登录相关用户账号', '存在待审批的填报数据'], 'steps': ['执行退回操作，观察确认提示', '验证错误操作时的错误消息', '检查操作成功后的反馈信息', '测试填报人端的通知和引导'], 'expected_results': ['退回操作前有明确的确认提示', '错误操作时有清晰的错误消息指导', '操作成功后有明确的成功反馈', '填报人收到明确的驳回通知和修改指引'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-退回操作只在叶子节点展示入口-001', 'title': '退回操作只在叶子节点展示入口 - 验证只有集团超管在叶子节点能看到退回操作入口', 'preconditions': ['系统已登录', '存在包含叶子节点的审批流程', '当前用户为集团超管角色'], 'steps': ['导航到审批流程页面', '定位到叶子节点', '检查叶子节点操作菜单'], 'expected_results': ['叶子节点显示退回操作入口按钮', '非叶子节点不显示退回操作入口'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回操作只在叶子节点展示入口-002', 'title': '退回操作只在叶子节点展示入口 - 验证非集团超管用户在叶子节点看不到退回操作入口', 'preconditions': ['系统已登录', '存在包含叶子节点的审批流程', '当前用户为非集团超管角色（如普通用户）'], 'steps': ['导航到审批流程页面', '定位到叶子节点', '检查叶子节点操作菜单'], 'expected_results': ['叶子节点不显示退回操作入口按钮', '所有节点均无退回操作入口显示'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-退回操作只在叶子节点展示入口-003', 'title': '退回操作只在叶子节点展示入口 - 验证叶子节点退回操作入口的UI显示正确性', 'preconditions': ['系统已登录', '当前用户为集团超管角色', '存在包含叶子节点的审批流程'], 'steps': ['导航到审批流程页面', '检查叶子节点退回按钮的样式和位置', '验证按钮文本和图标显示'], 'expected_results': ['退回按钮样式符合UI设计规范', '按钮位置正确且易于识别', '按钮文本和图标清晰可见'], 'priority': 'P1', 'category': 'UI测试', 'description': ''}, {'id': 'TC-退回操作只在叶子节点展示入口-004', 'title': '退回操作只在叶子节点展示入口 - 验证退回操作入口在不同浏览器中的兼容性', 'preconditions': ['系统已登录', '当前用户为集团超管角色', '存在包含叶子节点的审批流程'], 'steps': ['在Chrome浏览器中访问审批流程页面', '在Firefox浏览器中访问审批流程页面', '在Safari浏览器中访问审批流程页面', '在Edge浏览器中访问审批流程页面'], 'expected_results': ['所有浏览器中叶子节点正确显示退回操作入口', '按钮样式和功能在所有浏览器中保持一致', '无界面错位或显示异常'], 'priority': 'P2', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-退回操作只在叶子节点展示入口-005', 'title': '退回操作只在叶子节点展示入口 - 验证大量数据时叶子节点退回入口的显示性能', 'preconditions': ['系统已登录', '当前用户为集团超管角色', '存在包含大量叶子节点的审批流程（1000+节点）'], 'steps': ['加载包含大量节点的审批流程页面', '记录页面加载完成时间', '滚动到页面底部查看叶子节点'], 'expected_results': ['页面加载时间在3秒以内', '所有叶子节点正确显示退回操作入口', '页面滚动和操作流畅无卡顿'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-退回操作只在叶子节点展示入口-006', 'title': '退回操作只在叶子节点展示入口 - 验证移动设备上叶子节点退回入口的可用性', 'preconditions': ['移动设备已安装系统应用', '当前用户为集团超管角色', '存在包含叶子节点的审批流程'], 'steps': ['在移动设备上登录系统', '访问审批流程页面', '查看叶子节点操作菜单', '尝试点击退回操作入口'], 'expected_results': ['移动设备上叶子节点正确显示退回操作入口', '按钮大小适合触屏操作', '点击操作响应正常'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过-001', 'title': '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过 - 验证集团超管权限下触发条件为审批通过状态的一键退回功能', 'preconditions': ['用户以集团超管身份登录系统', "存在一个年份清单，其所有排放源的任务状态均为'审批通过'", '系统已加载相关年份清单数据'], 'steps': ['导航至年份清单管理页面', "选择状态为'审批通过'的年份清单", '点击一键退回按钮', '确认退回操作'], 'expected_results': ['系统允许集团超管执行退回操作', "清单状态从'审批通过'转换为'待处理'", '所有排放源任务状态重置为初始状态', '审批意见和相关数据被正确清空', '流程重新开始，可重新提交审批'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过-002', 'title': '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过 - 验证非集团超管用户无法执行审批通过状态的一键退回操作', 'preconditions': ['用户以普通用户身份登录系统', "存在一个年份清单，其所有排放源的任务状态均为'审批通过'", '系统已加载相关年份清单数据'], 'steps': ['导航至年份清单管理页面', "选择状态为'审批通过'的年份清单", '尝试执行一键退回操作'], 'expected_results': ['系统拒绝执行退回操作', '显示权限不足的错误提示', "清单状态保持'审批通过'不变", '所有排放源任务状态保持不变', '数据完整性未受影响'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过-003', 'title': '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过 - 验证审批通过状态下大量数据退回的性能表现', 'preconditions': ['用户以集团超管身份登录系统', "存在包含大量排放源（1000+）的年份清单，状态为'审批通过'", '系统已加载大数据量的年份清单'], 'steps': ['导航至年份清单管理页面', '选择包含大量排放源的审批通过清单', '执行一键退回操作', '记录操作响应时间'], 'expected_results': ['退回操作在30秒内完成', '系统响应时间符合性能要求（<5秒）', '所有数据正确处理，无数据丢失', '系统资源使用在合理范围内', '操作完成后清单状态正确转换'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过-004', 'title': '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过 - 验证跨浏览器环境下审批通过状态退回功能的兼容性', 'preconditions': ['在不同浏览器（Chrome, Firefox, Safari, Edge）中打开系统', '用户以集团超管身份登录', "存在状态为'审批通过'的年份清单"], 'steps': ['在各浏览器中导航至年份清单管理页面', '选择审批通过的清单', '执行一键退回操作', '验证操作结果和界面显示'], 'expected_results': ['在所有支持的浏览器中功能正常运作', '界面元素正确显示，无布局错乱', '退回操作执行成功', '状态转换和数据清空功能正常', '错误提示和确认对话框显示正常'], 'priority': 'P2', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过-005', 'title': '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过 - 验证审批通过状态退回操作的用户体验和确认流程', 'preconditions': ['用户以集团超管身份登录系统', "存在状态为'审批通过'的年份清单", '系统界面正常显示'], 'steps': ['导航至年份清单管理页面', '选择审批通过的清单', '点击一键退回按钮', '观察确认提示对话框', '确认执行退回操作', '观察操作完成后的反馈信息'], 'expected_results': ['退回按钮清晰可见且可用', '操作前显示明确的确认提示', '操作过程中显示进度指示', '操作完成后显示成功反馈信息', '错误情况下显示友好的错误提示', '用户能够清晰了解操作结果和后续步骤'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过-006', 'title': '触发条件为用户为集团的负责该年份清单所有排放源的任务状态=审批通过 - 验证部分审批通过状态下退回按钮的显示条件', 'preconditions': ['用户以集团超管身份登录系统', "存在年份清单，部分排放源状态为'审批通过'，部分为其他状态"], 'steps': ['导航至年份清单管理页面', '查看非全部审批通过的清单', '检查一键退回按钮的显示状态'], 'expected_results': ["当清单中并非所有排放源都为'审批通过'状态时", '一键退回按钮应禁用或隐藏', '系统应提供明确的状态提示', '不允许执行退回操作', '数据完整性保持不受影响'], 'priority': 'P1', 'category': '条件测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-001', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证集团超管执行退回操作的权限控制', 'preconditions': ['系统已登录集团超管账号', '存在可退回的业务流程实例', '退回功能按钮可见且可操作'], 'steps': ['登录系统使用集团超管账号', '导航到需要退回的业务流程页面', '点击退回操作按钮', '确认执行退回操作'], 'expected_results': ['退回操作成功执行', '业务流程状态正确转换为退回状态', '系统显示操作成功的提示信息'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-002', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证普通用户无法执行退回操作的权限控制', 'preconditions': ['系统已登录普通用户账号', '存在可退回的业务流程实例'], 'steps': ['登录系统使用普通用户账号', '导航到需要退回的业务流程页面', '检查退回操作按钮是否显示'], 'expected_results': ['退回操作按钮不可见或禁用状态', '无法通过直接URL访问退回功能页面', '系统返回权限不足的错误提示'], 'priority': 'P0', 'category': '权限测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-003', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证管理员但非集团超管无法执行退回操作', 'preconditions': ['系统已登录普通管理员账号（非集团超管）', '存在可退回的业务流程实例'], 'steps': ['登录系统使用普通管理员账号', '导航到需要退回的业务流程页面', '尝试执行退回操作'], 'expected_results': ['退回操作被系统拒绝', '显示权限不足的错误消息', '业务流程状态保持不变'], 'priority': 'P0', 'category': '权限测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-004', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证未登录用户无法执行退回操作的安全控制', 'preconditions': ['用户处于未登录状态', '已知退回操作的API端点或页面URL'], 'steps': ['直接访问退回操作API端点或页面URL', '尝试执行退回操作请求'], 'expected_results': ['系统重定向到登录页面', '退回操作请求被拒绝并返回401未授权状态码', '业务流程状态未发生任何变化'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管才能执行退回操作-005', 'title': '权限控制：确保只有集团超管才能执行退回操作 - 验证会话过期后无法执行退回操作的安全机制', 'preconditions': ['集团超管已登录系统', '会话已过期或token失效', '存在可退回的业务流程实例'], 'steps': ['等待会话超时或手动使token失效', '尝试执行退回操作', '观察系统响应'], 'expected_results': ['系统提示会话已过期需要重新登录', '退回操作被拒绝执行', '业务流程状态保持原状'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-数据一致性：退回操作需确保数据完整性和一致性-001', 'title': '数据一致性：退回操作需确保数据完整性和一致性 - 数据一致性验证-退回操作后数据完整性检查', 'preconditions': ['系统已登录集团超管账号', '存在已审批通过的流程实例', '数据库备份已完成'], 'steps': ['执行退回操作前，记录当前流程所有相关数据表的状态和数据量', '执行一键退回操作', '验证退回操作完成后，检查数据库中各相关表的数据完整性', '对比退回前后的数据变化，确认无数据丢失'], 'expected_results': ['退回操作成功执行', '所有相关业务数据保持完整，无数据丢失', '数据表之间的关联关系保持正确', '历史记录被正确保存，无数据损坏'], 'priority': 'P0', 'category': '数据完整性测试', 'description': ''}, {'id': 'TC-数据一致性：退回操作需确保数据完整性和一致性-002', 'title': '数据一致性：退回操作需确保数据完整性和一致性 - 数据库事务一致性验证-退回操作失败时的回滚机制', 'preconditions': ['系统已登录集团超管账号', '存在可退回的流程实例', '数据库监控工具已启动'], 'steps': ['在执行退回操作过程中人为制造数据库异常（如断开数据库连接）', '观察系统对异常的处理行为', '检查数据库状态是否回滚到操作前的状态', '验证事务的一致性保证机制'], 'expected_results': ['系统能够检测到数据库异常并中止操作', '所有已执行的数据操作被正确回滚', '数据库保持事务一致性，无部分提交的数据', '用户收到适当的错误提示信息'], 'priority': 'P0', 'category': '数据完整性测试', 'description': ''}, {'id': 'TC-数据一致性：退回操作需确保数据完整性和一致性-003', 'title': '数据一致性：退回操作需确保数据完整性和一致性 - 数据库约束验证-退回操作后的外键关系完整性', 'preconditions': ['系统已登录集团超管账号', '存在包含多个关联表的复杂流程实例', '数据库外键约束已启用'], 'steps': ['执行退回操作前，验证所有外键约束的有效性', '执行一键退回操作', '检查所有相关表的外键关系是否保持完整', '验证无外键约束冲突或孤儿记录产生'], 'expected_results': ['退回操作完成后，所有外键约束保持有效', '无外键约束冲突错误', '关联表之间的数据关系保持正确', '无孤儿记录或无效引用产生'], 'priority': 'P0', 'category': '数据库测试', 'description': ''}, {'id': 'TC-数据一致性：退回操作需确保数据完整性和一致性-004', 'title': '数据一致性：退回操作需确保数据完整性和一致性 - 数据库日志验证-退回操作的审计追踪完整性', 'preconditions': ['系统已登录集团超管账号', '数据库审计功能已启用', '存在可退回的流程实例'], 'steps': ['执行退回操作', '检查数据库操作日志，记录所有执行的SQL语句', '验证日志中记录了完整的退回操作事务', '确认审计日志包含操作时间、操作人员、受影响数据等完整信息'], 'expected_results': ['数据库审计日志完整记录了退回操作的所有数据变更', '日志包含事务开始和提交的完整记录', '审计信息包含必要的操作元数据（操作者、时间戳等）', '日志格式规范，便于后续审计和分析'], 'priority': 'P1', 'category': '数据库测试', 'description': ''}, {'id': 'TC-性能要求：退回操作响应时间应在合理范围内-001', 'title': '性能要求：退回操作响应时间应在合理范围内 - 性能测试：验证小数据量退回操作的响应时间在合理范围内', 'preconditions': ['系统已部署在测试环境', '集团超管账号已登录系统', '存在包含10条以下待处理数据的流程实例'], 'steps': ['使用JMeter配置单用户并发，执行退回操作', '记录从点击退回到操作完成的响应时间', '重复执行5次操作，计算平均响应时间'], 'expected_results': ['退回操作平均响应时间小于2秒', '所有单次操作响应时间均在3秒以内', '操作完成后系统返回成功状态'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-性能要求：退回操作响应时间应在合理范围内-002', 'title': '性能要求：退回操作响应时间应在合理范围内 - 负载测试：验证大数据量退回操作的响应时间性能', 'preconditions': ['系统已部署在性能测试环境', '集团超管账号已登录系统', '存在包含1000条以上待处理数据的流程实例'], 'steps': ['使用JMeter模拟10个并发用户执行退回操作', '监控系统资源使用情况（CPU、内存、数据库连接）', '记录高并发下的平均响应时间和最大响应时间', '检查操作过程中是否出现超时或错误'], 'expected_results': ['平均响应时间在可接受范围内（根据业务需求定义，如小于10秒）', '最大响应时间不超过设定阈值（如30秒）', '系统资源使用率正常，无内存泄漏或连接池耗尽', '所有并发操作均成功完成，无数据不一致'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-性能要求：退回操作响应时间应在合理范围内-003', 'title': '性能要求：退回操作响应时间应在合理范围内 - 性能测试：验证退回操作在不同网络条件下的响应时间稳定性', 'preconditions': ['系统已部署在测试环境', '集团超管账号已登录系统', '网络模拟工具已配置完成'], 'steps': ['模拟3G网络条件（延迟100ms，带宽1Mbps）', '执行退回操作并记录响应时间', '模拟4G网络条件（延迟50ms，带宽10Mbps）', '再次执行退回操作并记录响应时间', '对比不同网络条件下的性能差异'], 'expected_results': ['在不同网络条件下，退回操作均能正常完成', '响应时间差异在合理范围内（网络延迟差异的2倍以内）', '操作成功率100%，无因网络条件导致的失败'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-性能要求：退回操作响应时间应在合理范围内-004', 'title': '性能要求：退回操作响应时间应在合理范围内 - 负载测试：验证长时间运行退回操作的性能稳定性', 'preconditions': ['系统已部署在性能测试环境', '集团超管账号已登录系统', '存在大量待处理的流程实例'], 'steps': ['使用JMeter持续执行退回操作1小时', '监控系统性能指标随时间的变化趋势', '记录响应时间的标准差和波动范围', '检查是否有性能退化或内存泄漏迹象'], 'expected_results': ['响应时间在整个测试期间保持稳定', '响应时间波动范围小于平均值的20%', '系统资源使用率保持平稳，无持续增长趋势', '无内存泄漏或连接泄漏问题'], 'priority': 'P2', 'category': '负载测试', 'description': ''}, {'id': 'TC-用户体验：退回操作应有明确的确认提示和操作反馈-001', 'title': '用户体验：退回操作应有明确的确认提示和操作反馈 - 用户体验：退回操作确认提示对话框显示验证', 'preconditions': ['用户已登录系统', '用户具有集团超管权限', '存在可退回的审批流程'], 'steps': ['导航至审批流程页面', '选择需要退回的流程记录', '点击退回操作按钮'], 'expected_results': ['系统显示明确的确认提示对话框', '对话框包含清晰的退回操作说明和警告信息', '提供确认和取消两个操作按钮'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-用户体验：退回操作应有明确的确认提示和操作反馈-002', 'title': '用户体验：退回操作应有明确的确认提示和操作反馈 - 用户体验：退回操作成功反馈验证', 'preconditions': ['用户已登录系统', '用户具有集团超管权限', '存在可退回的审批流程', '确认提示对话框已显示'], 'steps': ['在确认提示对话框中选择确认退回', '等待操作完成'], 'expected_results': ['系统显示操作成功提示信息', '提示信息明确指示退回操作已完成', '页面状态相应更新，显示流程已退回状态', '提供明确的视觉反馈（如成功图标或颜色变化）'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-用户体验：退回操作应有明确的确认提示和操作反馈-003', 'title': '用户体验：退回操作应有明确的确认提示和操作反馈 - 用户体验：退回操作取消功能验证', 'preconditions': ['用户已登录系统', '用户具有集团超管权限', '存在可退回的审批流程', '确认提示对话框已显示'], 'steps': ['在确认提示对话框中选择取消操作', '观察系统响应'], 'expected_results': ['确认对话框正常关闭', '退回操作未执行，流程状态保持不变', '系统无异常错误提示', '用户可以继续其他操作'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-用户体验：退回操作应有明确的确认提示和操作反馈-004', 'title': '用户体验：退回操作应有明确的确认提示和操作反馈 - 用户体验：退回操作错误提示验证', 'preconditions': ['用户已登录系统', '用户具有集团超管权限', '尝试退回一个不可退回的流程状态'], 'steps': ['导航至审批流程页面', '选择状态不可退回的流程记录', '尝试执行退回操作'], 'expected_results': ['系统显示明确的错误提示信息', '错误信息清晰说明不可退回的原因', '提供友好的用户指导建议', '界面保持稳定，无系统崩溃'], 'priority': 'P3', 'category': '可用性测试', 'description': ''}, {'id': 'TC-用户体验：退回操作应有明确的确认提示和操作反馈-005', 'title': '用户体验：退回操作应有明确的确认提示和操作反馈 - 用户体验：退回操作UI界面一致性验证', 'preconditions': ['用户已登录系统', '用户具有集团超管权限'], 'steps': ['在不同浏览器中访问系统', '执行退回操作流程', '观察确认提示和操作反馈的UI表现'], 'expected_results': ['确认提示对话框在不同浏览器中显示一致', '操作反馈信息格式和样式保持一致', '按钮和交互元素布局统一', '颜色、字体和图标显示正常'], 'priority': 'P2', 'category': 'UI测试', 'description': ''}, {'id': 'TC-用户体验：退回操作应有明确的确认提示和操作反馈-006', 'title': '用户体验：退回操作应有明确的确认提示和操作反馈 - 用户体验：退回操作响应式设计验证', 'preconditions': ['用户已登录系统', '用户具有集团超管权限'], 'steps': ['在不同设备尺寸上访问系统（桌面、平板、手机）', '执行退回操作流程', '观察界面布局和交互体验'], 'expected_results': ['确认提示对话框在不同设备上自适应显示', '操作按钮大小适合触摸操作', '反馈信息清晰可读，无布局错乱', '移动端操作流程顺畅无卡顿'], 'priority': 'P2', 'category': 'UI测试', 'description': ''}, {'id': 'TC-测试场景TS001-001', 'title': '测试场景TS001：需要提供具体的测试场景 - 测试场景TS001 - 集团超管权限控制验证', 'preconditions': ['系统已部署并正常运行', '存在不同权限级别的测试用户账户（集团超管、普通用户、管理员等）', '测试环境已配置好权限控制系统'], 'steps': ['使用非集团超管账户登录系统', '导航到一键退回功能页面', '尝试执行退回操作', '使用集团超管账户登录系统', '再次尝试执行退回操作'], 'expected_results': ['非集团超管用户无法看到或访问退回功能按钮', '非授权用户尝试执行退回操作时系统返回权限错误提示', '集团超管用户能够正常看到并访问退回功能', '集团超管用户能够成功执行退回操作'], 'priority': 'P0', 'category': '场景测试', 'description': ''}, {'id': 'TC-测试场景TS001-002', 'title': '测试场景TS001：需要提供具体的测试场景 - 测试场景TS001 - 数据一致性端到端验证', 'preconditions': ['系统包含完整的测试数据和工作流程', '数据库备份已完成', '监控工具已配置用于数据完整性检查'], 'steps': ['执行完整的工作流程直到可退回状态', '记录当前所有相关数据的快照', '执行一键退回操作', '验证数据状态转换和清空情况', '检查流程是否重新开始', '对比退回前后的数据完整性'], 'expected_results': ['退回操作后所有相关数据正确清空或重置', '审批意见和历史记录按要求清除', '工作流程正确重启到初始状态', '无数据丢失或损坏发生', '数据一致性检查通过'], 'priority': 'P0', 'category': '端到端测试', 'description': ''}, {'id': 'TC-测试场景TS001-003', 'title': '测试场景TS001：需要提供具体的测试场景 - 测试场景TS001 - 核心业务流程场景验证', 'preconditions': ['系统处于正常工作状态', '测试用例数据已准备就绪', '流程监控工具已启用'], 'steps': ['启动工作流程并推进到可退回节点', '验证退回按钮的显示条件符合业务规则', '执行退回操作', '观察状态转换过程', '验证审批意见是否清空', '确认流程重新开始'], 'expected_results': ['退回按钮仅在符合条件的叶子节点正确显示', '状态转换按照预期业务逻辑执行', '所有审批意见和历史记录正确清空', '工作流程成功重启到初始状态', '业务规则验证通过'], 'priority': 'P1', 'category': '场景测试', 'description': ''}, {'id': 'TC-测试场景TS001-004', 'title': '测试场景TS001：需要提供具体的测试场景 - 测试场景TS001 - 性能压力端到端测试', 'preconditions': ['性能测试环境已搭建', 'JMeter工具配置完成', '不同数据量的测试数据集已准备'], 'steps': ['准备小数据量测试场景（100条记录）', '执行退回操作并记录响应时间', '准备中数据量测试场景（1000条记录）', '执行退回操作并记录响应时间', '准备大数据量测试场景（10000条记录）', '执行退回操作并记录响应时间', '分析性能数据'], 'expected_results': ['小数据量退回操作响应时间在2秒以内', '中数据量退回操作响应时间在5秒以内', '大数据量退回操作响应时间在可接受范围内（根据业务需求定义）', '系统在高负载下保持稳定', '性能指标符合预定义标准'], 'priority': 'P2', 'category': '端到端测试', 'description': ''}, {'id': 'TC-测试场景TS001-005', 'title': '测试场景TS001：需要提供具体的测试场景 - 测试场景TS001 - 跨浏览器兼容性场景测试', 'preconditions': ['BrowserStack或其他兼容性测试平台可用', '不同浏览器版本已准备', '测试脚本已开发完成'], 'steps': ['在Chrome最新版本中执行退回操作', '在Firefox最新版本中执行退回操作', '在Safari最新版本中执行退回操作', '在Edge最新版本中执行退回操作', '在移动端浏览器中执行退回操作（如适用）', '记录各浏览器下的功能表现'], 'expected_results': ['在所有支持的浏览器中退回功能正常工作', '用户界面在各浏览器中显示一致', '操作流程在各浏览器中执行无差异', '无浏览器特定的功能缺陷', '兼容性测试通过率100%'], 'priority': 'P2', 'category': '场景测试', 'description': ''}, {'id': 'TC-测试场景TS001-006', 'title': '测试场景TS001：需要提供具体的测试场景 - 测试场景TS001 - 用户体验端到端验证', 'preconditions': ['系统用户界面可用', '用户体验测试 checklist 已准备', '测试用户账户可用'], 'steps': ['执行退回操作前验证确认提示信息', '执行退回操作并观察操作反馈', '模拟错误场景（如网络中断）', '验证错误处理机制', '检查操作完成后的状态反馈', '评估整体操作流程的易用性'], 'expected_results': ['执行退回前显示明确的确认提示', '操作过程中提供清晰的进度反馈', '错误场景下显示友好的错误消息', '操作完成后提供明确的结果反馈', '整体用户体验评分达到预定标准', '可用性测试通过'], 'priority': 'P3', 'category': '端到端测试', 'description': ''}], 'review_comments': []}
2025-08-29 09:23:49 - src.agents.test_case_writer - WARNING - 未找到有效的反馈内容
2025-08-29 09:23:49 - src.agents.assistant - INFO - 测试用例已根据质量审查意见进行改进
2025-08-29 09:23:49 - src.utils.agent_io - INFO - 已保存test_case_writer的执行结果到agent_results/test_case_writer_result.json
2025-08-29 09:23:49 - src.agents.assistant - INFO - 改进后的测试用例已保存到agent_results目录
2025-08-29 09:23:49 - src.agents.assistant - INFO - 当前进度: 4/4 - 当前阶段: completed
2025-08-29 09:23:49 - src.agents.assistant - INFO - 协调结果是字典类型: {'content': '正确', 'role': 'assistant', 'name': 'coordinator'}
2025-08-29 09:23:49 - __main__ - INFO - 工作流程协调结果：{'status': 'completed', 'current_phase': 'completed', 'assigned_tasks': [], 'completed_tasks': ['需求分析', '测试设计', '测试用例编写', '质量保证'], 'next_steps': []}
2025-08-29 09:23:49 - src.utils.agent_io - INFO - 已加载test_case_writer的执行结果
2025-08-29 09:23:49 - __main__ - INFO - 从test_case_writer的持久化存储中加载最终的测试用例
2025-08-29 09:23:49 - __main__ - ERROR - 加载模板时出错：name 'json' is not defined
2025-08-29 09:23:50 - src.services.export_service - ERROR - 导出测试用例到Excel失败：'Worksheet' object has no attribute 'colunm_dimensions'
2025-08-29 09:23:50 - __main__ - ERROR - 处理需求时出错：'Worksheet' object has no attribute 'colunm_dimensions'
2025-08-29 09:38:49 - root - INFO - Logging configured with level: INFO, file: logs/ai_test.log
2025-08-29 09:38:50 - src.utils.agent_io - WARNING - 找不到test_designer的结果文件: agent_results/test_designer_result.json
2025-08-29 09:38:50 - src.agents.test_case_writer - INFO - 测试用例编写代理初始化，设置并发工作线程数为: 1
2025-08-29 09:38:50 - src.utils.agent_io - WARNING - 找不到test_case_writer的结果文件: agent_results/test_case_writer_result.json
2025-08-29 09:38:50 - src.agents.quality_assurance - INFO - 质量保证代理初始化，并发工作线程数: 1
2025-08-29 09:38:50 - src.utils.agent_io - WARNING - 找不到quality_assurance的结果文件: agent_results/quality_assurance_result.json
2025-08-29 09:38:50 - __main__ - INFO - 已处理需求文档：docs/荣耀0827退回重填方案.pdf
2025-08-29 09:38:50 - __main__ - INFO - 开始协调测试用例生成工作流程
2025-08-29 09:38:50 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:39:18 - src.agents.assistant - INFO - 开始协调测试任务流程
2025-08-29 09:39:18 - src.agents.assistant - INFO - 开始需求分析
2025-08-29 09:39:18 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:39:44 - src.agents.requirement_analyst - INFO - AI响应内容: {
    "functional_requirements": [
        "仅集团用户可执行一键退回操作",
        "一键退回按钮在状态=审批通过且当前用户=超管时显示",
        "退回时必须填写退回原因并清空历史审批意见",
        "退回后状态变为上级驳回，填报人修改后重新提交",
        "流程从退回→上级审批中开始新一轮审批",
      ...
2025-08-29 09:39:44 - src.agents.requirement_analyst - INFO - 成功从JSON响应中提取分析结果
2025-08-29 09:39:44 - src.utils.agent_io - INFO - 已保存requirement_analyst的执行结果到agent_results/requirement_analyst_result.json
2025-08-29 09:39:44 - src.agents.assistant - INFO - 需求分析完成，结果: {'msg_type': 'requirement_analysis_response', 'version': '1.0', 'timestamp': None, 'functional_requirements': ['仅集团用户可执行一键退回操作', '一键退回按钮在状态=审批通过且当前用户=超管时显示', '退回时必须填写退回原因并清空历史审批意见', '退回后状态变为上级驳回，填报人修改后重新提交', '流程从退回→上级审批中开始新一轮审批', '一键退回操作只在叶子节点展示入口'], 'non_functional_requirements': ['权限控制：确保只有集团超管用户才能看到和操作一键退回功能', '数据一致性：退回操作需清空历史审批意见并保持数据完整性', '界面响应：一键退回操作的界面响应时间应在合理范围内'], 'test_scenarios': [{'id': 'TS001', 'description': '需要提供具体的测试场景', 'test_steps': []}], 'risk_areas': ['权限控制风险：可能存在权限绕过漏洞，非授权用户执行退回操作', '数据一致性风险：退回操作可能导致数据状态不一致或丢失', '流程中断风险：退回重走审批流程可能出现流程卡顿或中断', '用户体验风险：退回操作确认机制不足可能导致误操作']}
2025-08-29 09:39:44 - src.agents.assistant - INFO - 当前进度: 1/4 - 当前阶段: 测试设计
2025-08-29 09:39:44 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:39:47 - src.agents.assistant - INFO - 用户确认消息: {'content': '正确', 'role': 'user', 'name': 'coordinator'}
2025-08-29 09:39:47 - src.agents.assistant - INFO - 需求分析结果已确认正确，开始进行测试设计和用例编写
2025-08-29 09:39:47 - src.agents.assistant - INFO - 开始测试设计
2025-08-29 09:39:47 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:40:24 - src.agents.test_designer - INFO - AI响应内容: {'content': '\n```json\n{\n    "test_approach": {\n        "methodology": [\n            "功能测试：验证一键退回功能的完整业务流程，包括权限控制、状态转换、数据清理和流程重启",\n            "安全测试：重点测试权限绕过漏洞，确保只有集团超管才能执行退回操作",\n            "兼容...
2025-08-29 09:40:24 - src.agents.test_designer - INFO - 成功从JSON响应中提取测试策略
2025-08-29 09:40:24 - src.utils.agent_io - INFO - 已保存test_designer的执行结果到agent_results/test_designer_result.json
2025-08-29 09:40:24 - src.agents.test_designer - INFO - 测试设计完成
2025-08-29 09:40:24 - src.agents.assistant - INFO - 测试设计原始结果: {'test_approach': {'methodology': ['功能测试：验证一键退回功能的完整业务流程，包括权限控制、状态转换、数据清理和流程重启', '安全测试：重点测试权限绕过漏洞，确保只有集团超管才能执行退回操作', '兼容性测试：验证在不同浏览器和设备上的界面显示和功能一致性', '可用性测试：评估用户界面友好性、操作确认机制和错误提示的清晰度'], 'tools': ['Selenium WebDriver', 'Postman', 'JMeter', 'OWASP ZAP'], 'frameworks': ['TestNG', 'JUnit', 'Cucumber BDD']}, 'coverage_matrix': [{'feature': '仅集团用户可执行一键退回操作', 'test_type': '功能测试、安全测试'}, {'feature': '一键退回按钮在状态=审批通过且当前用户=超管时显示', 'test_type': '功能测试、界面测试'}, {'feature': '退回时必须填写退回原因并清空历史审批意见', 'test_type': '功能测试、数据完整性测试'}, {'feature': '退回后状态变为上级驳回，填报人修改后重新提交', 'test_type': '功能测试、流程测试'}, {'feature': '流程从退回→上级审批中开始新一轮审批', 'test_type': '功能测试、端到端测试'}, {'feature': '一键退回操作只在叶子节点展示入口', 'test_type': '功能测试、界面测试'}, {'feature': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能', 'test_type': '安全测试、权限测试'}, {'feature': '数据一致性：退回操作需清空历史审批意见并保持数据完整性', 'test_type': '数据完整性测试、数据库测试'}, {'feature': '界面响应：一键退回操作的界面响应时间应在合理范围内', 'test_type': '性能测试、响应时间测试'}], 'priorities': [{'level': 'P0', 'description': '权限控制验证：确保非集团超管用户无法看到和执行一键退回操作'}, {'level': 'P0', 'description': '数据一致性验证：退回操作必须正确清空历史审批意见并保持数据完整性'}, {'level': 'P1', 'description': '完整业务流程测试：从审批通过状态到退回，再到重新提交和审批流程重启'}, {'level': 'P1', 'description': '界面显示条件验证：一键退回按钮只在正确状态和用户权限下显示'}, {'level': 'P2', 'description': '性能测试：一键退回操作的响应时间在可接受范围内'}, {'level': 'P3', 'description': '兼容性测试：在不同浏览器和设备上的功能一致性'}], 'resource_estimation': {'time': '5-7个工作日', 'personnel': '2名功能测试工程师，1名安全测试工程师，1名性能测试工程师', 'tools': ['Selenium', 'JMeter', 'Postman', 'OWASP ZAP', '浏览器兼容性测试工具'], 'additional_resources': ['测试环境服务器', '不同权限的测试账号', '多种浏览器和设备']}}
2025-08-29 09:40:24 - src.agents.assistant - INFO - 测试设计完成，结果: {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'test_approach': {'methodology': ['功能测试：验证一键退回功能的完整业务流程，包括权限控制、状态转换、数据清理和流程重启', '安全测试：重点测试权限绕过漏洞，确保只有集团超管才能执行退回操作', '兼容性测试：验证在不同浏览器和设备上的界面显示和功能一致性', '可用性测试：评估用户界面友好性、操作确认机制和错误提示的清晰度'], 'tools': ['Selenium WebDriver', 'Postman', 'JMeter', 'OWASP ZAP'], 'frameworks': ['TestNG', 'JUnit', 'Cucumber BDD']}, 'coverage_matrix': [{'feature': '仅集团用户可执行一键退回操作', 'test_type': '功能测试、安全测试'}, {'feature': '一键退回按钮在状态=审批通过且当前用户=超管时显示', 'test_type': '功能测试、界面测试'}, {'feature': '退回时必须填写退回原因并清空历史审批意见', 'test_type': '功能测试、数据完整性测试'}, {'feature': '退回后状态变为上级驳回，填报人修改后重新提交', 'test_type': '功能测试、流程测试'}, {'feature': '流程从退回→上级审批中开始新一轮审批', 'test_type': '功能测试、端到端测试'}, {'feature': '一键退回操作只在叶子节点展示入口', 'test_type': '功能测试、界面测试'}, {'feature': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能', 'test_type': '安全测试、权限测试'}, {'feature': '数据一致性：退回操作需清空历史审批意见并保持数据完整性', 'test_type': '数据完整性测试、数据库测试'}, {'feature': '界面响应：一键退回操作的界面响应时间应在合理范围内', 'test_type': '性能测试、响应时间测试'}], 'priorities': [{'level': 'P0', 'description': '权限控制验证：确保非集团超管用户无法看到和执行一键退回操作'}, {'level': 'P0', 'description': '数据一致性验证：退回操作必须正确清空历史审批意见并保持数据完整性'}, {'level': 'P1', 'description': '完整业务流程测试：从审批通过状态到退回，再到重新提交和审批流程重启'}, {'level': 'P1', 'description': '界面显示条件验证：一键退回按钮只在正确状态和用户权限下显示'}, {'level': 'P2', 'description': '性能测试：一键退回操作的响应时间在可接受范围内'}, {'level': 'P3', 'description': '兼容性测试：在不同浏览器和设备上的功能一致性'}], 'resource_estimation': {'time': '5-7个工作日', 'personnel': '2名功能测试工程师，1名安全测试工程师，1名性能测试工程师', 'tools': ['Selenium', 'JMeter', 'Postman', 'OWASP ZAP', '浏览器兼容性测试工具'], 'additional_resources': ['测试环境服务器', '不同权限的测试账号', '多种浏览器和设备']}}
2025-08-29 09:40:24 - src.agents.assistant - INFO - 测试设计结果已保存到代理实例中
2025-08-29 09:40:24 - src.agents.assistant - INFO - 当前进度: 2/4 - 当前阶段: 测试用例编写
2025-08-29 09:40:24 - src.agents.assistant - INFO - 传递给测试用例编写者的测试策略: {'test_strategy': {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'test_approach': {'methodology': ['功能测试：验证一键退回功能的完整业务流程，包括权限控制、状态转换、数据清理和流程重启', '安全测试：重点测试权限绕过漏洞，确保只有集团超管才能执行退回操作', '兼容性测试：验证在不同浏览器和设备上的界面显示和功能一致性', '可用性测试：评估用户界面友好性、操作确认机制和错误提示的清晰度'], 'tools': ['Selenium WebDriver', 'Postman', 'JMeter', 'OWASP ZAP'], 'frameworks': ['TestNG', 'JUnit', 'Cucumber BDD']}, 'coverage_matrix': [{'feature': '仅集团用户可执行一键退回操作', 'test_type': '功能测试、安全测试'}, {'feature': '一键退回按钮在状态=审批通过且当前用户=超管时显示', 'test_type': '功能测试、界面测试'}, {'feature': '退回时必须填写退回原因并清空历史审批意见', 'test_type': '功能测试、数据完整性测试'}, {'feature': '退回后状态变为上级驳回，填报人修改后重新提交', 'test_type': '功能测试、流程测试'}, {'feature': '流程从退回→上级审批中开始新一轮审批', 'test_type': '功能测试、端到端测试'}, {'feature': '一键退回操作只在叶子节点展示入口', 'test_type': '功能测试、界面测试'}, {'feature': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能', 'test_type': '安全测试、权限测试'}, {'feature': '数据一致性：退回操作需清空历史审批意见并保持数据完整性', 'test_type': '数据完整性测试、数据库测试'}, {'feature': '界面响应：一键退回操作的界面响应时间应在合理范围内', 'test_type': '性能测试、响应时间测试'}], 'priorities': [{'level': 'P0', 'description': '权限控制验证：确保非集团超管用户无法看到和执行一键退回操作'}, {'level': 'P0', 'description': '数据一致性验证：退回操作必须正确清空历史审批意见并保持数据完整性'}, {'level': 'P1', 'description': '完整业务流程测试：从审批通过状态到退回，再到重新提交和审批流程重启'}, {'level': 'P1', 'description': '界面显示条件验证：一键退回按钮只在正确状态和用户权限下显示'}, {'level': 'P2', 'description': '性能测试：一键退回操作的响应时间在可接受范围内'}, {'level': 'P3', 'description': '兼容性测试：在不同浏览器和设备上的功能一致性'}], 'resource_estimation': {'time': '5-7个工作日', 'personnel': '2名功能测试工程师，1名安全测试工程师，1名性能测试工程师', 'tools': ['Selenium', 'JMeter', 'Postman', 'OWASP ZAP', '浏览器兼容性测试工具'], 'additional_resources': ['测试环境服务器', '不同权限的测试账号', '多种浏览器和设备']}}}
2025-08-29 09:40:24 - src.agents.assistant - INFO - 开始测试用例编写
2025-08-29 09:40:24 - src.agents.test_case_writer - INFO - 将按9个功能点分配生成测试用例
2025-08-29 09:40:24 - src.agents.test_case_writer - INFO - 使用顺序方式处理功能点
2025-08-29 09:40:24 - src.agents.test_case_writer - INFO - 开始为功能点'仅集团用户可执行一键退回操作'生成测试用例，第1/9个
2025-08-29 09:40:24 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:41:18 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 7 个测试用例
2025-08-29 09:41:18 - src.agents.test_case_writer - INFO - 成功为功能点 '仅集团用户可执行一键退回操作' 生成 7 个测试用例
2025-08-29 09:41:18 - src.agents.test_case_writer - INFO - 为功能点'仅集团用户可执行一键退回操作'生成了 7 个测试用例
2025-08-29 09:41:18 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_1的执行结果到agent_results/test_case_writer_feature_1_result.json
2025-08-29 09:41:18 - src.agents.test_case_writer - INFO - 已保存功能点：'仅集团用户可执行一键退回操作'的测试用例生成结果
2025-08-29 09:41:18 - src.agents.test_case_writer - INFO - 开始为功能点'一键退回按钮在状态=审批通过且当前用户=超管时显示'生成测试用例，第2/9个
2025-08-29 09:41:18 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:42:23 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 8 个测试用例
2025-08-29 09:42:23 - src.agents.test_case_writer - INFO - 成功为功能点 '一键退回按钮在状态=审批通过且当前用户=超管时显示' 生成 8 个测试用例
2025-08-29 09:42:23 - src.agents.test_case_writer - INFO - 为功能点'一键退回按钮在状态=审批通过且当前用户=超管时显示'生成了 8 个测试用例
2025-08-29 09:42:23 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_2的执行结果到agent_results/test_case_writer_feature_2_result.json
2025-08-29 09:42:23 - src.agents.test_case_writer - INFO - 已保存功能点：'一键退回按钮在状态=审批通过且当前用户=超管时显示'的测试用例生成结果
2025-08-29 09:42:23 - src.agents.test_case_writer - INFO - 开始为功能点'退回时必须填写退回原因并清空历史审批意见'生成测试用例，第3/9个
2025-08-29 09:42:23 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:43:22 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 7 个测试用例
2025-08-29 09:43:22 - src.agents.test_case_writer - INFO - 成功为功能点 '退回时必须填写退回原因并清空历史审批意见' 生成 7 个测试用例
2025-08-29 09:43:22 - src.agents.test_case_writer - INFO - 为功能点'退回时必须填写退回原因并清空历史审批意见'生成了 7 个测试用例
2025-08-29 09:43:22 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_3的执行结果到agent_results/test_case_writer_feature_3_result.json
2025-08-29 09:43:22 - src.agents.test_case_writer - INFO - 已保存功能点：'退回时必须填写退回原因并清空历史审批意见'的测试用例生成结果
2025-08-29 09:43:22 - src.agents.test_case_writer - INFO - 开始为功能点'退回后状态变为上级驳回，填报人修改后重新提交'生成测试用例，第4/9个
2025-08-29 09:43:22 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:44:14 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 6 个测试用例
2025-08-29 09:44:14 - src.agents.test_case_writer - INFO - 成功为功能点 '退回后状态变为上级驳回，填报人修改后重新提交' 生成 6 个测试用例
2025-08-29 09:44:14 - src.agents.test_case_writer - INFO - 为功能点'退回后状态变为上级驳回，填报人修改后重新提交'生成了 6 个测试用例
2025-08-29 09:44:14 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_4的执行结果到agent_results/test_case_writer_feature_4_result.json
2025-08-29 09:44:14 - src.agents.test_case_writer - INFO - 已保存功能点：'退回后状态变为上级驳回，填报人修改后重新提交'的测试用例生成结果
2025-08-29 09:44:14 - src.agents.test_case_writer - INFO - 开始为功能点'流程从退回→上级审批中开始新一轮审批'生成测试用例，第5/9个
2025-08-29 09:44:14 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:45:13 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 7 个测试用例
2025-08-29 09:45:13 - src.agents.test_case_writer - INFO - 成功为功能点 '流程从退回→上级审批中开始新一轮审批' 生成 7 个测试用例
2025-08-29 09:45:13 - src.agents.test_case_writer - INFO - 为功能点'流程从退回→上级审批中开始新一轮审批'生成了 7 个测试用例
2025-08-29 09:45:13 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_5的执行结果到agent_results/test_case_writer_feature_5_result.json
2025-08-29 09:45:13 - src.agents.test_case_writer - INFO - 已保存功能点：'流程从退回→上级审批中开始新一轮审批'的测试用例生成结果
2025-08-29 09:45:13 - src.agents.test_case_writer - INFO - 开始为功能点'一键退回操作只在叶子节点展示入口'生成测试用例，第6/9个
2025-08-29 09:45:13 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:46:36 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 10 个测试用例
2025-08-29 09:46:36 - src.agents.test_case_writer - INFO - 成功为功能点 '一键退回操作只在叶子节点展示入口' 生成 10 个测试用例
2025-08-29 09:46:36 - src.agents.test_case_writer - INFO - 为功能点'一键退回操作只在叶子节点展示入口'生成了 10 个测试用例
2025-08-29 09:46:36 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_6的执行结果到agent_results/test_case_writer_feature_6_result.json
2025-08-29 09:46:36 - src.agents.test_case_writer - INFO - 已保存功能点：'一键退回操作只在叶子节点展示入口'的测试用例生成结果
2025-08-29 09:46:36 - src.agents.test_case_writer - INFO - 开始为功能点'权限控制：确保只有集团超管用户才能看到和操作一键退回功能'生成测试用例，第7/9个
2025-08-29 09:46:36 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:48:00 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 9 个测试用例
2025-08-29 09:48:00 - src.agents.test_case_writer - INFO - 成功为功能点 '权限控制：确保只有集团超管用户才能看到和操作一键退回功能' 生成 9 个测试用例
2025-08-29 09:48:00 - src.agents.test_case_writer - INFO - 为功能点'权限控制：确保只有集团超管用户才能看到和操作一键退回功能'生成了 9 个测试用例
2025-08-29 09:48:00 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_7的执行结果到agent_results/test_case_writer_feature_7_result.json
2025-08-29 09:48:00 - src.agents.test_case_writer - INFO - 已保存功能点：'权限控制：确保只有集团超管用户才能看到和操作一键退回功能'的测试用例生成结果
2025-08-29 09:48:00 - src.agents.test_case_writer - INFO - 开始为功能点'数据一致性：退回操作需清空历史审批意见并保持数据完整性'生成测试用例，第8/9个
2025-08-29 09:48:00 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:48:46 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 5 个测试用例
2025-08-29 09:48:46 - src.agents.test_case_writer - INFO - 成功为功能点 '数据一致性：退回操作需清空历史审批意见并保持数据完整性' 生成 5 个测试用例
2025-08-29 09:48:46 - src.agents.test_case_writer - INFO - 为功能点'数据一致性：退回操作需清空历史审批意见并保持数据完整性'生成了 5 个测试用例
2025-08-29 09:48:46 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_8的执行结果到agent_results/test_case_writer_feature_8_result.json
2025-08-29 09:48:46 - src.agents.test_case_writer - INFO - 已保存功能点：'数据一致性：退回操作需清空历史审批意见并保持数据完整性'的测试用例生成结果
2025-08-29 09:48:46 - src.agents.test_case_writer - INFO - 开始为功能点'界面响应：一键退回操作的界面响应时间应在合理范围内'生成测试用例，第9/9个
2025-08-29 09:48:46 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 成功从JSON代码块中解析出 3 个测试用例
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 成功为功能点 '界面响应：一键退回操作的界面响应时间应在合理范围内' 生成 3 个测试用例
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 为功能点'界面响应：一键退回操作的界面响应时间应在合理范围内'生成了 3 个测试用例
2025-08-29 09:49:20 - src.utils.agent_io - INFO - 已保存test_case_writer_feature_9的执行结果到agent_results/test_case_writer_feature_9_result.json
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已保存功能点：'界面响应：一键退回操作的界面响应时间应在合理范围内'的测试用例生成结果
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 测试覆盖矩阵测试点总数: 9
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已覆盖测试点数量: 9
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 测试用例生成完成，共生成 62 个测试用例
2025-08-29 09:49:20 - src.utils.agent_io - INFO - 已保存test_case_writer的执行结果到agent_results/test_case_writer_result.json
2025-08-29 09:49:20 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_1的执行结果
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已加载功能点 1 的测试用例，共 7 个
2025-08-29 09:49:20 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_2的执行结果
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已加载功能点 2 的测试用例，共 8 个
2025-08-29 09:49:20 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_3的执行结果
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已加载功能点 3 的测试用例，共 7 个
2025-08-29 09:49:20 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_4的执行结果
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已加载功能点 4 的测试用例，共 6 个
2025-08-29 09:49:20 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_5的执行结果
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已加载功能点 5 的测试用例，共 7 个
2025-08-29 09:49:20 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_6的执行结果
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已加载功能点 6 的测试用例，共 10 个
2025-08-29 09:49:20 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_7的执行结果
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已加载功能点 7 的测试用例，共 9 个
2025-08-29 09:49:20 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_8的执行结果
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已加载功能点 8 的测试用例，共 5 个
2025-08-29 09:49:20 - src.utils.agent_io - INFO - 已加载test_case_writer_feature_9的执行结果
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已加载功能点 9 的测试用例，共 3 个
2025-08-29 09:49:20 - src.utils.agent_io - INFO - 已保存test_case_writer的执行结果到agent_results/test_case_writer_result.json
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已合并所有功能点的测试用例，共 62 个
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_1_result.json
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_2_result.json
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_3_result.json
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_4_result.json
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_5_result.json
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_6_result.json
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_7_result.json
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_8_result.json
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 已删除临时测试用例文件: agent_results/test_case_writer_feature_9_result.json
2025-08-29 09:49:20 - src.agents.test_case_writer - INFO - 所有临时测试用例文件已清理完毕
2025-08-29 09:49:20 - src.agents.assistant - INFO - 测试用例生成完成，结果: {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'test_cases': [{'id': 'TC-仅集团用户可执行一键退回操作-001', 'title': '仅集团用户可执行一键退回操作 - 验证非集团超管用户无法执行一键退回操作', 'preconditions': ['系统已登录普通用户账号', '审批流程处于可退回状态', '用户拥有除一键退回外的其他操作权限'], 'steps': ['导航至审批流程详情页面', '检查页面是否显示一键退回按钮', '尝试通过URL直接访问一键退回API端点'], 'expected_results': ['页面不显示一键退回按钮', 'API调用返回403权限拒绝错误', '系统记录安全审计日志'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-002', 'title': '仅集团用户可执行一键退回操作 - 验证集团超管用户可正常执行一键退回操作', 'preconditions': ['系统已登录集团超管账号', '审批流程处于审批通过状态', '流程包含历史审批意见数据'], 'steps': ['导航至审批流程详情页面', '点击一键退回按钮', '确认退回操作提示', '验证流程状态变化'], 'expected_results': ['页面正确显示一键退回按钮', '系统清空所有历史审批意见', '流程状态正确退回至初始状态', '生成退回操作审计记录'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-003', 'title': '仅集团用户可执行一键退回操作 - 验证一键退回操作的数据完整性', 'preconditions': ['系统已登录集团超管账号', '审批流程包含多级审批意见', '流程关联业务数据已生成'], 'steps': ['执行一键退回操作', '验证业务核心数据完整性', '检查关联数据表状态', '确认流程可重新提交审批'], 'expected_results': ['核心业务数据保持完整未受影响', '仅审批意见数据被正确清空', '流程可正常重新提交并启动审批', '数据库事务完整性得到保证'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-004', 'title': '仅集团用户可执行一键退回操作 - 验证一键退回完整业务流程', 'preconditions': ['系统已登录集团超管账号', '审批流程已完成审批', '具备重新提交审批的权限'], 'steps': ['执行一键退回操作', '重新填写并提交审批申请', '启动新一轮审批流程', '完成全部审批环节'], 'expected_results': ['退回后流程状态正确重置', '重新提交审批流程正常启动', '新一轮审批可顺利完成', '系统各环节状态转换正确'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-005', 'title': '仅集团用户可执行一键退回操作 - 验证界面按钮显示条件', 'preconditions': ['使用不同权限用户账号登录', '流程处于不同状态（待审批、审批中、已审批）'], 'steps': ['使用集团超管查看不同状态流程', '使用普通用户查看相同流程', '验证按钮显示逻辑', '检查界面元素状态'], 'expected_results': ['仅集团超管在已审批状态看到退回按钮', '其他状态和用户均不显示退回按钮', '界面元素状态与权限和流程状态匹配', '用户体验符合预期设计'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-006', 'title': '仅集团用户可执行一键退回操作 - 验证一键退回操作性能', 'preconditions': ['系统负载正常', '准备包含大量审批意见的测试数据', '性能监控工具已就绪'], 'steps': ['执行一键退回操作', '记录操作响应时间', '监控系统资源使用情况', '验证并发操作性能'], 'expected_results': ['单次操作响应时间小于2秒', '系统资源使用在正常范围内', '并发操作时性能表现稳定', '无内存泄漏或性能退化'], 'priority': 'P2', 'category': '功能测试'}, {'id': 'TC-仅集团用户可执行一键退回操作-007', 'title': '仅集团用户可执行一键退回操作 - 验证跨浏览器兼容性', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器', '集团超管账号可用', '流程处于可退回状态'], 'steps': ['在不同浏览器中登录系统', '执行一键退回操作', '验证界面显示一致性', '检查功能操作结果'], 'expected_results': ['所有浏览器界面显示一致', '功能操作结果相同', '无浏览器特定错误', '用户体验跨平台一致'], 'priority': 'P3', 'category': '功能测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-001', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证集团超管在审批通过状态下可见一键退回按钮', 'preconditions': ['系统已登录集团超管账户', "存在状态为'审批通过'的业务单据", '当前页面显示该业务单据详情'], 'steps': ['导航至审批通过状态的业务单据详情页面', '检查页面UI元素', '确认一键退回按钮是否显示'], 'expected_results': ['一键退回按钮在页面中清晰可见', '按钮状态为可点击状态', '按钮位置和样式符合UI设计规范'], 'priority': 'P1', 'category': '界面测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-002', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证非超管用户在审批通过状态下不可见一键退回按钮', 'preconditions': ['系统已登录普通用户账户', "存在状态为'审批通过'的业务单据", '当前页面显示该业务单据详情'], 'steps': ['导航至审批通过状态的业务单据详情页面', '检查页面UI元素', '确认一键退回按钮是否显示'], 'expected_results': ['一键退回按钮在页面中不可见', '页面无任何退回相关操作入口', '用户无法通过任何方式触发退回操作'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-003', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证超管在非审批通过状态下不可见一键退回按钮', 'preconditions': ['系统已登录集团超管账户', "存在状态不为'审批通过'的业务单据（如审批中、已驳回等）", '当前页面显示该业务单据详情'], 'steps': ['导航至非审批通过状态的业务单据详情页面', '检查页面UI元素', '确认一键退回按钮是否显示'], 'expected_results': ['一键退回按钮在页面中不可见', '页面显示与当前状态相符的正确操作按钮', '无任何退回相关操作入口显示'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-004', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证权限绕过漏洞-直接API调用退回操作', 'preconditions': ['系统已登录普通用户账户', "存在状态为'审批通过'的业务单据", '获取一键退回操作的API端点信息'], 'steps': ['使用普通用户权限直接调用一键退回API', '尝试执行退回操作', '检查API响应结果'], 'expected_results': ['API返回权限不足错误（如403 Forbidden）', "业务单据状态保持为'审批通过'不变", '系统记录非法操作尝试日志'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-005', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证一键退回操作后的数据完整性', 'preconditions': ['系统已登录集团超管账户', "存在状态为'审批通过'且包含历史审批意见的业务单据"], 'steps': ['执行一键退回操作', '确认操作成功执行', '检查业务单据数据和审批历史记录'], 'expected_results': ["业务单据状态正确变更为'已退回'", '历史审批意见被正确清空', '退回操作记录被正确保存到操作日志', '业务核心数据保持完整未被破坏'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-006', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证一键退回按钮在不同浏览器的兼容性', 'preconditions': ['系统已登录集团超管账户', "存在状态为'审批通过'的业务单据", '准备Chrome、Firefox、Safari、Edge浏览器环境'], 'steps': ['在不同浏览器中登录系统', '导航至审批通过状态的业务单据详情页面', '检查一键退回按钮的显示和功能'], 'expected_results': ['在所有浏览器中一键退回按钮正常显示', '按钮样式和位置保持一致', '点击功能在所有浏览器中正常工作', '无界面错位或显示异常'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-007', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证一键退回操作的性能响应时间', 'preconditions': ['系统已登录集团超管账户', "存在状态为'审批通过'的业务单据", '性能监控工具准备就绪'], 'steps': ['执行一键退回操作', '记录从点击到操作完成的响应时间', '重复测试多次取平均值'], 'expected_results': ['操作响应时间小于2秒', '系统资源使用在正常范围内', '无内存泄漏或性能下降现象', '高并发场景下操作仍能正常完成'], 'priority': 'P2', 'category': '功能测试'}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-008', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证一键退回操作的用户确认机制', 'preconditions': ['系统已登录集团超管账户', "存在状态为'审批通过'的业务单据"], 'steps': ['点击一键退回按钮', '观察系统弹出的确认对话框', '测试确认和取消操作'], 'expected_results': ['点击按钮后弹出明确的确认对话框', '对话框包含操作风险和后果提示', '确认后操作正常执行', '取消后操作中止且状态不变'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-001', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证集团超管执行退回操作时填写退回原因并清空历史审批意见', 'preconditions': ['系统中有已审批通过的业务单据', '当前登录用户为集团超管权限', '单据处于可退回状态'], 'steps': ['登录系统并导航到目标业务单据详情页面', '点击一键退回按钮', '在弹出的退回原因对话框中输入退回原因', '确认执行退回操作', '查看单据状态和历史审批记录'], 'expected_results': ['退回操作成功执行', '单据状态正确变更为待重新提交', '历史审批意见被清空', '退回原因被正确记录在操作日志中'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-002', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证非集团超管用户无法执行退回操作', 'preconditions': ['系统中有已审批通过的业务单据', '当前登录用户为普通用户权限', '单据处于可退回状态'], 'steps': ['使用普通用户账号登录系统', '导航到目标业务单据详情页面', '检查页面是否显示一键退回按钮'], 'expected_results': ['页面不显示一键退回按钮', '用户无法通过任何方式执行退回操作', '系统返回权限不足的错误提示'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-003', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证退回操作后数据完整性保持', 'preconditions': ['系统中有已审批通过的业务单据', '单据包含多条历史审批意见', '当前登录用户为集团超管权限'], 'steps': ['执行退回操作并填写退回原因', '检查数据库中的审批意见表', '验证单据基本信息未被修改', '检查操作日志记录'], 'expected_results': ['历史审批意见表相关记录被正确清空', '单据基本信息保持完整未被修改', '退回操作被正确记录在操作日志中', '数据表约束关系保持完整'], 'priority': 'P0', 'category': '数据完整性测试'}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-004', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证退回后重新提交和审批流程重启', 'preconditions': ['业务单据已被成功退回', '当前用户有权限重新提交单据'], 'steps': ['登录系统并导航到已退回的单据', '修改单据内容并重新提交', '验证审批流程重新启动', '检查新的审批记录'], 'expected_results': ['单据可以正常重新提交', '审批流程从初始状态重新开始', '新的审批意见独立记录，不与历史记录混淆', '退回原因在重新提交后仍可查看'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-005', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证退回按钮显示条件控制', 'preconditions': ['系统中有不同状态的业务单据', '当前登录用户为集团超管权限'], 'steps': ['查看审批中的单据详情页面', '查看已审批通过的单据详情页面', '查看已退回的单据详情页面', '查看已完成审批的单据详情页面'], 'expected_results': ['只在已审批通过状态的单据显示一键退回按钮', '其他状态的单据不显示退回按钮', '按钮状态和样式符合设计要求'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-006', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证退回操作性能响应时间', 'preconditions': ['系统中有大量历史审批意见的单据', '性能测试环境已搭建完成'], 'steps': ['使用性能测试工具模拟执行退回操作', '监控服务器响应时间和资源消耗', '执行并发退回操作测试', '分析性能测试结果数据'], 'expected_results': ['单次退回操作响应时间小于2秒', '并发操作时系统性能表现稳定', '数据库操作效率在可接受范围内', '内存和CPU使用率正常'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-007', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证跨浏览器兼容性', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器环境', '系统中有可退回的业务单据'], 'steps': ['在不同浏览器中登录系统', '执行退回操作流程', '验证界面显示和功能一致性', '检查各浏览器下的错误提示和处理'], 'expected_results': ['所有浏览器中退回功能正常工作', '界面布局和样式保持一致', '弹出窗口和对话框显示正常', '错误处理和提示信息一致'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-001', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证集团超管执行一键退回操作后状态变为上级驳回', 'preconditions': ['系统存在已审批通过的表单', '当前用户为集团超级管理员', '表单处于可退回状态'], 'steps': ['登录系统作为集团超管', '导航至待处理表单列表', '选择已审批通过的表单', '点击一键退回按钮', '确认退回操作'], 'expected_results': ["表单状态从'审批通过'变为'上级驳回'", '历史审批意见被清空', '系统显示退回成功提示信息', '填报人收到退回通知'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-002', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证非集团超管用户无法执行一键退回操作', 'preconditions': ['系统存在已审批通过的表单', '当前用户为非集团超级管理员（如普通用户或部门管理员）', '表单处于可退回状态'], 'steps': ['登录系统作为非集团超管用户', '导航至待处理表单列表', '查看已审批通过的表单详情页面'], 'expected_results': ['一键退回按钮不可见或处于禁用状态', '用户无法执行退回操作', '系统无权限执行操作的错误提示（如果尝试非法访问）'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-003', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证填报人修改驳回表单后重新提交的完整流程', 'preconditions': ["表单已被集团超管退回，状态为'上级驳回'", '当前用户为表单填报人', '填报人已收到退回通知'], 'steps': ['登录系统作为填报人', '查看被退回的表单', '根据驳回原因修改表单内容', '点击重新提交按钮', '确认提交操作'], 'expected_results': ["表单状态从'上级驳回'变为'待审批'", '修改后的表单数据正确保存', '审批流程重新启动', '相关审批人收到新的审批通知'], 'priority': 'P1', 'category': '流程测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-004', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证一键退回按钮在不同状态和权限下的显示条件', 'preconditions': ['系统存在不同状态的表单（审批中、审批通过、已驳回等）', '使用不同权限用户登录系统'], 'steps': ['使用集团超管登录系统', '查看不同状态表单的详情页面', '使用非集团超管用户登录系统', '查看相同状态表单的详情页面'], 'expected_results': ['一键退回按钮仅在表单为审批通过状态且用户为集团超管时显示', '其他状态或权限下一键退回按钮隐藏或禁用', '界面显示符合业务规则和权限控制要求'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-005', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证一键退回操作在不同浏览器下的兼容性', 'preconditions': ['准备Chrome、Firefox、Safari、Edge等主流浏览器', '系统存在已审批通过的表单', '当前用户为集团超级管理员'], 'steps': ['在不同浏览器中登录系统', '执行一键退回操作', '观察界面显示和功能执行情况'], 'expected_results': ['所有浏览器中一键退回功能正常工作', '界面显示一致，无布局错乱', '状态转换和数据清理功能在所有浏览器中表现一致'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-006', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证一键退回操作的性能响应时间', 'preconditions': ['系统存在大量已审批通过的表单', '性能测试环境已搭建完成', 'JMeter测试脚本准备就绪'], 'steps': ['使用JMeter模拟并发一键退回操作', '监控系统响应时间和资源消耗', '记录性能指标数据'], 'expected_results': ['单次一键退回操作响应时间小于2秒', '并发操作下系统响应时间在可接受范围内', '系统资源消耗正常，无内存泄漏或性能下降'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-001', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证非集团超管用户无法执行一键退回操作', 'preconditions': ['系统存在已审批通过的业务流程', '测试用户为非集团超管权限（如普通审批员）', '用户已登录系统'], 'steps': ['导航到已审批完成的业务流程详情页面', '检查页面是否显示一键退回按钮', '尝试通过直接URL访问或API调用执行退回操作'], 'expected_results': ['页面不显示一键退回按钮', '直接操作尝试返回权限错误提示', '系统记录未授权访问日志'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-002', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证集团超管执行退回操作的数据一致性', 'preconditions': ['系统存在已审批通过的业务流程', '测试用户为集团超管权限', '流程包含历史审批意见和数据'], 'steps': ['以集团超管身份登录系统', '导航到目标业务流程详情页面', '点击一键退回按钮并确认操作', '验证流程状态和数据变化'], 'expected_results': ['历史审批意见被正确清空', "流程状态变更为'上级审批中'", '业务数据完整性保持，无数据丢失或损坏', '生成正确的操作日志记录'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-003', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证完整业务流程从退回到重新审批', 'preconditions': ['系统存在已审批通过的业务流程', '集团超管用户已登录', '审批流程配置完整'], 'steps': ['执行一键退回操作将流程退回', "验证流程状态变为'上级审批中'", '模拟上级审批员重新提交审批', '验证审批流程正常重启并完成'], 'expected_results': ['退回后流程正确进入新一轮审批状态', '审批流程可正常重启和执行', '最终可成功完成审批流程', '所有状态转换符合业务规则'], 'priority': 'P1', 'category': '端到端测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-004', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证一键退回按钮的显示条件', 'preconditions': ['系统存在不同状态的业务流程', '用户具有不同权限级别', '多种业务流程类型存在'], 'steps': ['使用不同权限用户登录系统', '访问处于不同状态的业务流程详情页', '检查一键退回按钮的显示状态', '验证按钮只在正确条件和权限下显示'], 'expected_results': ['按钮仅在流程为审批通过状态时显示', '按钮仅对集团超管权限用户显示', '其他状态和权限下按钮隐藏或不可见', '界面显示符合业务规则要求'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-005', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证一键退回操作的性能表现', 'preconditions': ['系统存在大量数据的业务流程', '性能测试环境已搭建', '监控工具准备就绪'], 'steps': ['使用JMeter模拟并发退回操作请求', '执行退回操作并记录响应时间', '监控系统资源使用情况', '分析性能数据并评估是否符合要求'], 'expected_results': ['单次退回操作响应时间小于2秒', '并发操作下系统保持稳定', '资源使用在可接受范围内', '无内存泄漏或性能退化'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-006', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证跨浏览器兼容性的一键退回功能', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器', '系统可正常访问', '测试用例流程已准备'], 'steps': ['在不同浏览器中登录系统', '执行一键退回操作流程', '验证界面显示和功能一致性', '检查各浏览器下的操作结果'], 'expected_results': ['所有浏览器功能正常可用', '界面显示一致无错位', '操作流程和结果保持一致', '无浏览器特定的功能缺陷'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-007', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证退回操作的权限安全控制', 'preconditions': ['OWASP ZAP安全扫描工具已配置', '系统存在测试用业务流程', '不同权限用户账户已准备'], 'steps': ['使用普通用户权限尝试执行退回API调用', '使用ZAP进行权限绕过漏洞扫描', '验证API层的权限校验机制', '检查是否存在未授权访问漏洞'], 'expected_results': ['普通用户API调用返回权限错误', '安全扫描未发现权限绕过漏洞', '所有API端点都有正确的权限校验', '系统记录所有未授权访问尝试'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-一键退回操作只在叶子节点展示入口-001', 'title': '一键退回操作只在叶子节点展示入口 - 验证集团超管在叶子节点审批通过状态下可见一键退回按钮', 'preconditions': ['用户已登录系统且为集团超管角色', '流程已到达叶子节点且状态为审批通过', '当前节点为流程的最终审批节点'], 'steps': ['登录系统并导航到审批流程页面', '找到处于审批通过状态的叶子节点审批记录', '检查该节点操作区域是否显示一键退回按钮'], 'expected_results': ['一键退回按钮在叶子节点审批通过状态下正确显示', '按钮状态为可点击且样式符合设计规范'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-一键退回操作只在叶子节点展示入口-002', 'title': '一键退回操作只在叶子节点展示入口 - 验证非叶子节点不显示一键退回按钮', 'preconditions': ['用户已登录系统且为集团超管角色', '流程中存在非叶子节点的审批记录', '非叶子节点状态为审批通过'], 'steps': ['登录系统并导航到审批流程页面', '找到非叶子节点的审批通过记录', '检查该节点操作区域是否显示一键退回按钮'], 'expected_results': ['非叶子节点操作区域不显示一键退回按钮', '只有叶子节点才会显示该功能入口'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-一键退回操作只在叶子节点展示入口-003', 'title': '一键退回操作只在叶子节点展示入口 - 验证非集团超管用户在叶子节点无法看到一键退回按钮', 'preconditions': ['用户已登录系统且为非集团超管角色（如普通用户或部门管理员）', '流程已到达叶子节点且状态为审批通过'], 'steps': ['使用非集团超管账号登录系统', '导航到叶子节点审批通过记录页面', '检查操作区域是否显示一键退回按钮'], 'expected_results': ['非集团超管用户无法看到一键退回按钮', '操作区域不显示该功能入口，确保权限控制有效'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-一键退回操作只在叶子节点展示入口-004', 'title': '一键退回操作只在叶子节点展示入口 - 验证非审批通过状态的叶子节点不显示一键退回按钮', 'preconditions': ['用户已登录系统且为集团超管角色', '叶子节点处于非审批通过状态（如审批中、已驳回等）'], 'steps': ['登录系统并导航到审批流程页面', '找到处于非审批通过状态的叶子节点记录', '检查操作区域是否显示一键退回按钮'], 'expected_results': ['非审批通过状态的叶子节点不显示一键退回按钮', '只有审批通过状态的叶子节点才会显示该功能'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-一键退回操作只在叶子节点展示入口-005', 'title': '一键退回操作只在叶子节点展示入口 - 验证一键退回操作后数据清理和流程重启功能', 'preconditions': ['用户已登录系统且为集团超管角色', '叶子节点处于审批通过状态', '存在历史审批意见数据'], 'steps': ['点击叶子节点的一键退回按钮', '确认退回操作', '检查审批流程状态变化', '验证历史审批意见是否被正确清空', '检查流程是否重新启动到初始提交状态'], 'expected_results': ['一键退回操作成功执行', '历史审批意见被正确清空，数据完整性得到保持', '流程状态正确重置并重新启动', '相关数据表记录更新正确'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-一键退回操作只在叶子节点展示入口-006', 'title': '一键退回操作只在叶子节点展示入口 - 验证不同浏览器下叶子节点一键退回按钮显示一致性', 'preconditions': ['用户已登录系统且为集团超管角色', '流程已到达叶子节点且状态为审批通过', '准备Chrome、Firefox、Safari、Edge浏览器环境'], 'steps': ['在不同浏览器中登录系统', '导航到叶子节点审批通过记录页面', '检查一键退回按钮的显示位置、样式和功能一致性'], 'expected_results': ['在所有支持的浏览器中一键退回按钮显示一致', '按钮功能在所有浏览器中正常工作', '界面布局和样式在不同浏览器中保持一致'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-一键退回操作只在叶子节点展示入口-007', 'title': '一键退回操作只在叶子节点展示入口 - 验证移动设备上叶子节点一键退回按钮显示和操作', 'preconditions': ['用户已登录系统且为集团超管角色', '流程已到达叶子节点且状态为审批通过', '使用移动设备（iOS和Android）访问系统'], 'steps': ['在移动设备浏览器中登录系统', '导航到叶子节点审批通过记录页面', '检查一键退回按钮的显示和可操作性', '执行一键退回操作并验证功能'], 'expected_results': ['移动设备上按钮显示正确且易于操作', '触摸操作响应正常，无点击区域过小问题', '移动端界面布局合理，功能完整'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-一键退回操作只在叶子节点展示入口-008', 'title': '一键退回操作只在叶子节点展示入口 - 验证一键退回操作的性能响应时间', 'preconditions': ['用户已登录系统且为集团超管角色', '流程已到达叶子节点且状态为审批通过', '系统处于正常负载状态'], 'steps': ['记录点击一键退回按钮前的时间戳', '执行一键退回操作', '记录操作完成后的时间戳', '计算操作响应时间'], 'expected_results': ['一键退回操作响应时间在3秒以内', '操作过程中系统响应流畅，无卡顿现象', '后台数据处理效率符合性能要求'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-一键退回操作只在叶子节点展示入口-009', 'title': '一键退回操作只在叶子节点展示入口 - 验证一键退回操作的用户确认机制和错误提示', 'preconditions': ['用户已登录系统且为集团超管角色', '流程已到达叶子节点且状态为审批通过'], 'steps': ['点击一键退回按钮', '观察是否弹出确认对话框', '在确认对话框中点击取消按钮', '再次点击一键退回按钮并确认操作', '模拟操作失败场景（如网络中断）'], 'expected_results': ['点击按钮后弹出明确的确认对话框', '取消操作后流程状态保持不变', '确认操作后正确执行退回功能', '操作失败时显示清晰的错误提示信息'], 'priority': 'P1', 'category': '可用性测试'}, {'id': 'TC-一键退回操作只在叶子节点展示入口-010', 'title': '一键退回操作只在叶子节点展示入口 - 验证权限绕过漏洞-直接API调用尝试执行退回操作', 'preconditions': ['非集团超管用户已登录系统', '获取到一键退回操作的API端点', '准备Postman工具进行API测试'], 'steps': ['使用非集团超管用户的token', '通过Postman直接调用一键退回API', '尝试对叶子节点执行退回操作', '检查API响应结果'], 'expected_results': ['API返回权限不足的错误码（如403 Forbidden）', '操作未实际执行，数据保持原状', '系统记录非法操作尝试日志', '确保前端和后端权限验证的一致性'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-001', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证集团超管用户可以看到和操作一键退回功能', 'preconditions': ['系统已部署并正常运行', '存在一个集团超管用户账号', '存在至少一个处于审批通过状态的流程实例'], 'steps': ['使用集团超管用户账号登录系统', '导航到流程管理页面', '查看处于审批通过状态的流程实例', '检查页面是否显示一键退回按钮'], 'expected_results': ['登录成功', '成功访问流程管理页面', '能够看到处于审批通过状态的流程实例', '页面正确显示一键退回按钮'], 'priority': 'P0', 'category': '权限测试'}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-002', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证普通用户无法看到和操作一键退回功能', 'preconditions': ['系统已部署并正常运行', '存在一个普通用户账号（非集团超管）', '存在至少一个处于审批通过状态的流程实例'], 'steps': ['使用普通用户账号登录系统', '导航到流程管理页面', '查看处于审批通过状态的流程实例', '检查页面是否显示一键退回按钮'], 'expected_results': ['登录成功', '成功访问流程管理页面', '能够看到处于审批通过状态的流程实例', '页面不显示一键退回按钮'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-003', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证权限绕过漏洞防护 - 直接API调用测试', 'preconditions': ['系统已部署并正常运行', '存在一个普通用户账号', '存在至少一个处于审批通过状态的流程实例', '已知一键退回功能的API端点'], 'steps': ['使用普通用户账号获取有效的认证token', '使用Postman工具构造一键退回API请求', '使用普通用户的token调用一键退回API', '检查API响应结果'], 'expected_results': ['API调用返回权限不足的错误码（如403）', '操作执行失败', '流程状态未发生改变', '系统记录安全审计日志'], 'priority': 'P0', 'category': '安全测试'}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-004', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证一键退回操作的数据一致性', 'preconditions': ['系统已部署并正常运行', '存在一个集团超管用户账号', '存在一个处于审批通过状态的流程实例且有历史审批意见'], 'steps': ['使用集团超管用户账号登录系统', '执行一键退回操作', '验证流程状态变化', '检查历史审批意见是否被正确清空', '验证相关数据表的数据完整性'], 'expected_results': ['退回操作执行成功', '流程状态正确变更为待提交状态', '历史审批意见被完全清空', '所有相关数据表保持数据完整性，无数据损坏', '系统生成相应的操作日志'], 'priority': 'P0', 'category': '功能测试'}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-005', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证一键退回后的完整业务流程重启', 'preconditions': ['系统已部署并正常运行', '存在一个集团超管用户账号', '存在一个处于审批通过状态的流程实例'], 'steps': ['使用集团超管用户执行一键退回操作', '验证流程退回成功', '使用原提交用户重新提交流程', '验证审批流程正常重启', '完成完整的审批流程'], 'expected_results': ['退回操作成功执行', '流程状态正确变为待提交', '重新提交操作成功', '审批流程正常重启并完成', '所有状态转换和数据变更正确'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-006', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证一键退回按钮的显示条件 - 状态和权限双重验证', 'preconditions': ['系统已部署并正常运行', '存在集团超管用户和普通用户账号', '存在不同状态的流程实例（审批中、审批通过、已退回等）'], 'steps': ['使用集团超管用户登录', '查看不同状态的流程实例', '记录一键退回按钮的显示情况', '使用普通用户登录重复上述步骤', '对比两种用户的显示差异'], 'expected_results': ['集团超管用户只在审批通过状态的流程实例看到退回按钮', '普通用户在所有状态下都不显示退回按钮', '按钮显示逻辑符合业务规则'], 'priority': 'P1', 'category': '功能测试'}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-007', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证一键退回操作的性能表现', 'preconditions': ['系统已部署并正常运行', '存在集团超管用户账号', '存在多个处于审批通过状态的流程实例', 'JMeter性能测试工具已配置'], 'steps': ['使用JMeter模拟多个并发的一键退回操作', '监控系统响应时间和资源使用情况', '执行压力测试，逐步增加并发用户数', '分析性能测试结果'], 'expected_results': ['单次操作响应时间在2秒以内', '在预期并发用户数下系统稳定运行', '无内存泄漏或性能下降', '错误率低于1%'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-008', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证一键退回功能在不同浏览器上的兼容性', 'preconditions': ['系统已部署并正常运行', '存在集团超管用户账号', '准备Chrome、Firefox、Safari、Edge等主流浏览器', '存在处于审批通过状态的流程实例'], 'steps': ['在不同浏览器中使用集团超管用户登录', '执行一键退回操作', '验证操作成功和界面显示一致性', '检查各浏览器下的功能行为'], 'expected_results': ['在所有主流浏览器中功能正常工作', '界面显示一致，无布局错乱', '操作流程和结果一致', '无浏览器特定的兼容性问题'], 'priority': 'P3', 'category': '兼容性测试'}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-009', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证一键退回操作的确认机制和错误提示', 'preconditions': ['系统已部署并正常运行', '存在集团超管用户账号', '存在处于审批通过状态的流程实例'], 'steps': ['点击一键退回按钮', '验证是否弹出确认对话框', '取消操作，验证流程状态不变', '确认操作，验证执行结果', '模拟操作失败场景，检查错误提示'], 'expected_results': ['操作前有明确的确认提示', '取消操作后流程状态保持不变', '确认操作后正确执行退回', '错误场景下有清晰易懂的错误提示信息', '用户界面友好，操作流程直观'], 'priority': 'P1', 'category': '可用性测试'}, {'id': 'TC-数据一致性：退回操作需清空历史审批意见并保持数据完整性-001', 'title': '数据一致性：退回操作需清空历史审批意见并保持数据完整性 - 数据一致性验证：集团超管执行退回操作后历史审批意见正确清空', 'preconditions': ['系统存在已审批通过的业务流程实例', '当前用户为集团超级管理员权限', '业务流程包含多条历史审批意见记录'], 'steps': ['登录系统并使用集团超管账户', '导航至已审批通过的业务流程详情页面', '执行一键退回操作', '确认退回操作成功执行', '查询数据库中的历史审批意见表'], 'expected_results': ['退回操作执行成功，流程状态正确回退', '数据库历史审批意见表中相关记录被正确清空', '业务流程主数据保持完整，无数据丢失或损坏'], 'priority': 'P0', 'category': '数据完整性测试'}, {'id': 'TC-数据一致性：退回操作需清空历史审批意见并保持数据完整性-002', 'title': '数据一致性：退回操作需清空历史审批意见并保持数据完整性 - 权限控制验证：非集团超管用户无法执行退回操作', 'preconditions': ['系统存在已审批通过的业务流程实例', '当前用户为非集团超级管理员权限（普通用户或审批员）'], 'steps': ['使用非集团超管账户登录系统', '导航至已审批通过的业务流程详情页面', '检查页面是否显示一键退回按钮', '尝试通过API直接调用退回操作接口'], 'expected_results': ['页面不显示一键退回操作按钮', 'API调用返回权限不足错误（403 Forbidden）', '数据库中的历史审批意见记录保持不变'], 'priority': 'P0', 'category': '数据完整性测试'}, {'id': 'TC-数据一致性：退回操作需清空历史审批意见并保持数据完整性-003', 'title': '数据一致性：退回操作需清空历史审批意见并保持数据完整性 - 数据库事务完整性测试：退回操作过程中的异常处理', 'preconditions': ['系统存在已审批通过的业务流程实例', '当前用户为集团超级管理员权限', '数据库连接正常'], 'steps': ['在执行退回操作过程中模拟数据库连接中断', '观察系统异常处理机制', '检查数据库中的数据一致性状态'], 'expected_results': ['系统正确处理数据库异常，事务回滚', '历史审批意见数据保持原状，未被部分清空', '业务流程状态保持不变，数据完整性得到保障'], 'priority': 'P0', 'category': '数据库测试'}, {'id': 'TC-数据一致性：退回操作需清空历史审批意见并保持数据完整性-004', 'title': '数据一致性：退回操作需清空历史审批意见并保持数据完整性 - 完整业务流程测试：退回后重新提交和审批流程验证', 'preconditions': ['系统存在已审批通过的业务流程实例', '当前用户为集团超级管理员权限', '业务流程包含完整的历史审批记录'], 'steps': ['执行一键退回操作将流程退回至初始状态', '验证历史审批意见已清空', '重新提交业务流程进行审批', '完成新一轮的审批流程'], 'expected_results': ['退回操作成功清空历史审批意见', '重新提交后流程正常流转，无数据冲突', '新一轮审批意见正确记录，与历史数据完全隔离'], 'priority': 'P1', 'category': '数据完整性测试'}, {'id': 'TC-数据一致性：退回操作需清空历史审批意见并保持数据完整性-005', 'title': '数据一致性：退回操作需清空历史审批意见并保持数据完整性 - 数据库外键约束验证：退回操作不影响关联数据完整性', 'preconditions': ['系统存在已审批通过的业务流程实例', '业务流程数据与其他表存在外键关联关系', '当前用户为集团超级管理员权限'], 'steps': ['执行一键退回操作', '检查数据库中外键约束是否得到维护', '验证关联数据表的完整性'], 'expected_results': ['退回操作不破坏数据库外键约束', '所有关联数据保持完整性和一致性', '无孤儿记录或数据引用错误产生'], 'priority': 'P0', 'category': '数据库测试'}, {'id': 'TC-界面响应：一键退回操作的界面响应时间应在合理范围内-001', 'title': '界面响应：一键退回操作的界面响应时间应在合理范围内 - 验证集团超管执行一键退回操作的响应时间性能', 'preconditions': ['系统处于审批通过状态', '当前登录用户为集团超管权限', '一键退回按钮可见且可点击', '网络环境稳定'], 'steps': ['使用JMeter模拟集团超管用户登录系统', '导航至审批通过的项目详情页面', '记录开始时间戳', '点击一键退回按钮', '等待操作完成并记录结束时间戳', '计算响应时间（结束时间-开始时间）'], 'expected_results': ['一键退回操作成功执行', '响应时间小于等于2秒（符合性能要求）', '系统返回操作成功提示', '项目状态正确变更为已退回'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-界面响应：一键退回操作的界面响应时间应在合理范围内-002', 'title': '界面响应：一键退回操作的界面响应时间应在合理范围内 - 验证高并发下集团超管一键退回操作的响应时间稳定性', 'preconditions': ['系统部署在测试环境', '准备多个审批通过的项目实例', 'JMeter配置完成并发测试脚本', '监控工具准备就绪'], 'steps': ['使用JMeter配置50个并发用户（集团超管权限）', '同时执行一键退回操作', '监控系统响应时间和资源使用情况', '收集所有请求的响应时间数据', '分析95%和99%分位的响应时间'], 'expected_results': ['所有并发请求均成功处理', '平均响应时间小于等于3秒', '95%请求的响应时间小于等于4秒', '无系统崩溃或严重性能下降', '错误率低于1%'], 'priority': 'P2', 'category': '性能测试'}, {'id': 'TC-界面响应：一键退回操作的界面响应时间应在合理范围内-003', 'title': '界面响应：一键退回操作的界面响应时间应在合理范围内 - 验证一键退回操作界面响应的用户体验流畅性', 'preconditions': ['系统处于审批通过状态', '集团超管用户已登录', '浏览器开发者工具已打开', '网络节流设置为常规4G速度'], 'steps': ['点击一键退回按钮', '观察界面加载动画和反馈机制', '监控页面重绘和回流时间', '记录从点击到界面完全响应的总时间', '验证操作过程中的用户提示信息'], 'expected_results': ['点击后立即显示加载状态提示', '界面响应流畅，无卡顿或闪烁', '总响应时间用户感知良好（小于3秒）', '操作完成后有明确的状态反馈', '错误情况下提供清晰的错误提示'], 'priority': 'P2', 'category': '响应时间测试'}]}
2025-08-29 09:49:20 - src.agents.assistant - INFO - 当前进度: 3/4 - 当前阶段: 质量保证
2025-08-29 09:49:20 - src.agents.assistant - INFO - 开始质量保证审查
2025-08-29 09:49:20 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 使用顺序方式处理测试用例
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 将62个测试用例分成4批进行处理，每批约20个用例
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 开始处理第1批测试用例，共20个
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 第1批测试用例处理完成
2025-08-29 09:49:44 - src.utils.agent_io - INFO - 已保存quality_assurance_batch_1的执行结果到agent_results/quality_assurance_batch_1_result.json
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 已保存第1批质量审查结果
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 开始处理第2批测试用例，共20个
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 第2批测试用例处理完成
2025-08-29 09:49:44 - src.utils.agent_io - INFO - 已保存quality_assurance_batch_2的执行结果到agent_results/quality_assurance_batch_2_result.json
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 已保存第2批质量审查结果
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 开始处理第3批测试用例，共20个
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 第3批测试用例处理完成
2025-08-29 09:49:44 - src.utils.agent_io - INFO - 已保存quality_assurance_batch_3的执行结果到agent_results/quality_assurance_batch_3_result.json
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 已保存第3批质量审查结果
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 开始处理第4批测试用例，共2个
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 第4批测试用例处理完成
2025-08-29 09:49:44 - src.utils.agent_io - INFO - 已保存quality_assurance_batch_4的执行结果到agent_results/quality_assurance_batch_4_result.json
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 已保存第4批质量审查结果
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 所有测试用例处理完成，共改进62个测试用例
2025-08-29 09:49:44 - src.utils.agent_io - INFO - 已保存quality_assurance的执行结果到agent_results/quality_assurance_result.json
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 质量审查结果已成功保存
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 测试用例审查完成，共审查 62 个测试用例
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 已删除临时质量审查批次文件: agent_results/quality_assurance_batch_3_result.json
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 已删除临时质量审查批次文件: agent_results/quality_assurance_batch_2_result.json
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 已删除临时质量审查批次文件: agent_results/quality_assurance_batch_4_result.json
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 已删除临时质量审查批次文件: agent_results/quality_assurance_batch_1_result.json
2025-08-29 09:49:44 - src.agents.quality_assurance - INFO - 所有临时质量审查批次文件已清理完毕，共删除 4 个文件
2025-08-29 09:49:44 - src.agents.assistant - INFO - 质量保证审查完成，结果: {'msg_type': 'agent_message', 'version': '1.0', 'timestamp': None, 'reviewed_cases': [{'id': 'TC-仅集团用户可执行一键退回操作-001', 'title': '仅集团用户可执行一键退回操作 - 验证非集团超管用户无法执行一键退回操作', 'preconditions': ['系统已登录普通用户账号', '审批流程处于可退回状态', '用户拥有除一键退回外的其他操作权限'], 'steps': ['导航至审批流程详情页面', '检查页面是否显示一键退回按钮', '尝试通过URL直接访问一键退回API端点'], 'expected_results': ['页面不显示一键退回按钮', 'API调用返回403权限拒绝错误', '系统记录安全审计日志'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-002', 'title': '仅集团用户可执行一键退回操作 - 验证集团超管用户可正常执行一键退回操作', 'preconditions': ['系统已登录集团超管账号', '审批流程处于审批通过状态', '流程包含历史审批意见数据'], 'steps': ['导航至审批流程详情页面', '点击一键退回按钮', '确认退回操作提示', '验证流程状态变化'], 'expected_results': ['页面正确显示一键退回按钮', '系统清空所有历史审批意见', '流程状态正确退回至初始状态', '生成退回操作审计记录'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-003', 'title': '仅集团用户可执行一键退回操作 - 验证一键退回操作的数据完整性', 'preconditions': ['系统已登录集团超管账号', '审批流程包含多级审批意见', '流程关联业务数据已生成'], 'steps': ['执行一键退回操作', '验证业务核心数据完整性', '检查关联数据表状态', '确认流程可重新提交审批'], 'expected_results': ['核心业务数据保持完整未受影响', '仅审批意见数据被正确清空', '流程可正常重新提交并启动审批', '数据库事务完整性得到保证'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-004', 'title': '仅集团用户可执行一键退回操作 - 验证一键退回完整业务流程', 'preconditions': ['系统已登录集团超管账号', '审批流程已完成审批', '具备重新提交审批的权限'], 'steps': ['执行一键退回操作', '重新填写并提交审批申请', '启动新一轮审批流程', '完成全部审批环节'], 'expected_results': ['退回后流程状态正确重置', '重新提交审批流程正常启动', '新一轮审批可顺利完成', '系统各环节状态转换正确'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-005', 'title': '仅集团用户可执行一键退回操作 - 验证界面按钮显示条件', 'preconditions': ['使用不同权限用户账号登录', '流程处于不同状态（待审批、审批中、已审批）'], 'steps': ['使用集团超管查看不同状态流程', '使用普通用户查看相同流程', '验证按钮显示逻辑', '检查界面元素状态'], 'expected_results': ['仅集团超管在已审批状态看到退回按钮', '其他状态和用户均不显示退回按钮', '界面元素状态与权限和流程状态匹配', '用户体验符合预期设计'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-006', 'title': '仅集团用户可执行一键退回操作 - 验证一键退回操作性能', 'preconditions': ['系统负载正常', '准备包含大量审批意见的测试数据', '性能监控工具已就绪'], 'steps': ['执行一键退回操作', '记录操作响应时间', '监控系统资源使用情况', '验证并发操作性能'], 'expected_results': ['单次操作响应时间小于2秒', '系统资源使用在正常范围内', '并发操作时性能表现稳定', '无内存泄漏或性能退化'], 'priority': 'P2', 'category': '功能测试', 'description': ''}, {'id': 'TC-仅集团用户可执行一键退回操作-007', 'title': '仅集团用户可执行一键退回操作 - 验证跨浏览器兼容性', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器', '集团超管账号可用', '流程处于可退回状态'], 'steps': ['在不同浏览器中登录系统', '执行一键退回操作', '验证界面显示一致性', '检查功能操作结果'], 'expected_results': ['所有浏览器界面显示一致', '功能操作结果相同', '无浏览器特定错误', '用户体验跨平台一致'], 'priority': 'P3', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-001', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证集团超管在审批通过状态下可见一键退回按钮', 'preconditions': ['系统已登录集团超管账户', "存在状态为'审批通过'的业务单据", '当前页面显示该业务单据详情'], 'steps': ['导航至审批通过状态的业务单据详情页面', '检查页面UI元素', '确认一键退回按钮是否显示'], 'expected_results': ['一键退回按钮在页面中清晰可见', '按钮状态为可点击状态', '按钮位置和样式符合UI设计规范'], 'priority': 'P1', 'category': '界面测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-002', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证非超管用户在审批通过状态下不可见一键退回按钮', 'preconditions': ['系统已登录普通用户账户', "存在状态为'审批通过'的业务单据", '当前页面显示该业务单据详情'], 'steps': ['导航至审批通过状态的业务单据详情页面', '检查页面UI元素', '确认一键退回按钮是否显示'], 'expected_results': ['一键退回按钮在页面中不可见', '页面无任何退回相关操作入口', '用户无法通过任何方式触发退回操作'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-003', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证超管在非审批通过状态下不可见一键退回按钮', 'preconditions': ['系统已登录集团超管账户', "存在状态不为'审批通过'的业务单据（如审批中、已驳回等）", '当前页面显示该业务单据详情'], 'steps': ['导航至非审批通过状态的业务单据详情页面', '检查页面UI元素', '确认一键退回按钮是否显示'], 'expected_results': ['一键退回按钮在页面中不可见', '页面显示与当前状态相符的正确操作按钮', '无任何退回相关操作入口显示'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-004', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证权限绕过漏洞-直接API调用退回操作', 'preconditions': ['系统已登录普通用户账户', "存在状态为'审批通过'的业务单据", '获取一键退回操作的API端点信息'], 'steps': ['使用普通用户权限直接调用一键退回API', '尝试执行退回操作', '检查API响应结果'], 'expected_results': ['API返回权限不足错误（如403 Forbidden）', "业务单据状态保持为'审批通过'不变", '系统记录非法操作尝试日志'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-005', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证一键退回操作后的数据完整性', 'preconditions': ['系统已登录集团超管账户', "存在状态为'审批通过'且包含历史审批意见的业务单据"], 'steps': ['执行一键退回操作', '确认操作成功执行', '检查业务单据数据和审批历史记录'], 'expected_results': ["业务单据状态正确变更为'已退回'", '历史审批意见被正确清空', '退回操作记录被正确保存到操作日志', '业务核心数据保持完整未被破坏'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-006', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证一键退回按钮在不同浏览器的兼容性', 'preconditions': ['系统已登录集团超管账户', "存在状态为'审批通过'的业务单据", '准备Chrome、Firefox、Safari、Edge浏览器环境'], 'steps': ['在不同浏览器中登录系统', '导航至审批通过状态的业务单据详情页面', '检查一键退回按钮的显示和功能'], 'expected_results': ['在所有浏览器中一键退回按钮正常显示', '按钮样式和位置保持一致', '点击功能在所有浏览器中正常工作', '无界面错位或显示异常'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-007', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证一键退回操作的性能响应时间', 'preconditions': ['系统已登录集团超管账户', "存在状态为'审批通过'的业务单据", '性能监控工具准备就绪'], 'steps': ['执行一键退回操作', '记录从点击到操作完成的响应时间', '重复测试多次取平均值'], 'expected_results': ['操作响应时间小于2秒', '系统资源使用在正常范围内', '无内存泄漏或性能下降现象', '高并发场景下操作仍能正常完成'], 'priority': 'P2', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回按钮在状态=审批通过且当前用户=超管时显示-008', 'title': '一键退回按钮在状态=审批通过且当前用户=超管时显示 - 验证一键退回操作的用户确认机制', 'preconditions': ['系统已登录集团超管账户', "存在状态为'审批通过'的业务单据"], 'steps': ['点击一键退回按钮', '观察系统弹出的确认对话框', '测试确认和取消操作'], 'expected_results': ['点击按钮后弹出明确的确认对话框', '对话框包含操作风险和后果提示', '确认后操作正常执行', '取消后操作中止且状态不变'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-001', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证集团超管执行退回操作时填写退回原因并清空历史审批意见', 'preconditions': ['系统中有已审批通过的业务单据', '当前登录用户为集团超管权限', '单据处于可退回状态'], 'steps': ['登录系统并导航到目标业务单据详情页面', '点击一键退回按钮', '在弹出的退回原因对话框中输入退回原因', '确认执行退回操作', '查看单据状态和历史审批记录'], 'expected_results': ['退回操作成功执行', '单据状态正确变更为待重新提交', '历史审批意见被清空', '退回原因被正确记录在操作日志中'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-002', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证非集团超管用户无法执行退回操作', 'preconditions': ['系统中有已审批通过的业务单据', '当前登录用户为普通用户权限', '单据处于可退回状态'], 'steps': ['使用普通用户账号登录系统', '导航到目标业务单据详情页面', '检查页面是否显示一键退回按钮'], 'expected_results': ['页面不显示一键退回按钮', '用户无法通过任何方式执行退回操作', '系统返回权限不足的错误提示'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-003', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证退回操作后数据完整性保持', 'preconditions': ['系统中有已审批通过的业务单据', '单据包含多条历史审批意见', '当前登录用户为集团超管权限'], 'steps': ['执行退回操作并填写退回原因', '检查数据库中的审批意见表', '验证单据基本信息未被修改', '检查操作日志记录'], 'expected_results': ['历史审批意见表相关记录被正确清空', '单据基本信息保持完整未被修改', '退回操作被正确记录在操作日志中', '数据表约束关系保持完整'], 'priority': 'P0', 'category': '数据完整性测试', 'description': ''}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-004', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证退回后重新提交和审批流程重启', 'preconditions': ['业务单据已被成功退回', '当前用户有权限重新提交单据'], 'steps': ['登录系统并导航到已退回的单据', '修改单据内容并重新提交', '验证审批流程重新启动', '检查新的审批记录'], 'expected_results': ['单据可以正常重新提交', '审批流程从初始状态重新开始', '新的审批意见独立记录，不与历史记录混淆', '退回原因在重新提交后仍可查看'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-005', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证退回按钮显示条件控制', 'preconditions': ['系统中有不同状态的业务单据', '当前登录用户为集团超管权限'], 'steps': ['查看审批中的单据详情页面', '查看已审批通过的单据详情页面', '查看已退回的单据详情页面', '查看已完成审批的单据详情页面'], 'expected_results': ['只在已审批通过状态的单据显示一键退回按钮', '其他状态的单据不显示退回按钮', '按钮状态和样式符合设计要求'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-006', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证退回操作性能响应时间', 'preconditions': ['系统中有大量历史审批意见的单据', '性能测试环境已搭建完成'], 'steps': ['使用性能测试工具模拟执行退回操作', '监控服务器响应时间和资源消耗', '执行并发退回操作测试', '分析性能测试结果数据'], 'expected_results': ['单次退回操作响应时间小于2秒', '并发操作时系统性能表现稳定', '数据库操作效率在可接受范围内', '内存和CPU使用率正常'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-退回时必须填写退回原因并清空历史审批意见-007', 'title': '退回时必须填写退回原因并清空历史审批意见 - 验证跨浏览器兼容性', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器环境', '系统中有可退回的业务单据'], 'steps': ['在不同浏览器中登录系统', '执行退回操作流程', '验证界面显示和功能一致性', '检查各浏览器下的错误提示和处理'], 'expected_results': ['所有浏览器中退回功能正常工作', '界面布局和样式保持一致', '弹出窗口和对话框显示正常', '错误处理和提示信息一致'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-001', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证集团超管执行一键退回操作后状态变为上级驳回', 'preconditions': ['系统存在已审批通过的表单', '当前用户为集团超级管理员', '表单处于可退回状态'], 'steps': ['登录系统作为集团超管', '导航至待处理表单列表', '选择已审批通过的表单', '点击一键退回按钮', '确认退回操作'], 'expected_results': ["表单状态从'审批通过'变为'上级驳回'", '历史审批意见被清空', '系统显示退回成功提示信息', '填报人收到退回通知'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-002', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证非集团超管用户无法执行一键退回操作', 'preconditions': ['系统存在已审批通过的表单', '当前用户为非集团超级管理员（如普通用户或部门管理员）', '表单处于可退回状态'], 'steps': ['登录系统作为非集团超管用户', '导航至待处理表单列表', '查看已审批通过的表单详情页面'], 'expected_results': ['一键退回按钮不可见或处于禁用状态', '用户无法执行退回操作', '系统无权限执行操作的错误提示（如果尝试非法访问）'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-003', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证填报人修改驳回表单后重新提交的完整流程', 'preconditions': ["表单已被集团超管退回，状态为'上级驳回'", '当前用户为表单填报人', '填报人已收到退回通知'], 'steps': ['登录系统作为填报人', '查看被退回的表单', '根据驳回原因修改表单内容', '点击重新提交按钮', '确认提交操作'], 'expected_results': ["表单状态从'上级驳回'变为'待审批'", '修改后的表单数据正确保存', '审批流程重新启动', '相关审批人收到新的审批通知'], 'priority': 'P1', 'category': '流程测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-004', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证一键退回按钮在不同状态和权限下的显示条件', 'preconditions': ['系统存在不同状态的表单（审批中、审批通过、已驳回等）', '使用不同权限用户登录系统'], 'steps': ['使用集团超管登录系统', '查看不同状态表单的详情页面', '使用非集团超管用户登录系统', '查看相同状态表单的详情页面'], 'expected_results': ['一键退回按钮仅在表单为审批通过状态且用户为集团超管时显示', '其他状态或权限下一键退回按钮隐藏或禁用', '界面显示符合业务规则和权限控制要求'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-005', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证一键退回操作在不同浏览器下的兼容性', 'preconditions': ['准备Chrome、Firefox、Safari、Edge等主流浏览器', '系统存在已审批通过的表单', '当前用户为集团超级管理员'], 'steps': ['在不同浏览器中登录系统', '执行一键退回操作', '观察界面显示和功能执行情况'], 'expected_results': ['所有浏览器中一键退回功能正常工作', '界面显示一致，无布局错乱', '状态转换和数据清理功能在所有浏览器中表现一致'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-退回后状态变为上级驳回，填报人修改后重新提交-006', 'title': '退回后状态变为上级驳回，填报人修改后重新提交 - 验证一键退回操作的性能响应时间', 'preconditions': ['系统存在大量已审批通过的表单', '性能测试环境已搭建完成', 'JMeter测试脚本准备就绪'], 'steps': ['使用JMeter模拟并发一键退回操作', '监控系统响应时间和资源消耗', '记录性能指标数据'], 'expected_results': ['单次一键退回操作响应时间小于2秒', '并发操作下系统响应时间在可接受范围内', '系统资源消耗正常，无内存泄漏或性能下降'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-001', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证非集团超管用户无法执行一键退回操作', 'preconditions': ['系统存在已审批通过的业务流程', '测试用户为非集团超管权限（如普通审批员）', '用户已登录系统'], 'steps': ['导航到已审批完成的业务流程详情页面', '检查页面是否显示一键退回按钮', '尝试通过直接URL访问或API调用执行退回操作'], 'expected_results': ['页面不显示一键退回按钮', '直接操作尝试返回权限错误提示', '系统记录未授权访问日志'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-002', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证集团超管执行退回操作的数据一致性', 'preconditions': ['系统存在已审批通过的业务流程', '测试用户为集团超管权限', '流程包含历史审批意见和数据'], 'steps': ['以集团超管身份登录系统', '导航到目标业务流程详情页面', '点击一键退回按钮并确认操作', '验证流程状态和数据变化'], 'expected_results': ['历史审批意见被正确清空', "流程状态变更为'上级审批中'", '业务数据完整性保持，无数据丢失或损坏', '生成正确的操作日志记录'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-003', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证完整业务流程从退回到重新审批', 'preconditions': ['系统存在已审批通过的业务流程', '集团超管用户已登录', '审批流程配置完整'], 'steps': ['执行一键退回操作将流程退回', "验证流程状态变为'上级审批中'", '模拟上级审批员重新提交审批', '验证审批流程正常重启并完成'], 'expected_results': ['退回后流程正确进入新一轮审批状态', '审批流程可正常重启和执行', '最终可成功完成审批流程', '所有状态转换符合业务规则'], 'priority': 'P1', 'category': '端到端测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-004', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证一键退回按钮的显示条件', 'preconditions': ['系统存在不同状态的业务流程', '用户具有不同权限级别', '多种业务流程类型存在'], 'steps': ['使用不同权限用户登录系统', '访问处于不同状态的业务流程详情页', '检查一键退回按钮的显示状态', '验证按钮只在正确条件和权限下显示'], 'expected_results': ['按钮仅在流程为审批通过状态时显示', '按钮仅对集团超管权限用户显示', '其他状态和权限下按钮隐藏或不可见', '界面显示符合业务规则要求'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-005', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证一键退回操作的性能表现', 'preconditions': ['系统存在大量数据的业务流程', '性能测试环境已搭建', '监控工具准备就绪'], 'steps': ['使用JMeter模拟并发退回操作请求', '执行退回操作并记录响应时间', '监控系统资源使用情况', '分析性能数据并评估是否符合要求'], 'expected_results': ['单次退回操作响应时间小于2秒', '并发操作下系统保持稳定', '资源使用在可接受范围内', '无内存泄漏或性能退化'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-006', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证跨浏览器兼容性的一键退回功能', 'preconditions': ['准备Chrome、Firefox、Safari、Edge浏览器', '系统可正常访问', '测试用例流程已准备'], 'steps': ['在不同浏览器中登录系统', '执行一键退回操作流程', '验证界面显示和功能一致性', '检查各浏览器下的操作结果'], 'expected_results': ['所有浏览器功能正常可用', '界面显示一致无错位', '操作流程和结果保持一致', '无浏览器特定的功能缺陷'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-流程从退回→上级审批中开始新一轮审批-007', 'title': '流程从退回→上级审批中开始新一轮审批 - 验证退回操作的权限安全控制', 'preconditions': ['OWASP ZAP安全扫描工具已配置', '系统存在测试用业务流程', '不同权限用户账户已准备'], 'steps': ['使用普通用户权限尝试执行退回API调用', '使用ZAP进行权限绕过漏洞扫描', '验证API层的权限校验机制', '检查是否存在未授权访问漏洞'], 'expected_results': ['普通用户API调用返回权限错误', '安全扫描未发现权限绕过漏洞', '所有API端点都有正确的权限校验', '系统记录所有未授权访问尝试'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-一键退回操作只在叶子节点展示入口-001', 'title': '一键退回操作只在叶子节点展示入口 - 验证集团超管在叶子节点审批通过状态下可见一键退回按钮', 'preconditions': ['用户已登录系统且为集团超管角色', '流程已到达叶子节点且状态为审批通过', '当前节点为流程的最终审批节点'], 'steps': ['登录系统并导航到审批流程页面', '找到处于审批通过状态的叶子节点审批记录', '检查该节点操作区域是否显示一键退回按钮'], 'expected_results': ['一键退回按钮在叶子节点审批通过状态下正确显示', '按钮状态为可点击且样式符合设计规范'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回操作只在叶子节点展示入口-002', 'title': '一键退回操作只在叶子节点展示入口 - 验证非叶子节点不显示一键退回按钮', 'preconditions': ['用户已登录系统且为集团超管角色', '流程中存在非叶子节点的审批记录', '非叶子节点状态为审批通过'], 'steps': ['登录系统并导航到审批流程页面', '找到非叶子节点的审批通过记录', '检查该节点操作区域是否显示一键退回按钮'], 'expected_results': ['非叶子节点操作区域不显示一键退回按钮', '只有叶子节点才会显示该功能入口'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回操作只在叶子节点展示入口-003', 'title': '一键退回操作只在叶子节点展示入口 - 验证非集团超管用户在叶子节点无法看到一键退回按钮', 'preconditions': ['用户已登录系统且为非集团超管角色（如普通用户或部门管理员）', '流程已到达叶子节点且状态为审批通过'], 'steps': ['使用非集团超管账号登录系统', '导航到叶子节点审批通过记录页面', '检查操作区域是否显示一键退回按钮'], 'expected_results': ['非集团超管用户无法看到一键退回按钮', '操作区域不显示该功能入口，确保权限控制有效'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-一键退回操作只在叶子节点展示入口-004', 'title': '一键退回操作只在叶子节点展示入口 - 验证非审批通过状态的叶子节点不显示一键退回按钮', 'preconditions': ['用户已登录系统且为集团超管角色', '叶子节点处于非审批通过状态（如审批中、已驳回等）'], 'steps': ['登录系统并导航到审批流程页面', '找到处于非审批通过状态的叶子节点记录', '检查操作区域是否显示一键退回按钮'], 'expected_results': ['非审批通过状态的叶子节点不显示一键退回按钮', '只有审批通过状态的叶子节点才会显示该功能'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回操作只在叶子节点展示入口-005', 'title': '一键退回操作只在叶子节点展示入口 - 验证一键退回操作后数据清理和流程重启功能', 'preconditions': ['用户已登录系统且为集团超管角色', '叶子节点处于审批通过状态', '存在历史审批意见数据'], 'steps': ['点击叶子节点的一键退回按钮', '确认退回操作', '检查审批流程状态变化', '验证历史审批意见是否被正确清空', '检查流程是否重新启动到初始提交状态'], 'expected_results': ['一键退回操作成功执行', '历史审批意见被正确清空，数据完整性得到保持', '流程状态正确重置并重新启动', '相关数据表记录更新正确'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-一键退回操作只在叶子节点展示入口-006', 'title': '一键退回操作只在叶子节点展示入口 - 验证不同浏览器下叶子节点一键退回按钮显示一致性', 'preconditions': ['用户已登录系统且为集团超管角色', '流程已到达叶子节点且状态为审批通过', '准备Chrome、Firefox、Safari、Edge浏览器环境'], 'steps': ['在不同浏览器中登录系统', '导航到叶子节点审批通过记录页面', '检查一键退回按钮的显示位置、样式和功能一致性'], 'expected_results': ['在所有支持的浏览器中一键退回按钮显示一致', '按钮功能在所有浏览器中正常工作', '界面布局和样式在不同浏览器中保持一致'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-一键退回操作只在叶子节点展示入口-007', 'title': '一键退回操作只在叶子节点展示入口 - 验证移动设备上叶子节点一键退回按钮显示和操作', 'preconditions': ['用户已登录系统且为集团超管角色', '流程已到达叶子节点且状态为审批通过', '使用移动设备（iOS和Android）访问系统'], 'steps': ['在移动设备浏览器中登录系统', '导航到叶子节点审批通过记录页面', '检查一键退回按钮的显示和可操作性', '执行一键退回操作并验证功能'], 'expected_results': ['移动设备上按钮显示正确且易于操作', '触摸操作响应正常，无点击区域过小问题', '移动端界面布局合理，功能完整'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-一键退回操作只在叶子节点展示入口-008', 'title': '一键退回操作只在叶子节点展示入口 - 验证一键退回操作的性能响应时间', 'preconditions': ['用户已登录系统且为集团超管角色', '流程已到达叶子节点且状态为审批通过', '系统处于正常负载状态'], 'steps': ['记录点击一键退回按钮前的时间戳', '执行一键退回操作', '记录操作完成后的时间戳', '计算操作响应时间'], 'expected_results': ['一键退回操作响应时间在3秒以内', '操作过程中系统响应流畅，无卡顿现象', '后台数据处理效率符合性能要求'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-一键退回操作只在叶子节点展示入口-009', 'title': '一键退回操作只在叶子节点展示入口 - 验证一键退回操作的用户确认机制和错误提示', 'preconditions': ['用户已登录系统且为集团超管角色', '流程已到达叶子节点且状态为审批通过'], 'steps': ['点击一键退回按钮', '观察是否弹出确认对话框', '在确认对话框中点击取消按钮', '再次点击一键退回按钮并确认操作', '模拟操作失败场景（如网络中断）'], 'expected_results': ['点击按钮后弹出明确的确认对话框', '取消操作后流程状态保持不变', '确认操作后正确执行退回功能', '操作失败时显示清晰的错误提示信息'], 'priority': 'P1', 'category': '可用性测试', 'description': ''}, {'id': 'TC-一键退回操作只在叶子节点展示入口-010', 'title': '一键退回操作只在叶子节点展示入口 - 验证权限绕过漏洞-直接API调用尝试执行退回操作', 'preconditions': ['非集团超管用户已登录系统', '获取到一键退回操作的API端点', '准备Postman工具进行API测试'], 'steps': ['使用非集团超管用户的token', '通过Postman直接调用一键退回API', '尝试对叶子节点执行退回操作', '检查API响应结果'], 'expected_results': ['API返回权限不足的错误码（如403 Forbidden）', '操作未实际执行，数据保持原状', '系统记录非法操作尝试日志', '确保前端和后端权限验证的一致性'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-001', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证集团超管用户可以看到和操作一键退回功能', 'preconditions': ['系统已部署并正常运行', '存在一个集团超管用户账号', '存在至少一个处于审批通过状态的流程实例'], 'steps': ['使用集团超管用户账号登录系统', '导航到流程管理页面', '查看处于审批通过状态的流程实例', '检查页面是否显示一键退回按钮'], 'expected_results': ['登录成功', '成功访问流程管理页面', '能够看到处于审批通过状态的流程实例', '页面正确显示一键退回按钮'], 'priority': 'P0', 'category': '权限测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-002', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证普通用户无法看到和操作一键退回功能', 'preconditions': ['系统已部署并正常运行', '存在一个普通用户账号（非集团超管）', '存在至少一个处于审批通过状态的流程实例'], 'steps': ['使用普通用户账号登录系统', '导航到流程管理页面', '查看处于审批通过状态的流程实例', '检查页面是否显示一键退回按钮'], 'expected_results': ['登录成功', '成功访问流程管理页面', '能够看到处于审批通过状态的流程实例', '页面不显示一键退回按钮'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-003', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证权限绕过漏洞防护 - 直接API调用测试', 'preconditions': ['系统已部署并正常运行', '存在一个普通用户账号', '存在至少一个处于审批通过状态的流程实例', '已知一键退回功能的API端点'], 'steps': ['使用普通用户账号获取有效的认证token', '使用Postman工具构造一键退回API请求', '使用普通用户的token调用一键退回API', '检查API响应结果'], 'expected_results': ['API调用返回权限不足的错误码（如403）', '操作执行失败', '流程状态未发生改变', '系统记录安全审计日志'], 'priority': 'P0', 'category': '安全测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-004', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证一键退回操作的数据一致性', 'preconditions': ['系统已部署并正常运行', '存在一个集团超管用户账号', '存在一个处于审批通过状态的流程实例且有历史审批意见'], 'steps': ['使用集团超管用户账号登录系统', '执行一键退回操作', '验证流程状态变化', '检查历史审批意见是否被正确清空', '验证相关数据表的数据完整性'], 'expected_results': ['退回操作执行成功', '流程状态正确变更为待提交状态', '历史审批意见被完全清空', '所有相关数据表保持数据完整性，无数据损坏', '系统生成相应的操作日志'], 'priority': 'P0', 'category': '功能测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-005', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证一键退回后的完整业务流程重启', 'preconditions': ['系统已部署并正常运行', '存在一个集团超管用户账号', '存在一个处于审批通过状态的流程实例'], 'steps': ['使用集团超管用户执行一键退回操作', '验证流程退回成功', '使用原提交用户重新提交流程', '验证审批流程正常重启', '完成完整的审批流程'], 'expected_results': ['退回操作成功执行', '流程状态正确变为待提交', '重新提交操作成功', '审批流程正常重启并完成', '所有状态转换和数据变更正确'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-006', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证一键退回按钮的显示条件 - 状态和权限双重验证', 'preconditions': ['系统已部署并正常运行', '存在集团超管用户和普通用户账号', '存在不同状态的流程实例（审批中、审批通过、已退回等）'], 'steps': ['使用集团超管用户登录', '查看不同状态的流程实例', '记录一键退回按钮的显示情况', '使用普通用户登录重复上述步骤', '对比两种用户的显示差异'], 'expected_results': ['集团超管用户只在审批通过状态的流程实例看到退回按钮', '普通用户在所有状态下都不显示退回按钮', '按钮显示逻辑符合业务规则'], 'priority': 'P1', 'category': '功能测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-007', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证一键退回操作的性能表现', 'preconditions': ['系统已部署并正常运行', '存在集团超管用户账号', '存在多个处于审批通过状态的流程实例', 'JMeter性能测试工具已配置'], 'steps': ['使用JMeter模拟多个并发的一键退回操作', '监控系统响应时间和资源使用情况', '执行压力测试，逐步增加并发用户数', '分析性能测试结果'], 'expected_results': ['单次操作响应时间在2秒以内', '在预期并发用户数下系统稳定运行', '无内存泄漏或性能下降', '错误率低于1%'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-008', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证一键退回功能在不同浏览器上的兼容性', 'preconditions': ['系统已部署并正常运行', '存在集团超管用户账号', '准备Chrome、Firefox、Safari、Edge等主流浏览器', '存在处于审批通过状态的流程实例'], 'steps': ['在不同浏览器中使用集团超管用户登录', '执行一键退回操作', '验证操作成功和界面显示一致性', '检查各浏览器下的功能行为'], 'expected_results': ['在所有主流浏览器中功能正常工作', '界面显示一致，无布局错乱', '操作流程和结果一致', '无浏览器特定的兼容性问题'], 'priority': 'P3', 'category': '兼容性测试', 'description': ''}, {'id': 'TC-权限控制：确保只有集团超管用户才能看到和操作一键退回功能-009', 'title': '权限控制：确保只有集团超管用户才能看到和操作一键退回功能 - 验证一键退回操作的确认机制和错误提示', 'preconditions': ['系统已部署并正常运行', '存在集团超管用户账号', '存在处于审批通过状态的流程实例'], 'steps': ['点击一键退回按钮', '验证是否弹出确认对话框', '取消操作，验证流程状态不变', '确认操作，验证执行结果', '模拟操作失败场景，检查错误提示'], 'expected_results': ['操作前有明确的确认提示', '取消操作后流程状态保持不变', '确认操作后正确执行退回', '错误场景下有清晰易懂的错误提示信息', '用户界面友好，操作流程直观'], 'priority': 'P1', 'category': '可用性测试', 'description': ''}, {'id': 'TC-数据一致性：退回操作需清空历史审批意见并保持数据完整性-001', 'title': '数据一致性：退回操作需清空历史审批意见并保持数据完整性 - 数据一致性验证：集团超管执行退回操作后历史审批意见正确清空', 'preconditions': ['系统存在已审批通过的业务流程实例', '当前用户为集团超级管理员权限', '业务流程包含多条历史审批意见记录'], 'steps': ['登录系统并使用集团超管账户', '导航至已审批通过的业务流程详情页面', '执行一键退回操作', '确认退回操作成功执行', '查询数据库中的历史审批意见表'], 'expected_results': ['退回操作执行成功，流程状态正确回退', '数据库历史审批意见表中相关记录被正确清空', '业务流程主数据保持完整，无数据丢失或损坏'], 'priority': 'P0', 'category': '数据完整性测试', 'description': ''}, {'id': 'TC-数据一致性：退回操作需清空历史审批意见并保持数据完整性-002', 'title': '数据一致性：退回操作需清空历史审批意见并保持数据完整性 - 权限控制验证：非集团超管用户无法执行退回操作', 'preconditions': ['系统存在已审批通过的业务流程实例', '当前用户为非集团超级管理员权限（普通用户或审批员）'], 'steps': ['使用非集团超管账户登录系统', '导航至已审批通过的业务流程详情页面', '检查页面是否显示一键退回按钮', '尝试通过API直接调用退回操作接口'], 'expected_results': ['页面不显示一键退回操作按钮', 'API调用返回权限不足错误（403 Forbidden）', '数据库中的历史审批意见记录保持不变'], 'priority': 'P0', 'category': '数据完整性测试', 'description': ''}, {'id': 'TC-数据一致性：退回操作需清空历史审批意见并保持数据完整性-003', 'title': '数据一致性：退回操作需清空历史审批意见并保持数据完整性 - 数据库事务完整性测试：退回操作过程中的异常处理', 'preconditions': ['系统存在已审批通过的业务流程实例', '当前用户为集团超级管理员权限', '数据库连接正常'], 'steps': ['在执行退回操作过程中模拟数据库连接中断', '观察系统异常处理机制', '检查数据库中的数据一致性状态'], 'expected_results': ['系统正确处理数据库异常，事务回滚', '历史审批意见数据保持原状，未被部分清空', '业务流程状态保持不变，数据完整性得到保障'], 'priority': 'P0', 'category': '数据库测试', 'description': ''}, {'id': 'TC-数据一致性：退回操作需清空历史审批意见并保持数据完整性-004', 'title': '数据一致性：退回操作需清空历史审批意见并保持数据完整性 - 完整业务流程测试：退回后重新提交和审批流程验证', 'preconditions': ['系统存在已审批通过的业务流程实例', '当前用户为集团超级管理员权限', '业务流程包含完整的历史审批记录'], 'steps': ['执行一键退回操作将流程退回至初始状态', '验证历史审批意见已清空', '重新提交业务流程进行审批', '完成新一轮的审批流程'], 'expected_results': ['退回操作成功清空历史审批意见', '重新提交后流程正常流转，无数据冲突', '新一轮审批意见正确记录，与历史数据完全隔离'], 'priority': 'P1', 'category': '数据完整性测试', 'description': ''}, {'id': 'TC-数据一致性：退回操作需清空历史审批意见并保持数据完整性-005', 'title': '数据一致性：退回操作需清空历史审批意见并保持数据完整性 - 数据库外键约束验证：退回操作不影响关联数据完整性', 'preconditions': ['系统存在已审批通过的业务流程实例', '业务流程数据与其他表存在外键关联关系', '当前用户为集团超级管理员权限'], 'steps': ['执行一键退回操作', '检查数据库中外键约束是否得到维护', '验证关联数据表的完整性'], 'expected_results': ['退回操作不破坏数据库外键约束', '所有关联数据保持完整性和一致性', '无孤儿记录或数据引用错误产生'], 'priority': 'P0', 'category': '数据库测试', 'description': ''}, {'id': 'TC-界面响应：一键退回操作的界面响应时间应在合理范围内-001', 'title': '界面响应：一键退回操作的界面响应时间应在合理范围内 - 验证集团超管执行一键退回操作的响应时间性能', 'preconditions': ['系统处于审批通过状态', '当前登录用户为集团超管权限', '一键退回按钮可见且可点击', '网络环境稳定'], 'steps': ['使用JMeter模拟集团超管用户登录系统', '导航至审批通过的项目详情页面', '记录开始时间戳', '点击一键退回按钮', '等待操作完成并记录结束时间戳', '计算响应时间（结束时间-开始时间）'], 'expected_results': ['一键退回操作成功执行', '响应时间小于等于2秒（符合性能要求）', '系统返回操作成功提示', '项目状态正确变更为已退回'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-界面响应：一键退回操作的界面响应时间应在合理范围内-002', 'title': '界面响应：一键退回操作的界面响应时间应在合理范围内 - 验证高并发下集团超管一键退回操作的响应时间稳定性', 'preconditions': ['系统部署在测试环境', '准备多个审批通过的项目实例', 'JMeter配置完成并发测试脚本', '监控工具准备就绪'], 'steps': ['使用JMeter配置50个并发用户（集团超管权限）', '同时执行一键退回操作', '监控系统响应时间和资源使用情况', '收集所有请求的响应时间数据', '分析95%和99%分位的响应时间'], 'expected_results': ['所有并发请求均成功处理', '平均响应时间小于等于3秒', '95%请求的响应时间小于等于4秒', '无系统崩溃或严重性能下降', '错误率低于1%'], 'priority': 'P2', 'category': '性能测试', 'description': ''}, {'id': 'TC-界面响应：一键退回操作的界面响应时间应在合理范围内-003', 'title': '界面响应：一键退回操作的界面响应时间应在合理范围内 - 验证一键退回操作界面响应的用户体验流畅性', 'preconditions': ['系统处于审批通过状态', '集团超管用户已登录', '浏览器开发者工具已打开', '网络节流设置为常规4G速度'], 'steps': ['点击一键退回按钮', '观察界面加载动画和反馈机制', '监控页面重绘和回流时间', '记录从点击到界面完全响应的总时间', '验证操作过程中的用户提示信息'], 'expected_results': ['点击后立即显示加载状态提示', '界面响应流畅，无卡顿或闪烁', '总响应时间用户感知良好（小于3秒）', '操作完成后有明确的状态反馈', '错误情况下提供清晰的错误提示'], 'priority': 'P2', 'category': '响应时间测试', 'description': ''}], 'review_comments': ['缺少对退回操作后通知机制的验证，建议增加测试用例验证填报人是否收到退回通知及通知内容准确性', '缺少多语言环境下的测试用例，建议增加国际化场景验证界面文本和错误消息的翻译准确性', '缺少审计日志详细内容的验证用例，建议增加具体检查审计日志字段完整性和敏感信息脱敏的测试', "多个测试用例的预期结果描述过于笼统，如'系统记录安全审计日志'应明确具体记录哪些字段和信息", "步骤描述中'验证流程状态变化'过于模糊，应具体说明需要验证哪些状态字段和预期值", "预条件中'审批流程处于可退回状态'定义不明确，应具体说明何种状态才算可退回状态", "性能测试用例缺少具体的测试数据量定义，如'大量审批意见'应明确具体数量范围（如1000条以上）", 'API测试用例缺少具体的请求参数示例，建议提供完整的API调用示例包括请求头和请求体', '数据库验证步骤缺少具体的SQL查询语句示例，建议提供验证数据完整性的具体查询语句', '缺少极端数据量的边界测试，建议增加超多审批意见（如10万条）时的性能和行为验证', '缺少时间边界测试，建议验证跨日退回操作时时间戳处理和业务日期逻辑的正确性', '缺少并发冲突场景测试，建议增加多人同时操作同一流程时的锁机制和冲突处理验证', '缺少网络异常场景测试，建议增加网络中断、超时情况下退回操作的异常处理和事务回滚验证', '缺少数据库异常场景测试，建议模拟数据库连接失败、死锁等情况下的错误处理和系统稳定性', '缺少权限变更动态场景测试，建议验证执行退回操作过程中用户权限被撤销时的处理机制']}
2025-08-29 09:49:44 - src.agents.test_case_writer - INFO - 使用顺序方式处理测试用例改进
2025-08-29 09:49:44 - src.agents.test_case_writer - INFO - 将62个测试用例分成11批进行处理，每批约6个用例
2025-08-29 09:49:44 - src.agents.test_case_writer - INFO - 开始处理第1批测试用例，共6个
2025-08-29 09:49:45 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:52:18 - src.agents.test_case_writer - ERROR - JSON解析错误: Expecting value: line 180 column 8 (char 4675)
2025-08-29 09:52:18 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 09:52:18 - src.agents.test_case_writer - WARNING - 尝试 1/3: 大模型未返回有效的测试用例，将重试
2025-08-29 09:52:18 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:55:02 - src.agents.test_case_writer - INFO - 成功使用大模型改进 16 个测试用例
2025-08-29 09:55:02 - src.agents.test_case_writer - INFO - 第1批测试用例改进完成
2025-08-29 09:55:02 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_1的执行结果到agent_results/test_case_writer_improved_batch_1_result.json
2025-08-29 09:55:02 - src.agents.test_case_writer - INFO - 已保存第1批改进后的测试用例
2025-08-29 09:55:02 - src.agents.test_case_writer - INFO - 开始处理第2批测试用例，共6个
2025-08-29 09:55:02 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 09:58:21 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 09:58:21 - src.agents.test_case_writer - WARNING - 尝试 1/3: 大模型未返回有效的测试用例，将重试
2025-08-29 09:58:22 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:01:55 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 10:01:55 - src.agents.test_case_writer - WARNING - 尝试 2/3: 大模型未返回有效的测试用例，将重试
2025-08-29 10:01:55 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:05:31 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 10:05:31 - src.agents.test_case_writer - WARNING - 尝试 3/3: 大模型未返回有效的测试用例，将重试
2025-08-29 10:05:31 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-29 10:05:31 - src.agents.test_case_writer - INFO - 第2批测试用例改进完成
2025-08-29 10:05:31 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_2的执行结果到agent_results/test_case_writer_improved_batch_2_result.json
2025-08-29 10:05:31 - src.agents.test_case_writer - INFO - 已保存第2批改进后的测试用例
2025-08-29 10:05:31 - src.agents.test_case_writer - INFO - 开始处理第3批测试用例，共6个
2025-08-29 10:05:31 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:09:06 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 10:09:06 - src.agents.test_case_writer - WARNING - 尝试 1/3: 大模型未返回有效的测试用例，将重试
2025-08-29 10:09:06 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:12:38 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 10:12:38 - src.agents.test_case_writer - WARNING - 尝试 2/3: 大模型未返回有效的测试用例，将重试
2025-08-29 10:12:38 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:16:14 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 10:16:14 - src.agents.test_case_writer - WARNING - 尝试 3/3: 大模型未返回有效的测试用例，将重试
2025-08-29 10:16:14 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-29 10:16:14 - src.agents.test_case_writer - INFO - 第3批测试用例改进完成
2025-08-29 10:16:14 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_3的执行结果到agent_results/test_case_writer_improved_batch_3_result.json
2025-08-29 10:16:14 - src.agents.test_case_writer - INFO - 已保存第3批改进后的测试用例
2025-08-29 10:16:14 - src.agents.test_case_writer - INFO - 开始处理第4批测试用例，共6个
2025-08-29 10:16:14 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:19:57 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 10:19:57 - src.agents.test_case_writer - WARNING - 尝试 1/3: 大模型未返回有效的测试用例，将重试
2025-08-29 10:19:57 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:23:32 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 10:23:32 - src.agents.test_case_writer - WARNING - 尝试 2/3: 大模型未返回有效的测试用例，将重试
2025-08-29 10:23:33 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:27:08 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 10:27:08 - src.agents.test_case_writer - WARNING - 尝试 3/3: 大模型未返回有效的测试用例，将重试
2025-08-29 10:27:08 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-29 10:27:08 - src.agents.test_case_writer - INFO - 第4批测试用例改进完成
2025-08-29 10:27:08 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_4的执行结果到agent_results/test_case_writer_improved_batch_4_result.json
2025-08-29 10:27:08 - src.agents.test_case_writer - INFO - 已保存第4批改进后的测试用例
2025-08-29 10:27:08 - src.agents.test_case_writer - INFO - 开始处理第5批测试用例，共6个
2025-08-29 10:27:08 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:29:37 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 10:29:37 - src.agents.test_case_writer - WARNING - 尝试 1/3: 大模型未返回有效的测试用例，将重试
2025-08-29 10:29:38 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:32:24 - src.agents.test_case_writer - ERROR - JSON解析错误: Expecting value: line 346 column 8 (char 8133)
2025-08-29 10:32:24 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 10:32:24 - src.agents.test_case_writer - WARNING - 尝试 2/3: 大模型未返回有效的测试用例，将重试
2025-08-29 10:32:24 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:35:57 - src.agents.test_case_writer - ERROR - JSON解析错误: Expecting value: line 254 column 8 (char 6452)
2025-08-29 10:35:57 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 10:35:57 - src.agents.test_case_writer - WARNING - 尝试 3/3: 大模型未返回有效的测试用例，将重试
2025-08-29 10:35:57 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-29 10:35:57 - src.agents.test_case_writer - INFO - 第5批测试用例改进完成
2025-08-29 10:35:57 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_5的执行结果到agent_results/test_case_writer_improved_batch_5_result.json
2025-08-29 10:35:57 - src.agents.test_case_writer - INFO - 已保存第5批改进后的测试用例
2025-08-29 10:35:57 - src.agents.test_case_writer - INFO - 开始处理第6批测试用例，共6个
2025-08-29 10:35:57 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:39:52 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 10:39:52 - src.agents.test_case_writer - WARNING - 尝试 1/3: 大模型未返回有效的测试用例，将重试
2025-08-29 10:39:52 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:43:31 - src.agents.test_case_writer - INFO - 成功使用大模型改进 16 个测试用例
2025-08-29 10:43:31 - src.agents.test_case_writer - INFO - 第6批测试用例改进完成
2025-08-29 10:43:31 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_6的执行结果到agent_results/test_case_writer_improved_batch_6_result.json
2025-08-29 10:43:31 - src.agents.test_case_writer - INFO - 已保存第6批改进后的测试用例
2025-08-29 10:43:31 - src.agents.test_case_writer - INFO - 开始处理第7批测试用例，共6个
2025-08-29 10:43:31 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:46:35 - src.agents.test_case_writer - INFO - 成功使用大模型改进 17 个测试用例
2025-08-29 10:46:35 - src.agents.test_case_writer - INFO - 第7批测试用例改进完成
2025-08-29 10:46:35 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_7的执行结果到agent_results/test_case_writer_improved_batch_7_result.json
2025-08-29 10:46:35 - src.agents.test_case_writer - INFO - 已保存第7批改进后的测试用例
2025-08-29 10:46:35 - src.agents.test_case_writer - INFO - 开始处理第8批测试用例，共6个
2025-08-29 10:46:35 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:49:52 - src.agents.test_case_writer - ERROR - JSON解析错误: Expecting value: line 270 column 8 (char 7266)
2025-08-29 10:49:52 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 10:49:52 - src.agents.test_case_writer - WARNING - 尝试 1/3: 大模型未返回有效的测试用例，将重试
2025-08-29 10:49:53 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:53:44 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 10:53:44 - src.agents.test_case_writer - WARNING - 尝试 2/3: 大模型未返回有效的测试用例，将重试
2025-08-29 10:53:44 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 10:57:49 - src.agents.test_case_writer - ERROR - JSON解析错误: Expecting value: line 279 column 8 (char 7850)
2025-08-29 10:57:49 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 10:57:49 - src.agents.test_case_writer - WARNING - 尝试 3/3: 大模型未返回有效的测试用例，将重试
2025-08-29 10:57:49 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-29 10:57:49 - src.agents.test_case_writer - INFO - 第8批测试用例改进完成
2025-08-29 10:57:49 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_8的执行结果到agent_results/test_case_writer_improved_batch_8_result.json
2025-08-29 10:57:49 - src.agents.test_case_writer - INFO - 已保存第8批改进后的测试用例
2025-08-29 10:57:49 - src.agents.test_case_writer - INFO - 开始处理第9批测试用例，共6个
2025-08-29 10:57:49 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 11:01:25 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 11:01:25 - src.agents.test_case_writer - WARNING - 尝试 1/3: 大模型未返回有效的测试用例，将重试
2025-08-29 11:01:25 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 11:05:05 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 11:05:05 - src.agents.test_case_writer - WARNING - 尝试 2/3: 大模型未返回有效的测试用例，将重试
2025-08-29 11:05:05 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 11:08:38 - src.agents.test_case_writer - ERROR - JSON解析错误: Expecting value: line 188 column 8 (char 5036)
2025-08-29 11:08:38 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 11:08:38 - src.agents.test_case_writer - WARNING - 尝试 3/3: 大模型未返回有效的测试用例，将重试
2025-08-29 11:08:38 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-29 11:08:38 - src.agents.test_case_writer - INFO - 第9批测试用例改进完成
2025-08-29 11:08:38 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_9的执行结果到agent_results/test_case_writer_improved_batch_9_result.json
2025-08-29 11:08:38 - src.agents.test_case_writer - INFO - 已保存第9批改进后的测试用例
2025-08-29 11:08:38 - src.agents.test_case_writer - INFO - 开始处理第10批测试用例，共6个
2025-08-29 11:08:38 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 11:11:45 - src.agents.test_case_writer - ERROR - JSON解析错误: Expecting value: line 153 column 16 (char 5772)
2025-08-29 11:11:45 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 11:11:45 - src.agents.test_case_writer - WARNING - 尝试 1/3: 大模型未返回有效的测试用例，将重试
2025-08-29 11:11:45 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 11:15:08 - src.agents.test_case_writer - ERROR - JSON解析错误: Expecting value: line 273 column 16 (char 9954)
2025-08-29 11:15:08 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 11:15:08 - src.agents.test_case_writer - WARNING - 尝试 2/3: 大模型未返回有效的测试用例，将重试
2025-08-29 11:15:08 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 11:18:15 - src.agents.test_case_writer - ERROR - JSON解析错误: Expecting value: line 176 column 8 (char 4692)
2025-08-29 11:18:15 - src.agents.test_case_writer - WARNING - 无法从响应中提取有效的测试用例
2025-08-29 11:18:15 - src.agents.test_case_writer - WARNING - 尝试 3/3: 大模型未返回有效的测试用例，将重试
2025-08-29 11:18:15 - src.agents.test_case_writer - WARNING - 所有重试都失败，返回原始测试用例
2025-08-29 11:18:15 - src.agents.test_case_writer - INFO - 第10批测试用例改进完成
2025-08-29 11:18:15 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_10的执行结果到agent_results/test_case_writer_improved_batch_10_result.json
2025-08-29 11:18:15 - src.agents.test_case_writer - INFO - 已保存第10批改进后的测试用例
2025-08-29 11:18:15 - src.agents.test_case_writer - INFO - 开始处理第11批测试用例，共2个
2025-08-29 11:18:15 - httpx - INFO - HTTP Request: POST https://api.deepseek.com/chat/completions "HTTP/1.1 200 OK"
2025-08-29 11:21:34 - src.agents.test_case_writer - INFO - 成功使用大模型改进 13 个测试用例
2025-08-29 11:21:34 - src.agents.test_case_writer - INFO - 第11批测试用例改进完成
2025-08-29 11:21:34 - src.utils.agent_io - INFO - 已保存test_case_writer_improved_batch_11的执行结果到agent_results/test_case_writer_improved_batch_11_result.json
2025-08-29 11:21:34 - src.agents.test_case_writer - INFO - 已保存第11批改进后的测试用例
2025-08-29 11:21:34 - src.utils.agent_io - INFO - 已保存test_case_writer的执行结果到agent_results/test_case_writer_result.json
2025-08-29 11:21:34 - src.agents.test_case_writer - INFO - 测试用例改进完成，共改进 104 个测试用例
2025-08-29 11:21:34 - src.agents.assistant - INFO - 测试用例已根据质量审查意见进行改进
2025-08-29 11:21:34 - src.utils.agent_io - INFO - 已保存test_case_writer的执行结果到agent_results/test_case_writer_result.json
2025-08-29 11:21:34 - src.agents.assistant - INFO - 改进后的测试用例已保存到agent_results目录
2025-08-29 11:21:34 - src.agents.assistant - INFO - 当前进度: 4/4 - 当前阶段: completed
2025-08-29 11:21:34 - src.agents.assistant - INFO - 协调结果是字典类型: {'content': '正确', 'role': 'assistant', 'name': 'coordinator'}
2025-08-29 11:21:34 - __main__ - INFO - 工作流程协调结果：{'status': 'completed', 'current_phase': 'completed', 'assigned_tasks': [], 'completed_tasks': ['需求分析', '测试设计', '测试用例编写', '质量保证'], 'next_steps': []}
2025-08-29 11:21:34 - src.utils.agent_io - INFO - 已加载test_case_writer的执行结果
2025-08-29 11:21:34 - __main__ - INFO - 从test_case_writer的持久化存储中加载最终的测试用例
2025-08-29 11:21:34 - __main__ - ERROR - 加载模板时出错：'dict' object is not callable
2025-08-29 11:21:34 - __main__ - INFO - 测试用例导出成功：test_cases.xlsx
2025-08-29 11:21:34 - src.agents.test_case_writer - INFO - 已删除临时改进批次文件: agent_results/test_case_writer_improved_batch_10_result.json
2025-08-29 11:21:34 - src.agents.test_case_writer - INFO - 已删除临时改进批次文件: agent_results/test_case_writer_improved_batch_9_result.json
2025-08-29 11:21:34 - src.agents.test_case_writer - INFO - 已删除临时改进批次文件: agent_results/test_case_writer_improved_batch_5_result.json
2025-08-29 11:21:34 - src.agents.test_case_writer - INFO - 已删除临时改进批次文件: agent_results/test_case_writer_improved_batch_6_result.json
2025-08-29 11:21:34 - src.agents.test_case_writer - INFO - 已删除临时改进批次文件: agent_results/test_case_writer_improved_batch_3_result.json
2025-08-29 11:21:34 - src.agents.test_case_writer - INFO - 已删除临时改进批次文件: agent_results/test_case_writer_improved_batch_4_result.json
2025-08-29 11:21:34 - src.agents.test_case_writer - INFO - 已删除临时改进批次文件: agent_results/test_case_writer_improved_batch_8_result.json
2025-08-29 11:21:34 - src.agents.test_case_writer - INFO - 已删除临时改进批次文件: agent_results/test_case_writer_improved_batch_1_result.json
2025-08-29 11:21:34 - src.agents.test_case_writer - INFO - 已删除临时改进批次文件: agent_results/test_case_writer_improved_batch_11_result.json
2025-08-29 11:21:34 - src.agents.test_case_writer - INFO - 已删除临时改进批次文件: agent_results/test_case_writer_improved_batch_2_result.json
2025-08-29 11:21:34 - src.agents.test_case_writer - INFO - 已删除临时改进批次文件: agent_results/test_case_writer_improved_batch_7_result.json
2025-08-29 11:21:34 - src.agents.test_case_writer - INFO - 所有临时改进批次文件已清理完毕，共删除 11 个文件
